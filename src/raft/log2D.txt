server 0 no snopshot yet
server 1 no snopshot yet
server 2 no snopshot yet
Test (2D): snapshots basic ...
server 1 term 0 state 0(leader false)(heartFlag false)
server 1 term 0 doesn't hear any heartbeat
server 1 convert to candidate
server 2 term 0 state 0(leader false)(heartFlag false)
server 2 term 0 doesn't hear any heartbeat
server 2 convert to candidate
server 0 term 0 state 0(leader false)(heartFlag false)
server 0 term 0 doesn't hear any heartbeat
server 0 convert to candidate
server 2 already has a voteFor 2 but not candidate 1
server 2 grant false for candidate 1's requestVote
server 1 already has a voteFor 1 but not candidate 2
server 1 grant false for candidate 2's requestVote
server 2 already has a voteFor 2 but not candidate 0
server 2 grant false for candidate 0's requestVote
server 0 already has a voteFor 0 but not candidate 1
server 0 grant false for candidate 1's requestVote
server 0 already has a voteFor 0 but not candidate 2
server 0 grant false for candidate 2's requestVote
server 1 already has a voteFor 1 but not candidate 0
server 1 grant false for candidate 0's requestVote
server 2 term 1 ElectionTimeOut
server 2 convert to candidate
server 0 convert to follower
server 1 convert to follower
server 1 grant true for candidate 2's requestVote
server 0 grant true for candidate 2's requestVote
server 2 convert to leader
server 2 term 2 send appendEntries
server 1 receives appendEntry from leader 2 prevLogIndex 0
current commitIndex 0 lastIncludedIndex 0 snapshot exists ? false
server 0 receives appendEntry from leader 2 prevLogIndex 0
current commitIndex 0 lastIncludedIndex 0 snapshot exists ? false
update server 1 's matchIndex from 0 to 0
update server 0 's matchIndex from 0 to 0
append command 5492341693211259850
len(log) = 1
server 1 receives appendEntry from leader 2 prevLogIndex 0
current commitIndex 0 lastIncludedIndex 0 snapshot exists ? false
server 0 receives appendEntry from leader 2 prevLogIndex 0
current commitIndex 0 lastIncludedIndex 0 snapshot exists ? false
update server 1 's matchIndex from 0 to 1
update server 0 's matchIndex from 0 to 1
getEntryTerm
leader server 2 commit index 1 command 5492341693211259850
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 1
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 1
getEntryTerm
current commitIndex 0 lastIncludedIndex 0 snapshot exists ? false
follower server 1 commit index 1 command 5492341693211259850 
current commitIndex 0 lastIncludedIndex 0 snapshot exists ? false
follower server 0 commit index 1 command 5492341693211259850 
update server 1 's matchIndex from 1 to 1
update server 0 's matchIndex from 1 to 1
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 1
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
server 0 receives appendEntry from leader 2 prevLogIndex 1
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
update server 1 's matchIndex from 1 to 1
update server 0 's matchIndex from 1 to 1
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 1
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
server 0 receives appendEntry from leader 2 prevLogIndex 1
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
update server 1 's matchIndex from 1 to 1
update server 0 's matchIndex from 1 to 1
server 1 term 2 state 0(leader false)(heartFlag true)
server 0 term 2 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 1
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
server 0 receives appendEntry from leader 2 prevLogIndex 1
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
update server 1 's matchIndex from 1 to 1
update server 0 's matchIndex from 1 to 1
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 1
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
server 0 receives appendEntry from leader 2 prevLogIndex 1
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
update server 1 's matchIndex from 1 to 1
update server 0 's matchIndex from 1 to 1
getEntryTerm
getEntryTerm
append command 2365812470132735415
len(log) = 2
append command 5274638493422327855
len(log) = 3
append command 8056981018785242456
server 1 receives appendEntry from leader 2 prevLogIndex 1
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
len(log) = 4
append command 8509354605284137828
len(log) = 5
append command 1741600301151487440
len(log) = 6
append command 6090918097219958070
len(log) = 7
append command 5718170619028670781
len(log) = 8
append command 5883997048170402223
len(log) = 9
append command 2285876036229733917
len(log) = 10
append command 5661044539851462250
len(log) = 11
append command 405167524846264083
len(log) = 12
append command 360137882604672672
len(log) = 13
update server 1 's matchIndex from 1 to 1
server 0 receives appendEntry from leader 2 prevLogIndex 1
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
update server 0 's matchIndex from 1 to 1
server 1 term 2 state 0(leader false)(heartFlag true)
server 0 term 2 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 1
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
server 0 receives appendEntry from leader 2 prevLogIndex 1
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
update server 1 's matchIndex from 1 to 13
update server 0 's matchIndex from 1 to 13
getEntryTerm
leader server 2 commit index 2 command 2365812470132735415
leader server 2 commit index 3 command 5274638493422327855
leader server 2 commit index 4 command 8056981018785242456
leader server 2 commit index 5 command 8509354605284137828
leader server 2 commit index 6 command 1741600301151487440
leader server 2 commit index 7 command 6090918097219958070
leader server 2 commit index 8 command 5718170619028670781
leader server 2 commit index 9 command 5883997048170402223
leader server 2 commit index 10 command 2285876036229733917
server 2 takes snopshot and discards logs before index 9
getEntryTerm
discard index before 9(included)
server 2 finished snopshot
leader server 2 commit index 11 command 5661044539851462250
leader server 2 commit index 12 command 405167524846264083
leader server 2 commit index 13 command 360137882604672672
server 2 term 2 state 2(leader true)(heartFlag false)
nextIndex
14 || 14 || 14 || 
matchIndex
13 || 13 || 13 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 13
getEntryTerm
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
server 0 receives appendEntry from leader 2 prevLogIndex 13
getEntryTerm
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
follower server 1 commit index 2 command 2365812470132735415 
follower server 1 commit index 3 command 5274638493422327855 
follower server 1 commit index 4 command 8056981018785242456 
follower server 1 commit index 5 command 8509354605284137828 
follower server 1 commit index 6 command 1741600301151487440 
follower server 1 commit index 7 command 6090918097219958070 
follower server 1 commit index 8 command 5718170619028670781 
follower server 1 commit index 9 command 5883997048170402223 
follower server 0 commit index 2 command 2365812470132735415 
follower server 0 commit index 3 command 5274638493422327855 
follower server 0 commit index 4 command 8056981018785242456 
follower server 0 commit index 5 command 8509354605284137828 
follower server 0 commit index 6 command 1741600301151487440 
follower server 0 commit index 7 command 6090918097219958070 
server 1 takes snopshot and discards logs before index 9
follower server 0 commit index 8 command 5718170619028670781 
getEntryTerm
follower server 0 commit index 9 command 5883997048170402223 
discard index before 9(included)
follower server 1 commit index 10 command 2285876036229733917 
server 0 takes snopshot and discards logs before index 9
getEntryTerm
discard index before 9(included)
server 1 finished snopshot
follower server 1 commit index 11 command 5661044539851462250 
server 0 finished snopshot
follower server 1 commit index 12 command 405167524846264083 
follower server 1 commit index 13 command 360137882604672672 
follower server 0 commit index 10 command 2285876036229733917 
follower server 0 commit index 11 command 5661044539851462250 
follower server 0 commit index 12 command 405167524846264083 
follower server 0 commit index 13 command 360137882604672672 
update server 1 's matchIndex from 13 to 13
update server 0 's matchIndex from 13 to 13
append command 1605113922063975971
len(log) = 14
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 13
current commitIndex 13 lastIncludedIndex 9 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 13
current commitIndex 13 lastIncludedIndex 9 snapshot exists ? true
update server 1 's matchIndex from 13 to 14
update server 0 's matchIndex from 13 to 14
getEntryTerm
leader server 2 commit index 14 command 1605113922063975971
server 1 term 2 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 14
getEntryTerm
current commitIndex 13 lastIncludedIndex 9 snapshot exists ? true
follower server 0 commit index 14 command 1605113922063975971 
server 1 receives appendEntry from leader 2 prevLogIndex 14
getEntryTerm
current commitIndex 13 lastIncludedIndex 9 snapshot exists ? true
follower server 1 commit index 14 command 1605113922063975971 
update server 0 's matchIndex from 14 to 14
update server 1 's matchIndex from 14 to 14
server 0 term 2 state 0(leader false)(heartFlag true)
append command 921329760462154774
len(log) = 15
append command 2097087637778123869
len(log) = 16
append command 4550659787612134
len(log) = 17
append command 6099624699828776653
len(log) = 18
append command 5275088726192099084
len(log) = 19
append command 2621085523985924635
len(log) = 20
append command 1878199888754465283
len(log) = 21
append command 3019579796052133453
len(log) = 22
append command 5833789225923212156
len(log) = 23
server 2 term 2 state 2(leader true)(heartFlag false)
nextIndex
15 || 15 || 24 || 
matchIndex
14 || 14 || 23 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 14
current commitIndex 14 lastIncludedIndex 9 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 14
current commitIndex 14 lastIncludedIndex 9 snapshot exists ? true
update server 1 's matchIndex from 14 to 23
update server 0 's matchIndex from 14 to 23
getEntryTerm
leader server 2 commit index 15 command 921329760462154774
leader server 2 commit index 16 command 2097087637778123869
leader server 2 commit index 17 command 4550659787612134
leader server 2 commit index 18 command 6099624699828776653
leader server 2 commit index 19 command 5275088726192099084
leader server 2 commit index 20 command 2621085523985924635
server 2 takes snopshot and discards logs before index 19
getEntryTerm
discard index before 19(included)
server 2 finished snopshot
leader server 2 commit index 21 command 1878199888754465283
leader server 2 commit index 22 command 3019579796052133453
leader server 2 commit index 23 command 5833789225923212156
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 23
getEntryTerm
current commitIndex 14 lastIncludedIndex 9 snapshot exists ? true
follower server 0 commit index 15 command 921329760462154774 
follower server 0 commit index 16 command 2097087637778123869 
server 1 receives appendEntry from leader 2 prevLogIndex 23
getEntryTerm
current commitIndex 14 lastIncludedIndex 9 snapshot exists ? true
follower server 0 commit index 17 command 4550659787612134 
follower server 0 commit index 18 command 6099624699828776653 
follower server 0 commit index 19 command 5275088726192099084 
follower server 0 commit index 20 command 2621085523985924635 
follower server 1 commit index 15 command 921329760462154774 
follower server 1 commit index 16 command 2097087637778123869 
follower server 1 commit index 17 command 4550659787612134 
follower server 1 commit index 18 command 6099624699828776653 
server 0 takes snopshot and discards logs before index 19
getEntryTerm
discard index before 19(included)
follower server 1 commit index 19 command 5275088726192099084 
follower server 1 commit index 20 command 2621085523985924635 
server 0 finished snopshot
follower server 0 commit index 21 command 1878199888754465283 
follower server 0 commit index 22 command 3019579796052133453 
server 1 takes snopshot and discards logs before index 19
getEntryTerm
discard index before 19(included)
follower server 0 commit index 23 command 5833789225923212156 
server 1 finished snopshot
follower server 1 commit index 21 command 1878199888754465283 
follower server 1 commit index 22 command 3019579796052133453 
follower server 1 commit index 23 command 5833789225923212156 
update server 0 's matchIndex from 23 to 23
update server 1 's matchIndex from 23 to 23
append command 3330512093446795511
len(log) = 24
append command 5010109611799877529
len(log) = 25
append command 8446892251957948997
len(log) = 26
append command 8318537721457322139
len(log) = 27
append command 8040771338893799783
len(log) = 28
append command 1139286947650231957
len(log) = 29
append command 5924624780098357674
len(log) = 30
append command 7901289549207761084
len(log) = 31
server 1 term 2 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 23
current commitIndex 23 lastIncludedIndex 19 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 23
current commitIndex 23 lastIncludedIndex 19 snapshot exists ? true
update server 1 's matchIndex from 23 to 31
update server 0 's matchIndex from 23 to 31
getEntryTerm
leader server 2 commit index 24 command 3330512093446795511
leader server 2 commit index 25 command 5010109611799877529
leader server 2 commit index 26 command 8446892251957948997
leader server 2 commit index 27 command 8318537721457322139
leader server 2 commit index 28 command 8040771338893799783
leader server 2 commit index 29 command 1139286947650231957
server 2 takes snopshot and discards logs before index 29
getEntryTerm
discard index before 29(included)
leader server 2 commit index 30 command 5924624780098357674
server 2 finished snopshot
leader server 2 commit index 31 command 7901289549207761084
server 2 term 2 state 2(leader true)(heartFlag false)
nextIndex
32 || 32 || 32 || 
matchIndex
31 || 31 || 31 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 31
getEntryTerm
current commitIndex 23 lastIncludedIndex 19 snapshot exists ? true
follower server 1 commit index 24 command 3330512093446795511 
follower server 1 commit index 25 command 5010109611799877529 
server 0 receives appendEntry from leader 2 prevLogIndex 31
getEntryTerm
current commitIndex 23 lastIncludedIndex 19 snapshot exists ? true
follower server 0 commit index 24 command 3330512093446795511 
follower server 0 commit index 25 command 5010109611799877529 
follower server 0 commit index 26 command 8446892251957948997 
follower server 0 commit index 27 command 8318537721457322139 
follower server 1 commit index 26 command 8446892251957948997 
follower server 1 commit index 27 command 8318537721457322139 
follower server 0 commit index 28 command 8040771338893799783 
follower server 0 commit index 29 command 1139286947650231957 
follower server 1 commit index 28 command 8040771338893799783 
follower server 1 commit index 29 command 1139286947650231957 
server 1 takes snopshot and discards logs before index 29
getEntryTerm
server 0 takes snopshot and discards logs before index 29
getEntryTerm
discard index before 29(included)
server 0 finished snopshot
follower server 0 commit index 30 command 5924624780098357674 
follower server 0 commit index 31 command 7901289549207761084 
discard index before 29(included)
server 1 finished snopshot
follower server 1 commit index 30 command 5924624780098357674 
follower server 1 commit index 31 command 7901289549207761084 
update server 0 's matchIndex from 31 to 31
update server 1 's matchIndex from 31 to 31
append command 1969258874503515404
server 0 term 2 state 0(leader false)(heartFlag true)
len(log) = 32
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 31
current commitIndex 31 lastIncludedIndex 29 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 31
current commitIndex 31 lastIncludedIndex 29 snapshot exists ? true
update server 0 's matchIndex from 31 to 32
update server 1 's matchIndex from 31 to 32
getEntryTerm
leader server 2 commit index 32 command 1969258874503515404
server 1 term 2 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 32
getEntryTerm
current commitIndex 31 lastIncludedIndex 29 snapshot exists ? true
follower server 0 commit index 32 command 1969258874503515404 
server 1 receives appendEntry from leader 2 prevLogIndex 32
getEntryTerm
current commitIndex 31 lastIncludedIndex 29 snapshot exists ? true
follower server 1 commit index 32 command 1969258874503515404 
update server 0 's matchIndex from 32 to 32
update server 1 's matchIndex from 32 to 32
append command 2706213625531179799
len(log) = 33
append command 7392021510172694116
len(log) = 34
append command 4548858789729804825
len(log) = 35
append command 7384884137343787105
len(log) = 36
append command 6378938500548604436
len(log) = 37
append command 7069182221980770961
len(log) = 38
append command 1407677381756907737
len(log) = 39
append command 3472741150971500352
len(log) = 40
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 32
current commitIndex 32 lastIncludedIndex 29 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 32
current commitIndex 32 lastIncludedIndex 29 snapshot exists ? true
update server 1 's matchIndex from 32 to 40
update server 0 's matchIndex from 32 to 40
getEntryTerm
leader server 2 commit index 33 command 2706213625531179799
leader server 2 commit index 34 command 7392021510172694116
leader server 2 commit index 35 command 4548858789729804825
leader server 2 commit index 36 command 7384884137343787105
leader server 2 commit index 37 command 6378938500548604436
leader server 2 commit index 38 command 7069182221980770961
leader server 2 commit index 39 command 1407677381756907737
leader server 2 commit index 40 command 3472741150971500352
server 2 takes snopshot and discards logs before index 39
getEntryTerm
discard index before 39(included)
server 2 finished snopshot
server 2 term 2 state 2(leader true)(heartFlag false)
nextIndex
41 || 41 || 41 || 
matchIndex
40 || 40 || 40 || 
server 0 term 2 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 40
getEntryTerm
current commitIndex 32 lastIncludedIndex 29 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 40
getEntryTerm
current commitIndex 32 lastIncludedIndex 29 snapshot exists ? true
follower server 1 commit index 33 command 2706213625531179799 
follower server 1 commit index 34 command 7392021510172694116 
follower server 1 commit index 35 command 4548858789729804825 
follower server 1 commit index 36 command 7384884137343787105 
follower server 1 commit index 37 command 6378938500548604436 
follower server 1 commit index 38 command 7069182221980770961 
follower server 0 commit index 33 command 2706213625531179799 
follower server 0 commit index 34 command 7392021510172694116 
follower server 0 commit index 35 command 4548858789729804825 
follower server 0 commit index 36 command 7384884137343787105 
follower server 0 commit index 37 command 6378938500548604436 
follower server 0 commit index 38 command 7069182221980770961 
follower server 0 commit index 39 command 1407677381756907737 
follower server 1 commit index 39 command 1407677381756907737 
server 0 takes snopshot and discards logs before index 39
getEntryTerm
discard index before 39(included)
follower server 0 commit index 40 command 3472741150971500352 
server 0 finished snopshot
follower server 1 commit index 40 command 3472741150971500352 
server 1 takes snopshot and discards logs before index 39
getEntryTerm
discard index before 39(included)
server 1 finished snopshot
update server 0 's matchIndex from 40 to 40
update server 1 's matchIndex from 40 to 40
append command 6280283223511671091
len(log) = 41
append command 9021482098427270235
len(log) = 42
append command 1717625673523828265
len(log) = 43
append command 1911667774714350790
len(log) = 44
append command 9177053800911848212
len(log) = 45
append command 2592186698833459898
len(log) = 46
server 1 term 2 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 40
current commitIndex 40 lastIncludedIndex 39 snapshot exists ? true
update server 1 's matchIndex from 40 to 46
server 0 receives appendEntry from leader 2 prevLogIndex 40
current commitIndex 40 lastIncludedIndex 39 snapshot exists ? true
update server 0 's matchIndex from 40 to 46
getEntryTerm
leader server 2 commit index 41 command 6280283223511671091
leader server 2 commit index 42 command 9021482098427270235
leader server 2 commit index 43 command 1717625673523828265
leader server 2 commit index 44 command 1911667774714350790
leader server 2 commit index 45 command 9177053800911848212
leader server 2 commit index 46 command 2592186698833459898
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 46
getEntryTerm
current commitIndex 40 lastIncludedIndex 39 snapshot exists ? true
follower server 1 commit index 41 command 6280283223511671091 
follower server 1 commit index 42 command 9021482098427270235 
follower server 1 commit index 43 command 1717625673523828265 
follower server 1 commit index 44 command 1911667774714350790 
follower server 1 commit index 45 command 9177053800911848212 
follower server 1 commit index 46 command 2592186698833459898 
update server 1 's matchIndex from 46 to 46
server 0 receives appendEntry from leader 2 prevLogIndex 46
getEntryTerm
current commitIndex 40 lastIncludedIndex 39 snapshot exists ? true
follower server 0 commit index 41 command 6280283223511671091 
follower server 0 commit index 42 command 9021482098427270235 
follower server 0 commit index 43 command 1717625673523828265 
follower server 0 commit index 44 command 1911667774714350790 
follower server 0 commit index 45 command 9177053800911848212 
follower server 0 commit index 46 command 2592186698833459898 
update server 0 's matchIndex from 46 to 46
append command 922835610447777318
len(log) = 47
server 2 term 2 state 2(leader true)(heartFlag false)
nextIndex
47 || 47 || 48 || 
matchIndex
46 || 46 || 47 || 
server 0 term 2 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 46
current commitIndex 46 lastIncludedIndex 39 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 46
current commitIndex 46 lastIncludedIndex 39 snapshot exists ? true
update server 0 's matchIndex from 46 to 47
update server 1 's matchIndex from 46 to 47
getEntryTerm
leader server 2 commit index 47 command 922835610447777318
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 47
getEntryTerm
current commitIndex 46 lastIncludedIndex 39 snapshot exists ? true
follower server 1 commit index 47 command 922835610447777318 
update server 1 's matchIndex from 47 to 47
server 0 receives appendEntry from leader 2 prevLogIndex 47
getEntryTerm
current commitIndex 46 lastIncludedIndex 39 snapshot exists ? true
follower server 0 commit index 47 command 922835610447777318 
update server 0 's matchIndex from 47 to 47
append command 3050212044941061310
len(log) = 48
append command 2010450476231336717
len(log) = 49
append command 1803604042961238718
len(log) = 50
append command 1382705296156869729
len(log) = 51
append command 4153447433809726247
len(log) = 52
append command 7191969827275086480
len(log) = 53
append command 5919623766729811742
len(log) = 54
append command 883703667251681293
len(log) = 55
server 2 term 2 state 2(leader true)(heartFlag false)
nextIndex
48 || 48 || 56 || 
matchIndex
47 || 47 || 55 || 
server 1 term 2 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 47
current commitIndex 47 lastIncludedIndex 39 snapshot exists ? true
update server 0 's matchIndex from 47 to 55
server 1 receives appendEntry from leader 2 prevLogIndex 47
current commitIndex 47 lastIncludedIndex 39 snapshot exists ? true
update server 1 's matchIndex from 47 to 55
getEntryTerm
leader server 2 commit index 48 command 3050212044941061310
leader server 2 commit index 49 command 2010450476231336717
server 2 takes snopshot and discards logs before index 49
getEntryTerm
discard index before 49(included)
server 2 finished snopshot
leader server 2 commit index 50 command 1803604042961238718
leader server 2 commit index 51 command 1382705296156869729
leader server 2 commit index 52 command 4153447433809726247
leader server 2 commit index 53 command 7191969827275086480
leader server 2 commit index 54 command 5919623766729811742
leader server 2 commit index 55 command 883703667251681293
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 55
getEntryTerm
current commitIndex 47 lastIncludedIndex 39 snapshot exists ? true
follower server 1 commit index 48 command 3050212044941061310 
server 0 receives appendEntry from leader 2 prevLogIndex 55
getEntryTerm
current commitIndex 47 lastIncludedIndex 39 snapshot exists ? true
follower server 0 commit index 48 command 3050212044941061310 
follower server 0 commit index 49 command 2010450476231336717 
follower server 1 commit index 49 command 2010450476231336717 
follower server 1 commit index 50 command 1803604042961238718 
server 0 takes snopshot and discards logs before index 49
getEntryTerm
discard index before 49(included)
server 0 finished snopshot
follower server 0 commit index 50 command 1803604042961238718 
follower server 0 commit index 51 command 1382705296156869729 
follower server 0 commit index 52 command 4153447433809726247 
follower server 0 commit index 53 command 7191969827275086480 
server 1 takes snopshot and discards logs before index 49
getEntryTerm
discard index before 49(included)
server 1 finished snopshot
follower server 1 commit index 51 command 1382705296156869729 
follower server 1 commit index 52 command 4153447433809726247 
follower server 1 commit index 53 command 7191969827275086480 
follower server 1 commit index 54 command 5919623766729811742 
follower server 1 commit index 55 command 883703667251681293 
follower server 0 commit index 54 command 5919623766729811742 
follower server 0 commit index 55 command 883703667251681293 
update server 1 's matchIndex from 55 to 55
update server 0 's matchIndex from 55 to 55
append command 74077451560685694
len(log) = 56
append command 934608943040464557
len(log) = 57
append command 227619798332552424
len(log) = 58
append command 5625804257137128999
len(log) = 59
append command 6417562345747238472
len(log) = 60
append command 284062074430168939
len(log) = 61
append command 1975288907965725722
len(log) = 62
append command 5442351403250705993
len(log) = 63
append command 1366489476565915356
len(log) = 64
server 0 term 2 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 55
current commitIndex 55 lastIncludedIndex 49 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 55
current commitIndex 55 lastIncludedIndex 49 snapshot exists ? true
update server 1 's matchIndex from 55 to 64
update server 0 's matchIndex from 55 to 64
getEntryTerm
leader server 2 commit index 56 command 74077451560685694
leader server 2 commit index 57 command 934608943040464557
leader server 2 commit index 58 command 227619798332552424
leader server 2 commit index 59 command 5625804257137128999
leader server 2 commit index 60 command 6417562345747238472
server 2 takes snopshot and discards logs before index 59
getEntryTerm
discard index before 59(included)
server 2 finished snopshot
leader server 2 commit index 61 command 284062074430168939
leader server 2 commit index 62 command 1975288907965725722
leader server 2 commit index 63 command 5442351403250705993
leader server 2 commit index 64 command 1366489476565915356
server 1 term 2 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 64
getEntryTerm
current commitIndex 55 lastIncludedIndex 49 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 64
getEntryTerm
follower server 1 commit index 56 command 74077451560685694 
follower server 1 commit index 57 command 934608943040464557 
current commitIndex 55 lastIncludedIndex 49 snapshot exists ? true
follower server 0 commit index 56 command 74077451560685694 
follower server 0 commit index 57 command 934608943040464557 
follower server 0 commit index 58 command 227619798332552424 
follower server 0 commit index 59 command 5625804257137128999 
follower server 1 commit index 58 command 227619798332552424 
follower server 1 commit index 59 command 5625804257137128999 
server 0 takes snopshot and discards logs before index 59
getEntryTerm
discard index before 59(included)
server 0 finished snopshot
follower server 0 commit index 60 command 6417562345747238472 
follower server 0 commit index 61 command 284062074430168939 
follower server 0 commit index 62 command 1975288907965725722 
server 1 takes snopshot and discards logs before index 59
getEntryTerm
discard index before 59(included)
server 1 finished snopshot
follower server 1 commit index 60 command 6417562345747238472 
follower server 1 commit index 61 command 284062074430168939 
follower server 0 commit index 63 command 5442351403250705993 
follower server 0 commit index 64 command 1366489476565915356 
follower server 1 commit index 62 command 1975288907965725722 
follower server 1 commit index 63 command 5442351403250705993 
follower server 1 commit index 64 command 1366489476565915356 
update server 0 's matchIndex from 64 to 64
update server 1 's matchIndex from 64 to 64
append command 7258917726308218630
len(log) = 65
server 2 term 2 state 2(leader true)(heartFlag false)
nextIndex
65 || 65 || 66 || 
matchIndex
64 || 64 || 65 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 64
current commitIndex 64 lastIncludedIndex 59 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 64
current commitIndex 64 lastIncludedIndex 59 snapshot exists ? true
update server 1 's matchIndex from 64 to 65
update server 0 's matchIndex from 64 to 65
getEntryTerm
leader server 2 commit index 65 command 7258917726308218630
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 65
getEntryTerm
current commitIndex 64 lastIncludedIndex 59 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 65
getEntryTerm
current commitIndex 64 lastIncludedIndex 59 snapshot exists ? true
follower server 1 commit index 65 command 7258917726308218630 
follower server 0 commit index 65 command 7258917726308218630 
update server 1 's matchIndex from 65 to 65
update server 0 's matchIndex from 65 to 65
append command 1961555805306053219
len(log) = 66
append command 4883848286595494505
len(log) = 67
append command 2821908160177248839
len(log) = 68
append command 9205006116088394170
len(log) = 69
append command 3344215754417151183
len(log) = 70
append command 3563130036380919403
len(log) = 71
append command 1645306225552470723
len(log) = 72
append command 4869544501203051007
len(log) = 73
append command 4164853039770985103
len(log) = 74
append command 1227815469390751209
len(log) = 75
append command 3239616602717804612
len(log) = 76
append command 8771308774895724729
len(log) = 77
append command 7647579380930333934
len(log) = 78
append command 5223175223984620069
len(log) = 79
append command 7259947080515877538
len(log) = 80
server 0 term 2 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 65
current commitIndex 65 lastIncludedIndex 59 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 65
current commitIndex 65 lastIncludedIndex 59 snapshot exists ? true
update server 1 's matchIndex from 65 to 80
update server 0 's matchIndex from 65 to 80
getEntryTerm
leader server 2 commit index 66 command 1961555805306053219
leader server 2 commit index 67 command 4883848286595494505
leader server 2 commit index 68 command 2821908160177248839
leader server 2 commit index 69 command 9205006116088394170
server 2 takes snopshot and discards logs before index 69
getEntryTerm
discard index before 69(included)
server 2 finished snopshot
leader server 2 commit index 70 command 3344215754417151183
leader server 2 commit index 71 command 3563130036380919403
leader server 2 commit index 72 command 1645306225552470723
leader server 2 commit index 73 command 4869544501203051007
leader server 2 commit index 74 command 4164853039770985103
leader server 2 commit index 75 command 1227815469390751209
leader server 2 commit index 76 command 3239616602717804612
leader server 2 commit index 77 command 8771308774895724729
leader server 2 commit index 78 command 7647579380930333934
leader server 2 commit index 79 command 5223175223984620069
server 2 takes snopshot and discards logs before index 79
getEntryTerm
discard index before 79(included)
server 2 finished snopshot
leader server 2 commit index 80 command 7259947080515877538
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 80
getEntryTerm
current commitIndex 65 lastIncludedIndex 59 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 80
getEntryTerm
current commitIndex 65 lastIncludedIndex 59 snapshot exists ? true
follower server 0 commit index 66 command 1961555805306053219 
follower server 0 commit index 67 command 4883848286595494505 
follower server 1 commit index 66 command 1961555805306053219 
follower server 1 commit index 67 command 4883848286595494505 
follower server 1 commit index 68 command 2821908160177248839 
follower server 1 commit index 69 command 9205006116088394170 
follower server 0 commit index 68 command 2821908160177248839 
follower server 0 commit index 69 command 9205006116088394170 
server 1 takes snopshot and discards logs before index 69
getEntryTerm
discard index before 69(included)
follower server 0 commit index 70 command 3344215754417151183 
server 1 finished snopshot
follower server 1 commit index 70 command 3344215754417151183 
follower server 1 commit index 71 command 3563130036380919403 
follower server 1 commit index 72 command 1645306225552470723 
server 0 takes snopshot and discards logs before index 69
getEntryTerm
discard index before 69(included)
server 0 finished snopshot
follower server 1 commit index 73 command 4869544501203051007 
follower server 1 commit index 74 command 4164853039770985103 
follower server 0 commit index 71 command 3563130036380919403 
follower server 0 commit index 72 command 1645306225552470723 
follower server 0 commit index 73 command 4869544501203051007 
follower server 1 commit index 75 command 1227815469390751209 
follower server 1 commit index 76 command 3239616602717804612 
follower server 1 commit index 77 command 8771308774895724729 
follower server 0 commit index 74 command 4164853039770985103 
follower server 0 commit index 75 command 1227815469390751209 
follower server 1 commit index 78 command 7647579380930333934 
follower server 1 commit index 79 command 5223175223984620069 
follower server 0 commit index 76 command 3239616602717804612 
follower server 0 commit index 77 command 8771308774895724729 
follower server 0 commit index 78 command 7647579380930333934 
follower server 0 commit index 79 command 5223175223984620069 
follower server 1 commit index 80 command 7259947080515877538 
server 1 takes snopshot and discards logs before index 79
getEntryTerm
server 0 takes snopshot and discards logs before index 79
getEntryTerm
discard index before 79(included)
discard index before 79(included)
server 1 finished snopshot
server 0 finished snopshot
follower server 0 commit index 80 command 7259947080515877538 
server 1 term 2 state 0(leader false)(heartFlag true)
update server 1 's matchIndex from 80 to 80
update server 0 's matchIndex from 80 to 80
append command 8789718122951934057
len(log) = 81
append command 5968212421319664548
len(log) = 82
append command 2266008803714317440
len(log) = 83
append command 727271150646495457
len(log) = 84
append command 4662941956206717301
len(log) = 85
append command 7723846953071214789
len(log) = 86
append command 8065942816628665937
len(log) = 87
server 2 term 2 state 2(leader true)(heartFlag false)
nextIndex
81 || 81 || 88 || 
matchIndex
80 || 80 || 87 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 80
current commitIndex 80 lastIncludedIndex 79 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 80
current commitIndex 80 lastIncludedIndex 79 snapshot exists ? true
update server 1 's matchIndex from 80 to 87
update server 0 's matchIndex from 80 to 87
getEntryTerm
leader server 2 commit index 81 command 8789718122951934057
leader server 2 commit index 82 command 5968212421319664548
leader server 2 commit index 83 command 2266008803714317440
leader server 2 commit index 84 command 727271150646495457
leader server 2 commit index 85 command 4662941956206717301
leader server 2 commit index 86 command 7723846953071214789
leader server 2 commit index 87 command 8065942816628665937
server 0 term 2 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 87
getEntryTerm
current commitIndex 80 lastIncludedIndex 79 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 87
getEntryTerm
current commitIndex 80 lastIncludedIndex 79 snapshot exists ? true
follower server 0 commit index 81 command 8789718122951934057 
follower server 0 commit index 82 command 5968212421319664548 
follower server 0 commit index 83 command 2266008803714317440 
follower server 0 commit index 84 command 727271150646495457 
follower server 1 commit index 81 command 8789718122951934057 
follower server 1 commit index 82 command 5968212421319664548 
follower server 1 commit index 83 command 2266008803714317440 
follower server 1 commit index 84 command 727271150646495457 
follower server 1 commit index 85 command 4662941956206717301 
follower server 1 commit index 86 command 7723846953071214789 
follower server 0 commit index 85 command 4662941956206717301 
follower server 1 commit index 87 command 8065942816628665937 
follower server 0 commit index 86 command 7723846953071214789 
follower server 0 commit index 87 command 8065942816628665937 
update server 1 's matchIndex from 87 to 87
update server 0 's matchIndex from 87 to 87
append command 3605448508565006861
len(log) = 88
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 87
current commitIndex 87 lastIncludedIndex 79 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 87
current commitIndex 87 lastIncludedIndex 79 snapshot exists ? true
update server 1 's matchIndex from 87 to 88
update server 0 's matchIndex from 87 to 88
getEntryTerm
leader server 2 commit index 88 command 3605448508565006861
server 1 term 2 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 88
getEntryTerm
current commitIndex 87 lastIncludedIndex 79 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 88
getEntryTerm
current commitIndex 87 lastIncludedIndex 79 snapshot exists ? true
follower server 1 commit index 88 command 3605448508565006861 
follower server 0 commit index 88 command 3605448508565006861 
update server 1 's matchIndex from 88 to 88
update server 0 's matchIndex from 88 to 88
append command 8838009809340691009
len(log) = 89
append command 1547919165366920021
len(log) = 90
append command 5737034808919642957
len(log) = 91
append command 1625632833056285763
len(log) = 92
append command 5709357644330796385
len(log) = 93
append command 8609187058076355773
len(log) = 94
append command 4374387649418878103
len(log) = 95
append command 5125831681017739751
len(log) = 96
append command 6438506121209060822
len(log) = 97
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 88
current commitIndex 88 lastIncludedIndex 79 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 88
current commitIndex 88 lastIncludedIndex 79 snapshot exists ? true
update server 1 's matchIndex from 88 to 97
update server 0 's matchIndex from 88 to 97
getEntryTerm
leader server 2 commit index 89 command 8838009809340691009
leader server 2 commit index 90 command 1547919165366920021
server 2 takes snopshot and discards logs before index 89
getEntryTerm
discard index before 89(included)
server 2 finished snopshot
leader server 2 commit index 91 command 5737034808919642957
leader server 2 commit index 92 command 1625632833056285763
leader server 2 commit index 93 command 5709357644330796385
leader server 2 commit index 94 command 8609187058076355773
leader server 2 commit index 95 command 4374387649418878103
leader server 2 commit index 96 command 5125831681017739751
leader server 2 commit index 97 command 6438506121209060822
server 2 term 2 state 2(leader true)(heartFlag false)
nextIndex
98 || 98 || 98 || 
matchIndex
97 || 97 || 97 || 
server 0 term 2 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 97
getEntryTerm
current commitIndex 88 lastIncludedIndex 79 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 97
getEntryTerm
current commitIndex 88 lastIncludedIndex 79 snapshot exists ? true
follower server 1 commit index 89 command 8838009809340691009 
follower server 1 commit index 90 command 1547919165366920021 
follower server 0 commit index 89 command 8838009809340691009 
follower server 0 commit index 90 command 1547919165366920021 
server 0 takes snopshot and discards logs before index 89
getEntryTerm
discard index before 89(included)
server 1 takes snopshot and discards logs before index 89
getEntryTerm
discard index before 89(included)
server 0 finished snopshot
follower server 0 commit index 91 command 5737034808919642957 
follower server 0 commit index 92 command 1625632833056285763 
server 1 finished snopshot
follower server 1 commit index 91 command 5737034808919642957 
follower server 1 commit index 92 command 1625632833056285763 
follower server 0 commit index 93 command 5709357644330796385 
follower server 0 commit index 94 command 8609187058076355773 
follower server 1 commit index 93 command 5709357644330796385 
follower server 1 commit index 94 command 8609187058076355773 
follower server 1 commit index 95 command 4374387649418878103 
follower server 1 commit index 96 command 5125831681017739751 
follower server 0 commit index 95 command 4374387649418878103 
follower server 0 commit index 96 command 5125831681017739751 
follower server 0 commit index 97 command 6438506121209060822 
follower server 1 commit index 97 command 6438506121209060822 
update server 0 's matchIndex from 97 to 97
update server 1 's matchIndex from 97 to 97
append command 6326762576977195711
len(log) = 98
append command 2039983042072450877
len(log) = 99
append command 6952535629118844211
len(log) = 100
append command 6623564595444127941
len(log) = 101
append command 7333918237279750486
len(log) = 102
append command 3366786060982971424
len(log) = 103
append command 5250878016255392556
len(log) = 104
append command 7545890317506929175
len(log) = 105
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 97
current commitIndex 97 lastIncludedIndex 89 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 97
current commitIndex 97 lastIncludedIndex 89 snapshot exists ? true
update server 1 's matchIndex from 97 to 105
update server 0 's matchIndex from 97 to 105
server 1 term 2 state 0(leader false)(heartFlag true)
getEntryTerm
leader server 2 commit index 98 command 6326762576977195711
leader server 2 commit index 99 command 2039983042072450877
leader server 2 commit index 100 command 6952535629118844211
server 2 takes snopshot and discards logs before index 99
getEntryTerm
discard index before 99(included)
server 2 finished snopshot
leader server 2 commit index 101 command 6623564595444127941
leader server 2 commit index 102 command 7333918237279750486
leader server 2 commit index 103 command 3366786060982971424
leader server 2 commit index 104 command 5250878016255392556
leader server 2 commit index 105 command 7545890317506929175
server 2 term 2 state 2(leader true)(heartFlag false)
nextIndex
106 || 106 || 106 || 
matchIndex
105 || 105 || 105 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 105
getEntryTerm
current commitIndex 97 lastIncludedIndex 89 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 105
getEntryTerm
follower server 1 commit index 98 command 6326762576977195711 
follower server 1 commit index 99 command 2039983042072450877 
current commitIndex 97 lastIncludedIndex 89 snapshot exists ? true
follower server 0 commit index 98 command 6326762576977195711 
follower server 0 commit index 99 command 2039983042072450877 
follower server 1 commit index 100 command 6952535629118844211 
server 1 takes snopshot and discards logs before index 99
getEntryTerm
discard index before 99(included)
server 1 finished snopshot
follower server 1 commit index 101 command 6623564595444127941 
follower server 1 commit index 102 command 7333918237279750486 
follower server 1 commit index 103 command 3366786060982971424 
follower server 1 commit index 104 command 5250878016255392556 
follower server 1 commit index 105 command 7545890317506929175 
follower server 0 commit index 100 command 6952535629118844211 
server 0 takes snopshot and discards logs before index 99
getEntryTerm
discard index before 99(included)
server 0 finished snopshot
follower server 0 commit index 101 command 6623564595444127941 
follower server 0 commit index 102 command 7333918237279750486 
follower server 0 commit index 103 command 3366786060982971424 
follower server 0 commit index 104 command 5250878016255392556 
follower server 0 commit index 105 command 7545890317506929175 
update server 1 's matchIndex from 105 to 105
update server 0 's matchIndex from 105 to 105
append command 379928179248853256
len(log) = 106
server 0 term 2 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 105
current commitIndex 105 lastIncludedIndex 99 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 105
current commitIndex 105 lastIncludedIndex 99 snapshot exists ? true
update server 0 's matchIndex from 105 to 106
update server 1 's matchIndex from 105 to 106
getEntryTerm
leader server 2 commit index 106 command 379928179248853256
server 1 term 2 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 106
getEntryTerm
current commitIndex 105 lastIncludedIndex 99 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 106
getEntryTerm
follower server 1 commit index 106 command 379928179248853256 
current commitIndex 105 lastIncludedIndex 99 snapshot exists ? true
follower server 0 commit index 106 command 379928179248853256 
update server 1 's matchIndex from 106 to 106
update server 0 's matchIndex from 106 to 106
append command 7379419640756826457
len(log) = 107
append command 3425166956231742376
len(log) = 108
append command 6114968457553680875
len(log) = 109
append command 7313814732657664840
len(log) = 110
append command 3693947975453774024
len(log) = 111
append command 4194362363408533827
len(log) = 112
append command 961777761123091213
len(log) = 113
server 2 term 2 state 2(leader true)(heartFlag false)
nextIndex
107 || 107 || 114 || 
matchIndex
106 || 106 || 113 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 106
current commitIndex 106 lastIncludedIndex 99 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 106
current commitIndex 106 lastIncludedIndex 99 snapshot exists ? true
update server 0 's matchIndex from 106 to 113
update server 1 's matchIndex from 106 to 113
getEntryTerm
leader server 2 commit index 107 command 7379419640756826457
leader server 2 commit index 108 command 3425166956231742376
leader server 2 commit index 109 command 6114968457553680875
leader server 2 commit index 110 command 7313814732657664840
server 2 takes snopshot and discards logs before index 109
getEntryTerm
discard index before 109(included)
server 2 finished snopshot
leader server 2 commit index 111 command 3693947975453774024
leader server 2 commit index 112 command 4194362363408533827
leader server 2 commit index 113 command 961777761123091213
server 0 term 2 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 113
getEntryTerm
current commitIndex 106 lastIncludedIndex 99 snapshot exists ? true
follower server 1 commit index 107 command 7379419640756826457 
server 0 receives appendEntry from leader 2 prevLogIndex 113
getEntryTerm
current commitIndex 106 lastIncludedIndex 99 snapshot exists ? true
follower server 0 commit index 107 command 7379419640756826457 
follower server 0 commit index 108 command 3425166956231742376 
follower server 1 commit index 108 command 3425166956231742376 
follower server 1 commit index 109 command 6114968457553680875 
follower server 0 commit index 109 command 6114968457553680875 
follower server 0 commit index 110 command 7313814732657664840 
follower server 1 commit index 110 command 7313814732657664840 
server 1 takes snopshot and discards logs before index 109
getEntryTerm
discard index before 109(included)
server 1 finished snopshot
follower server 1 commit index 111 command 3693947975453774024 
server 0 takes snopshot and discards logs before index 109
getEntryTerm
discard index before 109(included)
server 0 finished snopshot
follower server 0 commit index 111 command 3693947975453774024 
follower server 0 commit index 112 command 4194362363408533827 
follower server 0 commit index 113 command 961777761123091213 
follower server 1 commit index 112 command 4194362363408533827 
follower server 1 commit index 113 command 961777761123091213 
update server 0 's matchIndex from 113 to 113
update server 1 's matchIndex from 113 to 113
append command 2370986764021897319
len(log) = 114
append command 7435142297869534040
len(log) = 115
append command 6779508722539976825
len(log) = 116
append command 7743226138644993747
len(log) = 117
append command 8680385914910928443
len(log) = 118
append command 3237898527234899173
len(log) = 119
append command 8954312118468802804
len(log) = 120
append command 8041956922695177751
len(log) = 121
append command 4065599669056410355
len(log) = 122
append command 4405902137511115485
len(log) = 123
append command 5407912918692289077
len(log) = 124
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 113
current commitIndex 113 lastIncludedIndex 109 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 113
current commitIndex 113 lastIncludedIndex 109 snapshot exists ? true
update server 1 's matchIndex from 113 to 124
update server 0 's matchIndex from 113 to 124
server 1 term 2 state 0(leader false)(heartFlag true)
getEntryTerm
leader server 2 commit index 114 command 2370986764021897319
leader server 2 commit index 115 command 7435142297869534040
leader server 2 commit index 116 command 6779508722539976825
leader server 2 commit index 117 command 7743226138644993747
leader server 2 commit index 118 command 8680385914910928443
leader server 2 commit index 119 command 3237898527234899173
leader server 2 commit index 120 command 8954312118468802804
server 2 takes snopshot and discards logs before index 119
getEntryTerm
discard index before 119(included)
server 2 finished snopshot
leader server 2 commit index 121 command 8041956922695177751
leader server 2 commit index 122 command 4065599669056410355
leader server 2 commit index 123 command 4405902137511115485
leader server 2 commit index 124 command 5407912918692289077
server 2 term 2 state 2(leader true)(heartFlag false)
nextIndex
125 || 125 || 125 || 
matchIndex
124 || 124 || 124 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 124
getEntryTerm
current commitIndex 113 lastIncludedIndex 109 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 124
getEntryTerm
current commitIndex 113 lastIncludedIndex 109 snapshot exists ? true
follower server 0 commit index 114 command 2370986764021897319 
follower server 0 commit index 115 command 7435142297869534040 
follower server 0 commit index 116 command 6779508722539976825 
follower server 0 commit index 117 command 7743226138644993747 
follower server 0 commit index 118 command 8680385914910928443 
follower server 0 commit index 119 command 3237898527234899173 
follower server 1 commit index 114 command 2370986764021897319 
follower server 1 commit index 115 command 7435142297869534040 
follower server 1 commit index 116 command 6779508722539976825 
follower server 1 commit index 117 command 7743226138644993747 
follower server 1 commit index 118 command 8680385914910928443 
follower server 1 commit index 119 command 3237898527234899173 
follower server 1 commit index 120 command 8954312118468802804 
follower server 0 commit index 120 command 8954312118468802804 
server 0 takes snopshot and discards logs before index 119
getEntryTerm
discard index before 119(included)
server 0 finished snopshot
follower server 0 commit index 121 command 8041956922695177751 
follower server 0 commit index 122 command 4065599669056410355 
follower server 0 commit index 123 command 4405902137511115485 
follower server 0 commit index 124 command 5407912918692289077 
server 1 takes snopshot and discards logs before index 119
getEntryTerm
discard index before 119(included)
server 1 finished snopshot
follower server 1 commit index 121 command 8041956922695177751 
follower server 1 commit index 122 command 4065599669056410355 
update server 0 's matchIndex from 124 to 124
follower server 1 commit index 123 command 4405902137511115485 
follower server 1 commit index 124 command 5407912918692289077 
update server 1 's matchIndex from 124 to 124
append command 5488737602451616360
len(log) = 125
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 124
current commitIndex 124 lastIncludedIndex 119 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 124
current commitIndex 124 lastIncludedIndex 119 snapshot exists ? true
update server 1 's matchIndex from 124 to 125
update server 0 's matchIndex from 124 to 125
getEntryTerm
leader server 2 commit index 125 command 5488737602451616360
server 0 term 2 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 125
getEntryTerm
current commitIndex 124 lastIncludedIndex 119 snapshot exists ? true
follower server 1 commit index 125 command 5488737602451616360 
server 0 receives appendEntry from leader 2 prevLogIndex 125
getEntryTerm
current commitIndex 124 lastIncludedIndex 119 snapshot exists ? true
follower server 0 commit index 125 command 5488737602451616360 
update server 1 's matchIndex from 125 to 125
update server 0 's matchIndex from 125 to 125
append command 8828607495863246661
len(log) = 126
append command 5089081073384935030
len(log) = 127
append command 1821501660839011381
len(log) = 128
append command 8206462475159004510
len(log) = 129
append command 1832874060685426514
len(log) = 130
append command 3756783028168548323
len(log) = 131
append command 2129321042948961826
len(log) = 132
append command 8818271996585007658
len(log) = 133
append command 6836094766562157703
len(log) = 134
append command 651461227862142619
len(log) = 135
append command 5882908312438728950
len(log) = 136
append command 2303495536606829881
len(log) = 137
append command 8716879399032156264
len(log) = 138
append command 653751883066112957
len(log) = 139
append command 1234759079873848326
len(log) = 140
server 1 term 2 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 125
current commitIndex 125 lastIncludedIndex 119 snapshot exists ? true
update server 1 's matchIndex from 125 to 140
server 0 receives appendEntry from leader 2 prevLogIndex 125
current commitIndex 125 lastIncludedIndex 119 snapshot exists ? true
update server 0 's matchIndex from 125 to 140
getEntryTerm
leader server 2 commit index 126 command 8828607495863246661
leader server 2 commit index 127 command 5089081073384935030
leader server 2 commit index 128 command 1821501660839011381
leader server 2 commit index 129 command 8206462475159004510
leader server 2 commit index 130 command 1832874060685426514
server 2 takes snopshot and discards logs before index 129
getEntryTerm
discard index before 129(included)
server 2 finished snopshot
leader server 2 commit index 131 command 3756783028168548323
leader server 2 commit index 132 command 2129321042948961826
leader server 2 commit index 133 command 8818271996585007658
leader server 2 commit index 134 command 6836094766562157703
leader server 2 commit index 135 command 651461227862142619
leader server 2 commit index 136 command 5882908312438728950
leader server 2 commit index 137 command 2303495536606829881
leader server 2 commit index 138 command 8716879399032156264
leader server 2 commit index 139 command 653751883066112957
leader server 2 commit index 140 command 1234759079873848326
server 2 takes snopshot and discards logs before index 139
getEntryTerm
discard index before 139(included)
server 2 finished snopshot
server 2 term 2 state 2(leader true)(heartFlag false)
nextIndex
141 || 141 || 141 || 
matchIndex
140 || 140 || 140 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 140
getEntryTerm
current commitIndex 125 lastIncludedIndex 119 snapshot exists ? true
follower server 1 commit index 126 command 8828607495863246661 
follower server 1 commit index 127 command 5089081073384935030 
follower server 1 commit index 128 command 1821501660839011381 
follower server 1 commit index 129 command 8206462475159004510 
server 0 receives appendEntry from leader 2 prevLogIndex 140
getEntryTerm
current commitIndex 125 lastIncludedIndex 119 snapshot exists ? true
follower server 1 commit index 130 command 1832874060685426514 
follower server 0 commit index 126 command 8828607495863246661 
follower server 0 commit index 127 command 5089081073384935030 
follower server 0 commit index 128 command 1821501660839011381 
server 1 takes snopshot and discards logs before index 129
getEntryTerm
discard index before 129(included)
server 1 finished snopshot
follower server 1 commit index 131 command 3756783028168548323 
follower server 1 commit index 132 command 2129321042948961826 
follower server 1 commit index 133 command 8818271996585007658 
follower server 1 commit index 134 command 6836094766562157703 
follower server 1 commit index 135 command 651461227862142619 
follower server 1 commit index 136 command 5882908312438728950 
follower server 1 commit index 137 command 2303495536606829881 
follower server 1 commit index 138 command 8716879399032156264 
follower server 1 commit index 139 command 653751883066112957 
follower server 1 commit index 140 command 1234759079873848326 
follower server 0 commit index 129 command 8206462475159004510 
follower server 0 commit index 130 command 1832874060685426514 
server 1 takes snopshot and discards logs before index 139
getEntryTerm
discard index before 139(included)
server 1 finished snopshot
server 0 takes snopshot and discards logs before index 129
getEntryTerm
discard index before 129(included)
server 0 finished snopshot
follower server 0 commit index 131 command 3756783028168548323 
follower server 0 commit index 132 command 2129321042948961826 
follower server 0 commit index 133 command 8818271996585007658 
follower server 0 commit index 134 command 6836094766562157703 
update server 1 's matchIndex from 140 to 140
follower server 0 commit index 135 command 651461227862142619 
follower server 0 commit index 136 command 5882908312438728950 
follower server 0 commit index 137 command 2303495536606829881 
follower server 0 commit index 138 command 8716879399032156264 
follower server 0 commit index 139 command 653751883066112957 
follower server 0 commit index 140 command 1234759079873848326 
server 0 takes snopshot and discards logs before index 139
getEntryTerm
discard index before 139(included)
server 0 finished snopshot
update server 0 's matchIndex from 140 to 140
append command 1280562114102620449
len(log) = 141
append command 2288206631944024676
len(log) = 142
append command 1040730933618356635
len(log) = 143
append command 9024192308793128153
len(log) = 144
append command 6368430472164754938
len(log) = 145
append command 6798754080053474907
len(log) = 146
append command 5570978161176806679
len(log) = 147
append command 4798851891761382695
len(log) = 148
append command 6179486067306520913
len(log) = 149
append command 6693797251597838253
len(log) = 150
append command 1847164273425413545
len(log) = 151
server 0 term 2 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 140
current commitIndex 140 lastIncludedIndex 139 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 140
current commitIndex 140 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 140 to 151
update server 0 's matchIndex from 140 to 151
getEntryTerm
leader server 2 commit index 141 command 1280562114102620449
leader server 2 commit index 142 command 2288206631944024676
leader server 2 commit index 143 command 1040730933618356635
leader server 2 commit index 144 command 9024192308793128153
leader server 2 commit index 145 command 6368430472164754938
leader server 2 commit index 146 command 6798754080053474907
leader server 2 commit index 147 command 5570978161176806679
leader server 2 commit index 148 command 4798851891761382695
leader server 2 commit index 149 command 6179486067306520913
leader server 2 commit index 150 command 6693797251597838253
server 2 takes snopshot and discards logs before index 149
getEntryTerm
discard index before 149(included)
server 2 finished snopshot
leader server 2 commit index 151 command 1847164273425413545
server 1 term 2 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 151
getEntryTerm
current commitIndex 140 lastIncludedIndex 139 snapshot exists ? true
follower server 0 commit index 141 command 1280562114102620449 
follower server 0 commit index 142 command 2288206631944024676 
follower server 0 commit index 143 command 1040730933618356635 
follower server 0 commit index 144 command 9024192308793128153 
follower server 0 commit index 145 command 6368430472164754938 
follower server 0 commit index 146 command 6798754080053474907 
follower server 0 commit index 147 command 5570978161176806679 
follower server 0 commit index 148 command 4798851891761382695 
follower server 0 commit index 149 command 6179486067306520913 
follower server 0 commit index 150 command 6693797251597838253 
server 1 receives appendEntry from leader 2 prevLogIndex 151
getEntryTerm
current commitIndex 140 lastIncludedIndex 139 snapshot exists ? true
follower server 1 commit index 141 command 1280562114102620449 
follower server 1 commit index 142 command 2288206631944024676 
server 0 takes snopshot and discards logs before index 149
getEntryTerm
discard index before 149(included)
server 0 finished snopshot
follower server 0 commit index 151 command 1847164273425413545 
update server 0 's matchIndex from 151 to 151
follower server 1 commit index 143 command 1040730933618356635 
follower server 1 commit index 144 command 9024192308793128153 
follower server 1 commit index 145 command 6368430472164754938 
follower server 1 commit index 146 command 6798754080053474907 
follower server 1 commit index 147 command 5570978161176806679 
follower server 1 commit index 148 command 4798851891761382695 
follower server 1 commit index 149 command 6179486067306520913 
follower server 1 commit index 150 command 6693797251597838253 
server 1 takes snopshot and discards logs before index 149
getEntryTerm
discard index before 149(included)
server 1 finished snopshot
follower server 1 commit index 151 command 1847164273425413545 
update server 1 's matchIndex from 151 to 151
append command 2557978958791827769
len(log) = 152
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 151
current commitIndex 151 lastIncludedIndex 149 snapshot exists ? true
update server 1 's matchIndex from 151 to 152
server 0 receives appendEntry from leader 2 prevLogIndex 151
current commitIndex 151 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 151 to 152
getEntryTerm
leader server 2 commit index 152 command 2557978958791827769
server 0 term 2 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 152
getEntryTerm
current commitIndex 151 lastIncludedIndex 149 snapshot exists ? true
follower server 0 commit index 152 command 2557978958791827769 
update server 0 's matchIndex from 152 to 152
server 1 receives appendEntry from leader 2 prevLogIndex 152
getEntryTerm
current commitIndex 151 lastIncludedIndex 149 snapshot exists ? true
follower server 1 commit index 152 command 2557978958791827769 
update server 1 's matchIndex from 152 to 152
server 2 term 2 state 2(leader true)(heartFlag false)
nextIndex
153 || 153 || 153 || 
matchIndex
152 || 152 || 152 || 
append command 6096424609603713709
len(log) = 153
append command 8913462083595805493
len(log) = 154
append command 8087075102638010759
len(log) = 155
append command 4408531223138682900
len(log) = 156
append command 8466817565262130257
len(log) = 157
append command 7677654669687993636
len(log) = 158
append command 5500743261424971251
len(log) = 159
append command 2099046093151275148
len(log) = 160
append command 8776695509458465835
len(log) = 161
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 152
current commitIndex 152 lastIncludedIndex 149 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 152
current commitIndex 152 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 152 to 161
update server 1 's matchIndex from 152 to 161
getEntryTerm
leader server 2 commit index 153 command 6096424609603713709
leader server 2 commit index 154 command 8913462083595805493
leader server 2 commit index 155 command 8087075102638010759
leader server 2 commit index 156 command 4408531223138682900
leader server 2 commit index 157 command 8466817565262130257
leader server 2 commit index 158 command 7677654669687993636
leader server 2 commit index 159 command 5500743261424971251
leader server 2 commit index 160 command 2099046093151275148
server 2 takes snopshot and discards logs before index 159
getEntryTerm
discard index before 159(included)
server 2 finished snopshot
leader server 2 commit index 161 command 8776695509458465835
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 161
getEntryTerm
current commitIndex 152 lastIncludedIndex 149 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 161
getEntryTerm
current commitIndex 152 lastIncludedIndex 149 snapshot exists ? true
follower server 0 commit index 153 command 6096424609603713709 
follower server 0 commit index 154 command 8913462083595805493 
follower server 0 commit index 155 command 8087075102638010759 
follower server 1 commit index 153 command 6096424609603713709 
follower server 1 commit index 154 command 8913462083595805493 
follower server 0 commit index 156 command 4408531223138682900 
follower server 0 commit index 157 command 8466817565262130257 
follower server 0 commit index 158 command 7677654669687993636 
follower server 0 commit index 159 command 5500743261424971251 
follower server 0 commit index 160 command 2099046093151275148 
follower server 1 commit index 155 command 8087075102638010759 
follower server 1 commit index 156 command 4408531223138682900 
follower server 1 commit index 157 command 8466817565262130257 
follower server 1 commit index 158 command 7677654669687993636 
follower server 1 commit index 159 command 5500743261424971251 
follower server 1 commit index 160 command 2099046093151275148 
server 0 takes snopshot and discards logs before index 159
getEntryTerm
discard index before 159(included)
server 0 finished snopshot
follower server 0 commit index 161 command 8776695509458465835 
server 1 takes snopshot and discards logs before index 159
getEntryTerm
discard index before 159(included)
server 1 finished snopshot
update server 0 's matchIndex from 161 to 161
follower server 1 commit index 161 command 8776695509458465835 
update server 1 's matchIndex from 161 to 161
server 1 term 2 state 0(leader false)(heartFlag true)
append command 2164786186598085514
len(log) = 162
append command 8319030924264638233
len(log) = 163
append command 7003695544669661640
len(log) = 164
append command 3800767220430134230
len(log) = 165
append command 2809210671191247251
len(log) = 166
append command 1480084934280697137
len(log) = 167
append command 7981364745013204550
len(log) = 168
server 2 term 2 state 2(leader true)(heartFlag false)
nextIndex
162 || 162 || 169 || 
matchIndex
161 || 161 || 168 || 
server 0 term 2 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 161
current commitIndex 161 lastIncludedIndex 159 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 161
current commitIndex 161 lastIncludedIndex 159 snapshot exists ? true
update server 1 's matchIndex from 161 to 168
update server 0 's matchIndex from 161 to 168
getEntryTerm
leader server 2 commit index 162 command 2164786186598085514
leader server 2 commit index 163 command 8319030924264638233
leader server 2 commit index 164 command 7003695544669661640
leader server 2 commit index 165 command 3800767220430134230
leader server 2 commit index 166 command 2809210671191247251
leader server 2 commit index 167 command 1480084934280697137
leader server 2 commit index 168 command 7981364745013204550
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 168
getEntryTerm
current commitIndex 161 lastIncludedIndex 159 snapshot exists ? true
follower server 0 commit index 162 command 2164786186598085514 
follower server 0 commit index 163 command 8319030924264638233 
follower server 0 commit index 164 command 7003695544669661640 
follower server 0 commit index 165 command 3800767220430134230 
follower server 0 commit index 166 command 2809210671191247251 
follower server 0 commit index 167 command 1480084934280697137 
follower server 0 commit index 168 command 7981364745013204550 
server 1 receives appendEntry from leader 2 prevLogIndex 168
getEntryTerm
update server 0 's matchIndex from 168 to 168
current commitIndex 161 lastIncludedIndex 159 snapshot exists ? true
follower server 1 commit index 162 command 2164786186598085514 
follower server 1 commit index 163 command 8319030924264638233 
follower server 1 commit index 164 command 7003695544669661640 
follower server 1 commit index 165 command 3800767220430134230 
follower server 1 commit index 166 command 2809210671191247251 
follower server 1 commit index 167 command 1480084934280697137 
follower server 1 commit index 168 command 7981364745013204550 
update server 1 's matchIndex from 168 to 168
append command 4641772592091863821
len(log) = 169
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 168
current commitIndex 168 lastIncludedIndex 159 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 168
current commitIndex 168 lastIncludedIndex 159 snapshot exists ? true
update server 1 's matchIndex from 168 to 169
update server 0 's matchIndex from 168 to 169
getEntryTerm
leader server 2 commit index 169 command 4641772592091863821
server 2 takes snopshot and discards logs before index 169
getEntryTerm
discard index before 169(included)
server 2 finished snopshot
server 1 term 2 state 0(leader false)(heartFlag true)
server 1 receives appendEntry from leader 2 prevLogIndex 169
getEntryTerm
current commitIndex 168 lastIncludedIndex 159 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 169
getEntryTerm
current commitIndex 168 lastIncludedIndex 159 snapshot exists ? true
follower server 1 commit index 169 command 4641772592091863821 
follower server 0 commit index 169 command 4641772592091863821 
update server 1 's matchIndex from 169 to 169
update server 0 's matchIndex from 169 to 169
server 0 takes snopshot and discards logs before index 169
getEntryTerm
discard index before 169(included)
server 1 takes snopshot and discards logs before index 169
getEntryTerm
discard index before 169(included)
server 1 finished snopshot
server 0 finished snopshot
append command 7662627828557193117
len(log) = 170
append command 7599785118683325850
len(log) = 171
append command 2170150891139621147
len(log) = 172
append command 5663844718455857138
len(log) = 173
append command 644551119155775725
len(log) = 174
append command 4227718625574989093
len(log) = 175
append command 602071166414062051
len(log) = 176
append command 608521850908748024
len(log) = 177
append command 3810371030900742191
len(log) = 178
append command 42537424771822696
len(log) = 179
append command 3185050893109431370
len(log) = 180
append command 1608401160434997103
len(log) = 181
server 2 term 2 state 2(leader true)(heartFlag false)
nextIndex
170 || 170 || 182 || 
matchIndex
169 || 169 || 181 || 
server 0 term 2 state 0(leader false)(heartFlag true)
server 1 receives appendEntry from leader 2 prevLogIndex 169
current commitIndex 169 lastIncludedIndex 169 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 169
current commitIndex 169 lastIncludedIndex 169 snapshot exists ? true
update server 1 's matchIndex from 169 to 181
update server 0 's matchIndex from 169 to 181
getEntryTerm
leader server 2 commit index 170 command 7662627828557193117
leader server 2 commit index 171 command 7599785118683325850
leader server 2 commit index 172 command 2170150891139621147
leader server 2 commit index 173 command 5663844718455857138
leader server 2 commit index 174 command 644551119155775725
leader server 2 commit index 175 command 4227718625574989093
leader server 2 commit index 176 command 602071166414062051
leader server 2 commit index 177 command 608521850908748024
leader server 2 commit index 178 command 3810371030900742191
leader server 2 commit index 179 command 42537424771822696
leader server 2 commit index 180 command 3185050893109431370
server 2 takes snopshot and discards logs before index 179
getEntryTerm
discard index before 179(included)
server 2 finished snopshot
leader server 2 commit index 181 command 1608401160434997103
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 181
getEntryTerm
current commitIndex 169 lastIncludedIndex 169 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 181
getEntryTerm
current commitIndex 169 lastIncludedIndex 169 snapshot exists ? true
follower server 1 commit index 170 command 7662627828557193117 
follower server 1 commit index 171 command 7599785118683325850 
follower server 1 commit index 172 command 2170150891139621147 
follower server 1 commit index 173 command 5663844718455857138 
follower server 1 commit index 174 command 644551119155775725 
follower server 1 commit index 175 command 4227718625574989093 
follower server 1 commit index 176 command 602071166414062051 
follower server 1 commit index 177 command 608521850908748024 
follower server 0 commit index 170 command 7662627828557193117 
follower server 1 commit index 178 command 3810371030900742191 
follower server 1 commit index 179 command 42537424771822696 
follower server 0 commit index 171 command 7599785118683325850 
follower server 0 commit index 172 command 2170150891139621147 
follower server 0 commit index 173 command 5663844718455857138 
follower server 0 commit index 174 command 644551119155775725 
follower server 0 commit index 175 command 4227718625574989093 
follower server 0 commit index 176 command 602071166414062051 
follower server 1 commit index 180 command 3185050893109431370 
follower server 0 commit index 177 command 608521850908748024 
follower server 0 commit index 178 command 3810371030900742191 
follower server 0 commit index 179 command 42537424771822696 
follower server 0 commit index 180 command 3185050893109431370 
server 1 takes snopshot and discards logs before index 179
getEntryTerm
discard index before 179(included)
server 1 finished snopshot
follower server 1 commit index 181 command 1608401160434997103 
server 0 takes snopshot and discards logs before index 179
getEntryTerm
discard index before 179(included)
server 0 finished snopshot
follower server 0 commit index 181 command 1608401160434997103 
update server 1 's matchIndex from 181 to 181
update server 0 's matchIndex from 181 to 181
append command 4666021176015417750
len(log) = 182
append command 515996389527936807
len(log) = 183
append command 1565434447084094275
len(log) = 184
append command 7367247311149481270
len(log) = 185
append command 6487305458154833860
len(log) = 186
append command 8256648767988107686
len(log) = 187
append command 2809178435327824329
len(log) = 188
append command 8899719583828844896
len(log) = 189
append command 5409626640596928412
len(log) = 190
append command 2947708819427996160
len(log) = 191
append command 385343462727073067
len(log) = 192
append command 1554720824606445463
len(log) = 193
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 181
current commitIndex 181 lastIncludedIndex 179 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 181
current commitIndex 181 lastIncludedIndex 179 snapshot exists ? true
update server 1 's matchIndex from 181 to 193
update server 0 's matchIndex from 181 to 193
getEntryTerm
leader server 2 commit index 182 command 4666021176015417750
leader server 2 commit index 183 command 515996389527936807
leader server 2 commit index 184 command 1565434447084094275
leader server 2 commit index 185 command 7367247311149481270
leader server 2 commit index 186 command 6487305458154833860
leader server 2 commit index 187 command 8256648767988107686
leader server 2 commit index 188 command 2809178435327824329
leader server 2 commit index 189 command 8899719583828844896
leader server 2 commit index 190 command 5409626640596928412
server 2 takes snopshot and discards logs before index 189
getEntryTerm
discard index before 189(included)
server 2 finished snopshot
leader server 2 commit index 191 command 2947708819427996160
leader server 2 commit index 192 command 385343462727073067
leader server 2 commit index 193 command 1554720824606445463
server 0 term 2 state 0(leader false)(heartFlag true)
server 1 term 2 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 193
getEntryTerm
current commitIndex 181 lastIncludedIndex 179 snapshot exists ? true
follower server 1 commit index 182 command 4666021176015417750 
follower server 1 commit index 183 command 515996389527936807 
follower server 1 commit index 184 command 1565434447084094275 
follower server 1 commit index 185 command 7367247311149481270 
follower server 1 commit index 186 command 6487305458154833860 
follower server 1 commit index 187 command 8256648767988107686 
server 0 receives appendEntry from leader 2 prevLogIndex 193
getEntryTerm
current commitIndex 181 lastIncludedIndex 179 snapshot exists ? true
follower server 1 commit index 188 command 2809178435327824329 
follower server 1 commit index 189 command 8899719583828844896 
follower server 0 commit index 182 command 4666021176015417750 
follower server 0 commit index 183 command 515996389527936807 
follower server 0 commit index 184 command 1565434447084094275 
follower server 0 commit index 185 command 7367247311149481270 
follower server 0 commit index 186 command 6487305458154833860 
follower server 0 commit index 187 command 8256648767988107686 
follower server 0 commit index 188 command 2809178435327824329 
follower server 0 commit index 189 command 8899719583828844896 
follower server 0 commit index 190 command 5409626640596928412 
follower server 1 commit index 190 command 5409626640596928412 
server 1 takes snopshot and discards logs before index 189
getEntryTerm
discard index before 189(included)
server 1 finished snopshot
follower server 1 commit index 191 command 2947708819427996160 
follower server 1 commit index 192 command 385343462727073067 
follower server 1 commit index 193 command 1554720824606445463 
server 0 takes snopshot and discards logs before index 189
getEntryTerm
discard index before 189(included)
update server 1 's matchIndex from 193 to 193
server 0 finished snopshot
follower server 0 commit index 191 command 2947708819427996160 
follower server 0 commit index 192 command 385343462727073067 
follower server 0 commit index 193 command 1554720824606445463 
update server 0 's matchIndex from 193 to 193
server 2 term 2 state 2(leader true)(heartFlag false)
nextIndex
194 || 194 || 194 || 
matchIndex
193 || 193 || 193 || 
append command 1239578439029643167
len(log) = 194
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 193
current commitIndex 193 lastIncludedIndex 189 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 193
current commitIndex 193 lastIncludedIndex 189 snapshot exists ? true
update server 1 's matchIndex from 193 to 194
update server 0 's matchIndex from 193 to 194
getEntryTerm
leader server 2 commit index 194 command 1239578439029643167
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 194
getEntryTerm
current commitIndex 193 lastIncludedIndex 189 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 194
getEntryTerm
current commitIndex 193 lastIncludedIndex 189 snapshot exists ? true
follower server 1 commit index 194 command 1239578439029643167 
follower server 0 commit index 194 command 1239578439029643167 
update server 1 's matchIndex from 194 to 194
update server 0 's matchIndex from 194 to 194
append command 253899179499442803
len(log) = 195
append command 2342596284157123487
len(log) = 196
append command 897470479125227063
len(log) = 197
append command 1468763205184751267
len(log) = 198
append command 2082421603327371139
len(log) = 199
append command 4480560522586685760
len(log) = 200
append command 9199530111535919791
len(log) = 201
append command 5139562947899654082
len(log) = 202
append command 7107037474631578473
len(log) = 203
append command 7162278725587529657
len(log) = 204
append command 5663171798581412279
len(log) = 205
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 194
current commitIndex 194 lastIncludedIndex 189 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 194
current commitIndex 194 lastIncludedIndex 189 snapshot exists ? true
update server 0 's matchIndex from 194 to 205
update server 1 's matchIndex from 194 to 205
getEntryTerm
leader server 2 commit index 195 command 253899179499442803
leader server 2 commit index 196 command 2342596284157123487
leader server 2 commit index 197 command 897470479125227063
leader server 2 commit index 198 command 1468763205184751267
leader server 2 commit index 199 command 2082421603327371139
leader server 2 commit index 200 command 4480560522586685760
server 2 takes snopshot and discards logs before index 199
getEntryTerm
discard index before 199(included)
server 2 finished snopshot
leader server 2 commit index 201 command 9199530111535919791
leader server 2 commit index 202 command 5139562947899654082
leader server 2 commit index 203 command 7107037474631578473
leader server 2 commit index 204 command 7162278725587529657
leader server 2 commit index 205 command 5663171798581412279
server 1 term 2 state 0(leader false)(heartFlag true)
server 0 term 2 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 205
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 205
getEntryTerm
current commitIndex 194 lastIncludedIndex 189 snapshot exists ? true
current commitIndex 194 lastIncludedIndex 189 snapshot exists ? true
follower server 1 commit index 195 command 253899179499442803 
follower server 0 commit index 195 command 253899179499442803 
follower server 0 commit index 196 command 2342596284157123487 
follower server 1 commit index 196 command 2342596284157123487 
follower server 1 commit index 197 command 897470479125227063 
follower server 0 commit index 197 command 897470479125227063 
follower server 0 commit index 198 command 1468763205184751267 
follower server 0 commit index 199 command 2082421603327371139 
follower server 0 commit index 200 command 4480560522586685760 
follower server 1 commit index 198 command 1468763205184751267 
follower server 1 commit index 199 command 2082421603327371139 
follower server 1 commit index 200 command 4480560522586685760 
server 1 takes snopshot and discards logs before index 199
getEntryTerm
discard index before 199(included)
server 1 finished snopshot
follower server 1 commit index 201 command 9199530111535919791 
follower server 1 commit index 202 command 5139562947899654082 
server 0 takes snopshot and discards logs before index 199
getEntryTerm
discard index before 199(included)
follower server 1 commit index 203 command 7107037474631578473 
follower server 1 commit index 204 command 7162278725587529657 
server 0 finished snopshot
follower server 0 commit index 201 command 9199530111535919791 
follower server 0 commit index 202 command 5139562947899654082 
follower server 1 commit index 205 command 5663171798581412279 
follower server 0 commit index 203 command 7107037474631578473 
follower server 0 commit index 204 command 7162278725587529657 
follower server 0 commit index 205 command 5663171798581412279 
update server 1 's matchIndex from 205 to 205
update server 0 's matchIndex from 205 to 205
  ... Passed --   7.0  3  144   49842  205
server 0 no snopshot yet
server 0 term 0 state 0(leader false)(heartFlag false)
server 0 term 0 doesn't hear any heartbeat
server 0 convert to candidate
server 1 no snopshot yet
server 1 term 0 state 0(leader false)(heartFlag false)
server 1 term 0 doesn't hear any heartbeat
server 2 no snopshot yet
server 1 convert to candidate
Test (2D): install snapshots (disconnect) ...
server 2 term 0 state 0(leader false)(heartFlag false)
server 2 term 0 doesn't hear any heartbeat
server 2 convert to candidate
server 1 already has a voteFor 1 but not candidate 2
server 1 grant false for candidate 2's requestVote
server 0 already has a voteFor 0 but not candidate 1
server 0 grant false for candidate 1's requestVote
server 2 already has a voteFor 2 but not candidate 1
server 2 grant false for candidate 1's requestVote
server 0 already has a voteFor 0 but not candidate 2
server 0 grant false for candidate 2's requestVote
server 1 term 1 ElectionTimeOut
server 1 convert to candidate
server 0 term 1 ElectionTimeOut
server 0 convert to candidate
server 2 convert to follower
server 0 already has a voteFor 0 but not candidate 1
server 0 grant false for candidate 1's requestVote
server 2 grant true for candidate 1's requestVote
server 1 already has a voteFor 1 but not candidate 0
server 1 grant false for candidate 0's requestVote
server 2 already has a voteFor 1 but not candidate 0
server 2 grant false for candidate 0's requestVote
server 1 convert to leader
server 1 term 2 send appendEntries
server 2 receives appendEntry from leader 1 prevLogIndex 0
current commitIndex 0 lastIncludedIndex 0 snapshot exists ? false
server 0 receives appendEntry from leader 1 prevLogIndex 0
server 0 convert to follower
current commitIndex 0 lastIncludedIndex 0 snapshot exists ? false
update server 2 's matchIndex from 0 to 0
append command 3803571482027807404
len(log) = 1
update server 0 's matchIndex from 0 to 0
server 2 receives appendEntry from leader 1 prevLogIndex 0
current commitIndex 0 lastIncludedIndex 0 snapshot exists ? false
server 0 receives appendEntry from leader 1 prevLogIndex 0
current commitIndex 0 lastIncludedIndex 0 snapshot exists ? false
update server 2 's matchIndex from 0 to 1
update server 0 's matchIndex from 0 to 1
getEntryTerm
leader server 1 commit index 1 command 3803571482027807404
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 1
getEntryTerm
current commitIndex 0 lastIncludedIndex 0 snapshot exists ? false
follower server 0 commit index 1 command 3803571482027807404 
server 2 receives appendEntry from leader 1 prevLogIndex 1
getEntryTerm
current commitIndex 0 lastIncludedIndex 0 snapshot exists ? false
follower server 2 commit index 1 command 3803571482027807404 
update server 0 's matchIndex from 1 to 1
update server 2 's matchIndex from 1 to 1
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 1
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
server 2 receives appendEntry from leader 1 prevLogIndex 1
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
update server 0 's matchIndex from 1 to 1
update server 2 's matchIndex from 1 to 1
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 1
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
server 0 receives appendEntry from leader 1 prevLogIndex 1
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
update server 2 's matchIndex from 1 to 1
update server 0 's matchIndex from 1 to 1
server 2 term 2 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 1
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
server 0 receives appendEntry from leader 1 prevLogIndex 1
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
update server 2 's matchIndex from 1 to 1
update server 0 's matchIndex from 1 to 1
server 0 term 2 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 1
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
server 2 receives appendEntry from leader 1 prevLogIndex 1
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
update server 0 's matchIndex from 1 to 1
update server 2 's matchIndex from 1 to 1
append command 2394753053199303867
len(log) = 2
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 1
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
update server 0 's matchIndex from 1 to 2
getEntryTerm
leader server 1 commit index 2 command 2394753053199303867
server 1 term 2 state 2(leader true)(heartFlag false)
nextIndex
3 || 3 || 2 || 
matchIndex
2 || 2 || 1 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 2
getEntryTerm
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
follower server 0 commit index 2 command 2394753053199303867 
update server 0 's matchIndex from 2 to 2
append command 851621550826359114
len(log) = 3
append command 6317606537298494299
len(log) = 4
append command 7920760240769810586
len(log) = 5
append command 7572922870955887217
len(log) = 6
append command 1756913508415174390
len(log) = 7
append command 1429923672912780801
len(log) = 8
append command 4179523367878260115
len(log) = 9
append command 2063874738113035763
len(log) = 10
append command 4459465372336296880
len(log) = 11
append command 6386205803950705650
len(log) = 12
append command 7063051253112235596
len(log) = 13
server 2 term 2 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 2
current commitIndex 2 lastIncludedIndex 0 snapshot exists ? false
update server 0 's matchIndex from 2 to 13
server 0 term 2 state 0(leader false)(heartFlag true)
getEntryTerm
leader server 1 commit index 3 command 851621550826359114
leader server 1 commit index 4 command 6317606537298494299
leader server 1 commit index 5 command 7920760240769810586
leader server 1 commit index 6 command 7572922870955887217
leader server 1 commit index 7 command 1756913508415174390
leader server 1 commit index 8 command 1429923672912780801
leader server 1 commit index 9 command 4179523367878260115
server 1 takes snopshot and discards logs before index 9
getEntryTerm
discard index before 9(included)
leader server 1 commit index 10 command 2063874738113035763
server 1 finished snopshot
leader server 1 commit index 11 command 4459465372336296880
leader server 1 commit index 12 command 6386205803950705650
leader server 1 commit index 13 command 7063051253112235596
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 13
getEntryTerm
current commitIndex 2 lastIncludedIndex 0 snapshot exists ? false
follower server 0 commit index 3 command 851621550826359114 
follower server 0 commit index 4 command 6317606537298494299 
follower server 0 commit index 5 command 7920760240769810586 
follower server 0 commit index 6 command 7572922870955887217 
follower server 0 commit index 7 command 1756913508415174390 
follower server 0 commit index 8 command 1429923672912780801 
follower server 0 commit index 9 command 4179523367878260115 
follower server 0 commit index 10 command 2063874738113035763 
server 0 takes snopshot and discards logs before index 9
getEntryTerm
discard index before 9(included)
server 0 finished snopshot
follower server 0 commit index 11 command 4459465372336296880 
follower server 0 commit index 12 command 6386205803950705650 
follower server 0 commit index 13 command 7063051253112235596 
update server 0 's matchIndex from 13 to 13
append command 3997521073324306446
len(log) = 14
server 1 term 2 state 2(leader true)(heartFlag false)
nextIndex
14 || 15 || 2 || 
matchIndex
13 || 14 || 1 || 
getEntryTerm
server 2 receives snopshot from leader 1
server 2 commit snopshot to lastIncludedIndex 9
server 0 receives appendEntry from leader 1 prevLogIndex 13
current commitIndex 13 lastIncludedIndex 9 snapshot exists ? true
update server 0 's matchIndex from 13 to 14
getEntryTerm
leader server 1 commit index 14 command 3997521073324306446
server 2 term 2 state 0(leader false)(heartFlag false)
server 2 term 2 doesn't hear any heartbeat
server 2 convert to candidate
server 1 convert to follower
getEntryTerm
server 1 thinks candidate 2 is not up-to-date
server 1 grant false for candidate 2's requestVote
server 0 convert to follower
getEntryTerm
server 0 thinks candidate 2 is not up-to-date
server 0 grant false for candidate 2's requestVote
server 0 term 3 state 0(leader false)(heartFlag true)
server 2 term 3 ElectionTimeOut
server 2 convert to candidate
server 0 convert to follower
server 1 convert to follower
getEntryTerm
server 0 thinks candidate 2 is not up-to-date
server 0 grant false for candidate 2's requestVote
getEntryTerm
server 1 thinks candidate 2 is not up-to-date
server 1 grant false for candidate 2's requestVote
server 1 term 4 state 0(leader false)(heartFlag false)
server 1 term 4 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
server 0 convert to follower
getEntryTerm
server 0 grant true for candidate 1's requestVote
server 2 grant true for candidate 1's requestVote
server 1 convert to leader
server 1 term 5 send appendEntries
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 14
lastLogIndex 9, args.PrevLogIndex 14
server 0 receives appendEntry from leader 1 prevLogIndex 14
getEntryTerm
current commitIndex 13 lastIncludedIndex 9 snapshot exists ? true
follower server 0 commit index 14 command 3997521073324306446 
update server 0 's matchIndex from 0 to 14
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 14
current commitIndex 14 lastIncludedIndex 9 snapshot exists ? true
update server 0 's matchIndex from 14 to 14
server 2 receives appendEntry from leader 1 prevLogIndex 9
current commitIndex 9 lastIncludedIndex 9 snapshot exists ? true
follower server 2 commit index 10 command 2063874738113035763 
follower server 2 commit index 11 command 4459465372336296880 
follower server 2 commit index 12 command 6386205803950705650 
follower server 2 commit index 13 command 7063051253112235596 
follower server 2 commit index 14 command 3997521073324306446 
update server 2 's matchIndex from 0 to 14
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 14
current commitIndex 14 lastIncludedIndex 9 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 14
current commitIndex 14 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 14 to 14
update server 0 's matchIndex from 14 to 14
server 0 term 5 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 14
current commitIndex 14 lastIncludedIndex 9 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 14
current commitIndex 14 lastIncludedIndex 9 snapshot exists ? true
update server 0 's matchIndex from 14 to 14
update server 2 's matchIndex from 14 to 14
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 14
current commitIndex 14 lastIncludedIndex 9 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 14
current commitIndex 14 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 14 to 14
update server 0 's matchIndex from 14 to 14
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 14
current commitIndex 14 lastIncludedIndex 9 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 14
current commitIndex 14 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 14 to 14
update server 0 's matchIndex from 14 to 14
server 0 term 5 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 14
current commitIndex 14 lastIncludedIndex 9 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 14
current commitIndex 14 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 14 to 14
update server 0 's matchIndex from 14 to 14
server 1 term 5 state 2(leader true)(heartFlag false)
nextIndex
15 || 15 || 15 || 
matchIndex
14 || 14 || 14 || 
getEntryTerm
getEntryTerm
server 2 term 5 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 5 state 2(leader true)(heartFlag false)
nextIndex
15 || 15 || 15 || 
matchIndex
14 || 14 || 14 || 
server 2 term 5 state 0(leader false)(heartFlag false)
server 2 term 5 doesn't hear any heartbeat
server 2 convert to candidate
getEntryTerm
getEntryTerm
server 0 convert to follower
getEntryTerm
server 0 grant true for candidate 2's requestVote
server 2 convert to leader
server 2 term 6 send appendEntries
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 14
current commitIndex 14 lastIncludedIndex 9 snapshot exists ? true
update server 0 's matchIndex from 0 to 14
getEntryTerm
getEntryTerm
server 0 term 6 state 0(leader false)(heartFlag true)
append command 4929572004573156260
len(log) = 15
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 14
current commitIndex 14 lastIncludedIndex 9 snapshot exists ? true
update server 0 's matchIndex from 14 to 15
getEntryTerm
leader server 2 commit index 15 command 4929572004573156260
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 15
getEntryTerm
current commitIndex 14 lastIncludedIndex 9 snapshot exists ? true
follower server 0 commit index 15 command 4929572004573156260 
update server 0 's matchIndex from 15 to 15
getEntryTerm
getEntryTerm
append command 5037482141074507940
len(log) = 16
append command 1351627494081121805
len(log) = 17
append command 5077581230807183567
len(log) = 18
append command 3243808419286724545
len(log) = 19
append command 5682416591346647054
len(log) = 20
append command 1125757621262794439
len(log) = 21
append command 8410562355929676539
len(log) = 22
append command 9204567511557630068
len(log) = 23
append command 970489582242300462
len(log) = 24
append command 3912460613878030235
len(log) = 25
append command 4858704605845950391
len(log) = 26
append command 3509686191135961283
len(log) = 27
append command 2454944831178141212
len(log) = 28
server 1 term 5 state 2(leader true)(heartFlag false)
nextIndex
15 || 15 || 15 || 
matchIndex
14 || 14 || 14 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 0 's matchIndex from 15 to 28
getEntryTerm
leader server 2 commit index 16 command 5037482141074507940
leader server 2 commit index 17 command 1351627494081121805
leader server 2 commit index 18 command 5077581230807183567
leader server 2 commit index 19 command 3243808419286724545
server 2 takes snopshot and discards logs before index 19
getEntryTerm
discard index before 19(included)
server 2 finished snopshot
leader server 2 commit index 20 command 5682416591346647054
leader server 2 commit index 21 command 1125757621262794439
leader server 2 commit index 22 command 8410562355929676539
leader server 2 commit index 23 command 9204567511557630068
leader server 2 commit index 24 command 970489582242300462
leader server 2 commit index 25 command 3912460613878030235
leader server 2 commit index 26 command 4858704605845950391
leader server 2 commit index 27 command 3509686191135961283
leader server 2 commit index 28 command 2454944831178141212
getEntryTerm
getEntryTerm
server 0 term 6 state 0(leader false)(heartFlag true)
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 28
getEntryTerm
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
follower server 0 commit index 16 command 5037482141074507940 
follower server 0 commit index 17 command 1351627494081121805 
follower server 0 commit index 18 command 5077581230807183567 
follower server 0 commit index 19 command 3243808419286724545 
server 0 takes snopshot and discards logs before index 19
getEntryTerm
discard index before 19(included)
follower server 0 commit index 20 command 5682416591346647054 
server 0 finished snopshot
follower server 0 commit index 21 command 1125757621262794439 
follower server 0 commit index 22 command 8410562355929676539 
follower server 0 commit index 23 command 9204567511557630068 
follower server 0 commit index 24 command 970489582242300462 
follower server 0 commit index 25 command 3912460613878030235 
follower server 0 commit index 26 command 4858704605845950391 
follower server 0 commit index 27 command 3509686191135961283 
follower server 0 commit index 28 command 2454944831178141212 
update server 0 's matchIndex from 28 to 28
getEntryTerm
getEntryTerm
append command 8243663004901179882
len(log) = 15
getEntryTerm
server 1 receives snopshot from leader 2
server 1 convert to follower
server 1 commit snopshot to lastIncludedIndex 19
server 0 receives appendEntry from leader 2 prevLogIndex 28
current commitIndex 28 lastIncludedIndex 19 snapshot exists ? true
update server 0 's matchIndex from 28 to 28
server 1 term 6 state 0(leader false)(heartFlag false)
server 1 term 6 doesn't hear any heartbeat
server 1 convert to candidate
server 2 convert to follower
getEntryTerm
server 2 thinks candidate 1 is not up-to-date
server 2 grant false for candidate 1's requestVote
server 0 convert to follower
getEntryTerm
server 0 thinks candidate 1 is not up-to-date
server 0 grant false for candidate 1's requestVote
server 2 term 7 state 0(leader false)(heartFlag false)
server 2 term 7 doesn't hear any heartbeat
server 2 convert to candidate
getEntryTerm
getEntryTerm
server 1 convert to follower
server 0 convert to follower
server 1 grant true for candidate 2's requestVote
getEntryTerm
server 0 grant true for candidate 2's requestVote
server 2 convert to leader
server 2 term 8 send appendEntries
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 28
lastLogIndex 19, args.PrevLogIndex 28
server 0 receives appendEntry from leader 2 prevLogIndex 28
current commitIndex 28 lastIncludedIndex 19 snapshot exists ? true
update server 0 's matchIndex from 0 to 28
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 28
current commitIndex 28 lastIncludedIndex 19 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 19
current commitIndex 19 lastIncludedIndex 19 snapshot exists ? true
follower server 1 commit index 20 command 5682416591346647054 
follower server 1 commit index 21 command 1125757621262794439 
follower server 1 commit index 22 command 8410562355929676539 
follower server 1 commit index 23 command 9204567511557630068 
follower server 1 commit index 24 command 970489582242300462 
follower server 1 commit index 25 command 3912460613878030235 
follower server 1 commit index 26 command 4858704605845950391 
follower server 1 commit index 27 command 3509686191135961283 
follower server 1 commit index 28 command 2454944831178141212 
update server 0 's matchIndex from 28 to 28
update server 1 's matchIndex from 0 to 28
server 0 term 8 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 28
current commitIndex 28 lastIncludedIndex 19 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 28
current commitIndex 28 lastIncludedIndex 19 snapshot exists ? true
update server 1 's matchIndex from 28 to 28
update server 0 's matchIndex from 28 to 28
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 28
server 0 receives appendEntry from leader 2 prevLogIndex 28
current commitIndex 28 lastIncludedIndex 19 snapshot exists ? true
current commitIndex 28 lastIncludedIndex 19 snapshot exists ? true
update server 0 's matchIndex from 28 to 28
update server 1 's matchIndex from 28 to 28
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 28
current commitIndex 28 lastIncludedIndex 19 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 28
current commitIndex 28 lastIncludedIndex 19 snapshot exists ? true
update server 0 's matchIndex from 28 to 28
update server 1 's matchIndex from 28 to 28
server 0 term 8 state 0(leader false)(heartFlag true)
server 1 term 8 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 28
current commitIndex 28 lastIncludedIndex 19 snapshot exists ? true
update server 0 's matchIndex from 28 to 28
server 1 receives appendEntry from leader 2 prevLogIndex 28
current commitIndex 28 lastIncludedIndex 19 snapshot exists ? true
update server 1 's matchIndex from 28 to 28
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 28
current commitIndex 28 lastIncludedIndex 19 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 28
current commitIndex 28 lastIncludedIndex 19 snapshot exists ? true
update server 0 's matchIndex from 28 to 28
update server 1 's matchIndex from 28 to 28
server 0 term 8 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 28
current commitIndex 28 lastIncludedIndex 19 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 28
update server 0 's matchIndex from 28 to 28
current commitIndex 28 lastIncludedIndex 19 snapshot exists ? true
update server 1 's matchIndex from 28 to 28
server 1 term 8 state 0(leader false)(heartFlag true)
server 2 term 8 state 2(leader true)(heartFlag false)
nextIndex
29 || 29 || 29 || 
matchIndex
28 || 28 || 28 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 28
current commitIndex 28 lastIncludedIndex 19 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 28
current commitIndex 28 lastIncludedIndex 19 snapshot exists ? true
update server 1 's matchIndex from 28 to 28
update server 0 's matchIndex from 28 to 28
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 28
current commitIndex 28 lastIncludedIndex 19 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 28
current commitIndex 28 lastIncludedIndex 19 snapshot exists ? true
update server 0 's matchIndex from 28 to 28
update server 1 's matchIndex from 28 to 28
server 0 term 8 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 28
current commitIndex 28 lastIncludedIndex 19 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 28
current commitIndex 28 lastIncludedIndex 19 snapshot exists ? true
update server 0 's matchIndex from 28 to 28
update server 1 's matchIndex from 28 to 28
server 2 term 8 state 2(leader true)(heartFlag false)
nextIndex
29 || 29 || 29 || 
matchIndex
28 || 28 || 28 || 
server 1 term 8 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 28
current commitIndex 28 lastIncludedIndex 19 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 28
current commitIndex 28 lastIncludedIndex 19 snapshot exists ? true
update server 0 's matchIndex from 28 to 28
update server 1 's matchIndex from 28 to 28
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 28
current commitIndex 28 lastIncludedIndex 19 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 28
current commitIndex 28 lastIncludedIndex 19 snapshot exists ? true
update server 1 's matchIndex from 28 to 28
update server 0 's matchIndex from 28 to 28
server 0 term 8 state 0(leader false)(heartFlag true)
server 2 term 8 state 2(leader true)(heartFlag false)
nextIndex
29 || 29 || 29 || 
matchIndex
28 || 28 || 28 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 28
current commitIndex 28 lastIncludedIndex 19 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 28
current commitIndex 28 lastIncludedIndex 19 snapshot exists ? true
update server 0 's matchIndex from 28 to 28
update server 1 's matchIndex from 28 to 28
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 28
current commitIndex 28 lastIncludedIndex 19 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 28
current commitIndex 28 lastIncludedIndex 19 snapshot exists ? true
update server 1 's matchIndex from 28 to 28
update server 0 's matchIndex from 28 to 28
server 1 term 8 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 28
current commitIndex 28 lastIncludedIndex 19 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 28
current commitIndex 28 lastIncludedIndex 19 snapshot exists ? true
update server 1 's matchIndex from 28 to 28
update server 0 's matchIndex from 28 to 28
server 0 term 8 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 28
current commitIndex 28 lastIncludedIndex 19 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 28
current commitIndex 28 lastIncludedIndex 19 snapshot exists ? true
update server 1 's matchIndex from 28 to 28
update server 0 's matchIndex from 28 to 28
server 2 term 8 state 2(leader true)(heartFlag false)
nextIndex
29 || 29 || 29 || 
matchIndex
28 || 28 || 28 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 28
current commitIndex 28 lastIncludedIndex 19 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 28
current commitIndex 28 lastIncludedIndex 19 snapshot exists ? true
update server 1 's matchIndex from 28 to 28
update server 0 's matchIndex from 28 to 28
append command 8243663004901179882
len(log) = 29
server 1 term 8 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 28
current commitIndex 28 lastIncludedIndex 19 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 28
current commitIndex 28 lastIncludedIndex 19 snapshot exists ? true
update server 1 's matchIndex from 28 to 29
update server 0 's matchIndex from 28 to 29
getEntryTerm
leader server 2 commit index 29 command 8243663004901179882
server 2 takes snopshot and discards logs before index 29
getEntryTerm
discard index before 29(included)
server 2 finished snopshot
server 0 term 8 state 0(leader false)(heartFlag true)
server 1 receives appendEntry from leader 2 prevLogIndex 29
getEntryTerm
current commitIndex 28 lastIncludedIndex 19 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 29
getEntryTerm
follower server 1 commit index 29 command 8243663004901179882 
current commitIndex 28 lastIncludedIndex 19 snapshot exists ? true
follower server 0 commit index 29 command 8243663004901179882 
update server 1 's matchIndex from 29 to 29
server 1 takes snopshot and discards logs before index 29
getEntryTerm
discard index before 29(included)
update server 0 's matchIndex from 29 to 29
server 1 finished snopshot
server 0 takes snopshot and discards logs before index 29
getEntryTerm
discard index before 29(included)
server 0 finished snopshot
server 1 receives appendEntry from leader 2 prevLogIndex 29
current commitIndex 29 lastIncludedIndex 29 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 29
current commitIndex 29 lastIncludedIndex 29 snapshot exists ? true
update server 1 's matchIndex from 29 to 29
update server 0 's matchIndex from 29 to 29
server 1 term 8 state 0(leader false)(heartFlag true)
server 2 term 8 state 2(leader true)(heartFlag false)
nextIndex
30 || 30 || 30 || 
matchIndex
29 || 29 || 29 || 
server 1 receives appendEntry from leader 2 prevLogIndex 29
current commitIndex 29 lastIncludedIndex 29 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 29
current commitIndex 29 lastIncludedIndex 29 snapshot exists ? true
update server 1 's matchIndex from 29 to 29
update server 0 's matchIndex from 29 to 29
server 0 term 8 state 0(leader false)(heartFlag true)
server 1 receives appendEntry from leader 2 prevLogIndex 29
current commitIndex 29 lastIncludedIndex 29 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 29
current commitIndex 29 lastIncludedIndex 29 snapshot exists ? true
update server 1 's matchIndex from 29 to 29
update server 0 's matchIndex from 29 to 29
server 1 receives appendEntry from leader 2 prevLogIndex 29
current commitIndex 29 lastIncludedIndex 29 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 29
current commitIndex 29 lastIncludedIndex 29 snapshot exists ? true
update server 1 's matchIndex from 29 to 29
update server 0 's matchIndex from 29 to 29
server 2 term 8 state 2(leader true)(heartFlag false)
nextIndex
30 || 30 || 30 || 
matchIndex
29 || 29 || 29 || 
server 1 receives appendEntry from leader 2 prevLogIndex 29
current commitIndex 29 lastIncludedIndex 29 snapshot exists ? true
update server 1 's matchIndex from 29 to 29
server 0 receives appendEntry from leader 2 prevLogIndex 29
current commitIndex 29 lastIncludedIndex 29 snapshot exists ? true
update server 0 's matchIndex from 29 to 29
append command 5495292292422288441
len(log) = 30
server 1 term 8 state 0(leader false)(heartFlag true)
server 1 receives appendEntry from leader 2 prevLogIndex 29
current commitIndex 29 lastIncludedIndex 29 snapshot exists ? true
update server 1 's matchIndex from 29 to 30
getEntryTerm
leader server 2 commit index 30 command 5495292292422288441
server 0 term 8 state 0(leader false)(heartFlag true)
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 30
getEntryTerm
current commitIndex 29 lastIncludedIndex 29 snapshot exists ? true
follower server 1 commit index 30 command 5495292292422288441 
update server 1 's matchIndex from 30 to 30
append command 2405906549421671311
len(log) = 31
append command 8543798438409296267
len(log) = 32
append command 1751793739278214346
len(log) = 33
append command 1597016228268449925
len(log) = 34
append command 6985013930954719905
len(log) = 35
append command 1315360946016897972
len(log) = 36
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 30
current commitIndex 30 lastIncludedIndex 29 snapshot exists ? true
update server 1 's matchIndex from 30 to 36
getEntryTerm
leader server 2 commit index 31 command 2405906549421671311
leader server 2 commit index 32 command 8543798438409296267
leader server 2 commit index 33 command 1751793739278214346
leader server 2 commit index 34 command 1597016228268449925
leader server 2 commit index 35 command 6985013930954719905
leader server 2 commit index 36 command 1315360946016897972
server 2 term 8 state 2(leader true)(heartFlag false)
nextIndex
30 || 37 || 37 || 
matchIndex
29 || 36 || 36 || 
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 36
getEntryTerm
current commitIndex 30 lastIncludedIndex 29 snapshot exists ? true
follower server 1 commit index 31 command 2405906549421671311 
follower server 1 commit index 32 command 8543798438409296267 
follower server 1 commit index 33 command 1751793739278214346 
follower server 1 commit index 34 command 1597016228268449925 
follower server 1 commit index 35 command 6985013930954719905 
follower server 1 commit index 36 command 1315360946016897972 
update server 1 's matchIndex from 36 to 36
server 1 term 8 state 0(leader false)(heartFlag true)
append command 8235349957120592723
len(log) = 37
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 36
current commitIndex 36 lastIncludedIndex 29 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 29
current commitIndex 29 lastIncludedIndex 29 snapshot exists ? true
follower server 0 commit index 30 command 5495292292422288441 
follower server 0 commit index 31 command 2405906549421671311 
follower server 0 commit index 32 command 8543798438409296267 
follower server 0 commit index 33 command 1751793739278214346 
update server 1 's matchIndex from 36 to 37
follower server 0 commit index 34 command 1597016228268449925 
follower server 0 commit index 35 command 6985013930954719905 
follower server 0 commit index 36 command 1315360946016897972 
update server 0 's matchIndex from 29 to 37
getEntryTerm
leader server 2 commit index 37 command 8235349957120592723
server 0 term 8 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 37
getEntryTerm
current commitIndex 36 lastIncludedIndex 29 snapshot exists ? true
follower server 1 commit index 37 command 8235349957120592723 
server 0 receives appendEntry from leader 2 prevLogIndex 37
getEntryTerm
current commitIndex 36 lastIncludedIndex 29 snapshot exists ? true
update server 1 's matchIndex from 37 to 37
follower server 0 commit index 37 command 8235349957120592723 
update server 0 's matchIndex from 37 to 37
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 37
current commitIndex 37 lastIncludedIndex 29 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 37
current commitIndex 37 lastIncludedIndex 29 snapshot exists ? true
update server 1 's matchIndex from 37 to 37
update server 0 's matchIndex from 37 to 37
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 37
server 0 receives appendEntry from leader 2 prevLogIndex 37
current commitIndex 37 lastIncludedIndex 29 snapshot exists ? true
current commitIndex 37 lastIncludedIndex 29 snapshot exists ? true
update server 0 's matchIndex from 37 to 37
update server 1 's matchIndex from 37 to 37
server 2 term 8 state 2(leader true)(heartFlag false)
nextIndex
38 || 38 || 38 || 
matchIndex
37 || 37 || 37 || 
server 0 term 8 state 0(leader false)(heartFlag true)
server 1 term 8 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 37
current commitIndex 37 lastIncludedIndex 29 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 37
current commitIndex 37 lastIncludedIndex 29 snapshot exists ? true
update server 0 's matchIndex from 37 to 37
update server 1 's matchIndex from 37 to 37
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 37
current commitIndex 37 lastIncludedIndex 29 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 37
current commitIndex 37 lastIncludedIndex 29 snapshot exists ? true
update server 0 's matchIndex from 37 to 37
update server 1 's matchIndex from 37 to 37
server 0 term 8 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 37
current commitIndex 37 lastIncludedIndex 29 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 37
current commitIndex 37 lastIncludedIndex 29 snapshot exists ? true
update server 1 's matchIndex from 37 to 37
update server 0 's matchIndex from 37 to 37
append command 4564226576269777828
len(log) = 38
server 2 term 8 state 2(leader true)(heartFlag false)
nextIndex
38 || 38 || 39 || 
matchIndex
37 || 37 || 38 || 
server 1 term 8 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 37
current commitIndex 37 lastIncludedIndex 29 snapshot exists ? true
update server 1 's matchIndex from 37 to 38
getEntryTerm
leader server 2 commit index 38 command 4564226576269777828
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 38
getEntryTerm
current commitIndex 37 lastIncludedIndex 29 snapshot exists ? true
follower server 1 commit index 38 command 4564226576269777828 
update server 1 's matchIndex from 38 to 38
append command 5852004118935072415
len(log) = 39
append command 3725316947306017473
len(log) = 40
append command 1467189021770740026
len(log) = 41
append command 2319405456325594084
len(log) = 42
append command 3048214113538269339
len(log) = 43
append command 8404262686428657395
len(log) = 44
server 0 term 8 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 38
current commitIndex 38 lastIncludedIndex 29 snapshot exists ? true
update server 1 's matchIndex from 38 to 44
server 2 term 8 state 2(leader true)(heartFlag false)
nextIndex
38 || 45 || 45 || getEntryTerm

matchIndex
37 || leader server 2 commit index 39 command 5852004118935072415
leader server 2 commit index 40 command 3725316947306017473
44 || 44 || 
server 2 takes snopshot and discards logs before index 39
getEntryTerm
discard index before 39(included)
server 2 finished snopshot
leader server 2 commit index 41 command 1467189021770740026
leader server 2 commit index 42 command 2319405456325594084
leader server 2 commit index 43 command 3048214113538269339
leader server 2 commit index 44 command 8404262686428657395
server 1 term 8 state 0(leader false)(heartFlag true)
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 44
getEntryTerm
current commitIndex 38 lastIncludedIndex 29 snapshot exists ? true
follower server 1 commit index 39 command 5852004118935072415 
follower server 1 commit index 40 command 3725316947306017473 
server 1 takes snopshot and discards logs before index 39
getEntryTerm
discard index before 39(included)
server 1 finished snopshot
follower server 1 commit index 41 command 1467189021770740026 
follower server 1 commit index 42 command 2319405456325594084 
follower server 1 commit index 43 command 3048214113538269339 
follower server 1 commit index 44 command 8404262686428657395 
update server 1 's matchIndex from 44 to 44
append command 5627877597643473988
len(log) = 45
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 44
current commitIndex 44 lastIncludedIndex 39 snapshot exists ? true
server 0 receives snopshot from leader 2
server 0 commit snopshot to lastIncludedIndex 39
update server 1 's matchIndex from 44 to 45
getEntryTerm
leader server 2 commit index 45 command 5627877597643473988
server 2 term 8 state 2(leader true)(heartFlag false)
nextIndex
40 || 46 || 46 || 
matchIndex
39 || 45 || 45 || 
server 0 term 8 state 0(leader false)(heartFlag false)
server 0 term 8 doesn't hear any heartbeat
server 0 convert to candidate
server 2 convert to follower
getEntryTerm
server 1 convert to follower
getEntryTerm
server 1 thinks candidate 0 is not up-to-date
server 1 grant false for candidate 0's requestVote
server 2 thinks candidate 0 is not up-to-date
server 2 grant false for candidate 0's requestVote
server 1 term 9 state 0(leader false)(heartFlag true)
server 2 term 9 state 0(leader false)(heartFlag false)
server 2 term 9 doesn't hear any heartbeat
server 2 convert to candidate
getEntryTerm
getEntryTerm
server 1 convert to follower
getEntryTerm
server 0 convert to follower
server 1 grant true for candidate 2's requestVote
server 0 grant true for candidate 2's requestVote
server 2 convert to leader
server 2 term 10 send appendEntries
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 45
getEntryTerm
current commitIndex 44 lastIncludedIndex 39 snapshot exists ? true
follower server 1 commit index 45 command 5627877597643473988 
server 0 receives appendEntry from leader 2 prevLogIndex 45
lastLogIndex 39, args.PrevLogIndex 45
update server 1 's matchIndex from 0 to 45
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 45
current commitIndex 45 lastIncludedIndex 39 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 39
current commitIndex 39 lastIncludedIndex 39 snapshot exists ? true
follower server 0 commit index 40 command 3725316947306017473 
follower server 0 commit index 41 command 1467189021770740026 
follower server 0 commit index 42 command 2319405456325594084 
follower server 0 commit index 43 command 3048214113538269339 
follower server 0 commit index 44 command 8404262686428657395 
follower server 0 commit index 45 command 5627877597643473988 
update server 1 's matchIndex from 45 to 45
update server 0 's matchIndex from 0 to 45
server 1 term 10 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 45
current commitIndex 45 lastIncludedIndex 39 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 45
current commitIndex 45 lastIncludedIndex 39 snapshot exists ? true
update server 0 's matchIndex from 45 to 45
update server 1 's matchIndex from 45 to 45
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 45
current commitIndex 45 lastIncludedIndex 39 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 45
current commitIndex 45 lastIncludedIndex 39 snapshot exists ? true
update server 0 's matchIndex from 45 to 45
update server 1 's matchIndex from 45 to 45
server 0 term 10 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 45
current commitIndex 45 lastIncludedIndex 39 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 45
current commitIndex 45 lastIncludedIndex 39 snapshot exists ? true
update server 1 's matchIndex from 45 to 45
update server 0 's matchIndex from 45 to 45
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 45
current commitIndex 45 lastIncludedIndex 39 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 45
current commitIndex 45 lastIncludedIndex 39 snapshot exists ? true
update server 1 's matchIndex from 45 to 45
update server 0 's matchIndex from 45 to 45
server 1 term 10 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 45
current commitIndex 45 lastIncludedIndex 39 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 45
current commitIndex 45 lastIncludedIndex 39 snapshot exists ? true
update server 1 's matchIndex from 45 to 45
update server 0 's matchIndex from 45 to 45
server 0 term 10 state 0(leader false)(heartFlag true)
server 2 term 10 state 2(leader true)(heartFlag false)
nextIndex
46 || 46 || 46 || 
matchIndex
45 || 45 || 45 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 10 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 term 10 state 2(leader true)(heartFlag false)
nextIndex
46 || 46 || 46 || 
matchIndex
45 || 45 || 45 || 
server 0 term 10 state 0(leader false)(heartFlag false)
server 0 term 10 doesn't hear any heartbeat
server 0 convert to candidate
getEntryTerm
getEntryTerm
server 1 convert to follower
getEntryTerm
server 1 grant true for candidate 0's requestVote
server 0 convert to leader
server 0 term 11 send appendEntries
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 45
current commitIndex 45 lastIncludedIndex 39 snapshot exists ? true
update server 1 's matchIndex from 0 to 45
getEntryTerm
getEntryTerm
append command 3449968358115924541
len(log) = 46
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 45
current commitIndex 45 lastIncludedIndex 39 snapshot exists ? true
update server 1 's matchIndex from 45 to 46
getEntryTerm
leader server 0 commit index 46 command 3449968358115924541
getEntryTerm
getEntryTerm
server 1 term 11 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 46
getEntryTerm
current commitIndex 45 lastIncludedIndex 39 snapshot exists ? true
follower server 1 commit index 46 command 3449968358115924541 
update server 1 's matchIndex from 46 to 46
append command 8301552364402507101
len(log) = 47
append command 3584914894662680412
len(log) = 48
append command 6669316599274559719
len(log) = 49
append command 3138296002702887139
len(log) = 50
append command 7538306889701564608
len(log) = 51
append command 4599285278826819573
len(log) = 52
getEntryTerm
getEntryTerm
server 2 term 10 state 2(leader true)(heartFlag false)
nextIndex
46 || 46 || 46 || 
matchIndex
45 || 45 || 45 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 46
current commitIndex 46 lastIncludedIndex 39 snapshot exists ? true
update server 1 's matchIndex from 46 to 52
getEntryTerm
leader server 0 commit index 47 command 8301552364402507101
leader server 0 commit index 48 command 3584914894662680412
leader server 0 commit index 49 command 6669316599274559719
leader server 0 commit index 50 command 3138296002702887139
server 0 takes snopshot and discards logs before index 49
getEntryTerm
discard index before 49(included)
server 0 finished snopshot
leader server 0 commit index 51 command 7538306889701564608
leader server 0 commit index 52 command 4599285278826819573
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 52
getEntryTerm
current commitIndex 46 lastIncludedIndex 39 snapshot exists ? true
follower server 1 commit index 47 command 8301552364402507101 
follower server 1 commit index 48 command 3584914894662680412 
follower server 1 commit index 49 command 6669316599274559719 
follower server 1 commit index 50 command 3138296002702887139 
server 1 takes snopshot and discards logs before index 49
getEntryTerm
discard index before 49(included)
server 1 finished snopshot
follower server 1 commit index 51 command 7538306889701564608 
follower server 1 commit index 52 command 4599285278826819573 
update server 1 's matchIndex from 52 to 52
append command 1472070158548923828
len(log) = 46
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 45
server 1 receives appendEntry from leader 2 prevLogIndex 45
server 2 convert to follower
server 1 term 11 state 0(leader false)(heartFlag true)
getEntryTerm
server 2 receives snopshot from leader 0
server 2 commit snopshot to lastIncludedIndex 49
server 1 receives appendEntry from leader 0 prevLogIndex 52
current commitIndex 52 lastIncludedIndex 49 snapshot exists ? true
update server 1 's matchIndex from 52 to 52
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 52
current commitIndex 52 lastIncludedIndex 49 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 49
update server 1 's matchIndex from 52 to 52
current commitIndex 49 lastIncludedIndex 49 snapshot exists ? true
follower server 2 commit index 50 command 3138296002702887139 
follower server 2 commit index 51 command 7538306889701564608 
follower server 2 commit index 52 command 4599285278826819573 
update server 2 's matchIndex from 49 to 52
server 2 term 11 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 52
current commitIndex 52 lastIncludedIndex 49 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 52
current commitIndex 52 lastIncludedIndex 49 snapshot exists ? true
update server 1 's matchIndex from 52 to 52
update server 2 's matchIndex from 52 to 52
server 0 term 11 state 2(leader true)(heartFlag false)
nextIndex
53 || 53 || 53 || 
matchIndex
52 || 52 || 52 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 52
server 1 receives appendEntry from leader 0 prevLogIndex 52
current commitIndex 52 lastIncludedIndex 49 snapshot exists ? true
current commitIndex 52 lastIncludedIndex 49 snapshot exists ? true
update server 1 's matchIndex from 52 to 52
update server 2 's matchIndex from 52 to 52
server 1 term 11 state 0(leader false)(heartFlag true)
server 2 term 11 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 52
current commitIndex 52 lastIncludedIndex 49 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 52
current commitIndex 52 lastIncludedIndex 49 snapshot exists ? true
update server 1 's matchIndex from 52 to 52
update server 2 's matchIndex from 52 to 52
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 52
current commitIndex 52 lastIncludedIndex 49 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 52
current commitIndex 52 lastIncludedIndex 49 snapshot exists ? true
update server 2 's matchIndex from 52 to 52
update server 1 's matchIndex from 52 to 52
server 0 term 11 state 2(leader true)(heartFlag false)
nextIndex
53 || 53 || 53 || 
matchIndex
52 || 52 || 52 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 52
current commitIndex 52 lastIncludedIndex 49 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 52
current commitIndex 52 lastIncludedIndex 49 snapshot exists ? true
update server 1 's matchIndex from 52 to 52
update server 2 's matchIndex from 52 to 52
server 1 term 11 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 52
current commitIndex 52 lastIncludedIndex 49 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 52
current commitIndex 52 lastIncludedIndex 49 snapshot exists ? true
update server 2 's matchIndex from 52 to 52
update server 1 's matchIndex from 52 to 52
server 2 term 11 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 52
current commitIndex 52 lastIncludedIndex 49 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 52
current commitIndex 52 lastIncludedIndex 49 snapshot exists ? true
update server 2 's matchIndex from 52 to 52
update server 1 's matchIndex from 52 to 52
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 52
current commitIndex 52 lastIncludedIndex 49 snapshot exists ? true
update server 2 's matchIndex from 52 to 52
server 1 receives appendEntry from leader 0 prevLogIndex 52
current commitIndex 52 lastIncludedIndex 49 snapshot exists ? true
update server 1 's matchIndex from 52 to 52
server 0 term 11 state 2(leader true)(heartFlag false)
nextIndex
53 || 53 || 53 || 
matchIndex
52 || 52 || 52 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 52
current commitIndex 52 lastIncludedIndex 49 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 52
current commitIndex 52 lastIncludedIndex 49 snapshot exists ? true
update server 1 's matchIndex from 52 to 52
update server 2 's matchIndex from 52 to 52
server 2 term 11 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 52
current commitIndex 52 lastIncludedIndex 49 snapshot exists ? true
update server 2 's matchIndex from 52 to 52
server 1 receives appendEntry from leader 0 prevLogIndex 52
current commitIndex 52 lastIncludedIndex 49 snapshot exists ? true
update server 1 's matchIndex from 52 to 52
server 1 term 11 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 52
current commitIndex 52 lastIncludedIndex 49 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 52
current commitIndex 52 lastIncludedIndex 49 snapshot exists ? true
update server 2 's matchIndex from 52 to 52
update server 1 's matchIndex from 52 to 52
server 0 term 11 state 2(leader true)(heartFlag false)
nextIndex
53 || 53 || 53 || 
matchIndex
52 || 52 || 52 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 52
current commitIndex 52 lastIncludedIndex 49 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 52
current commitIndex 52 lastIncludedIndex 49 snapshot exists ? true
update server 2 's matchIndex from 52 to 52
update server 1 's matchIndex from 52 to 52
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 52
current commitIndex 52 lastIncludedIndex 49 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 52
current commitIndex 52 lastIncludedIndex 49 snapshot exists ? true
update server 1 's matchIndex from 52 to 52
update server 2 's matchIndex from 52 to 52
server 1 term 11 state 0(leader false)(heartFlag true)
server 2 term 11 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 52
server 1 receives appendEntry from leader 0 prevLogIndex 52
current commitIndex 52 lastIncludedIndex 49 snapshot exists ? true
current commitIndex 52 lastIncludedIndex 49 snapshot exists ? true
update server 1 's matchIndex from 52 to 52
update server 2 's matchIndex from 52 to 52
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 52
current commitIndex 52 lastIncludedIndex 49 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 52
current commitIndex 52 lastIncludedIndex 49 snapshot exists ? true
update server 1 's matchIndex from 52 to 52
update server 2 's matchIndex from 52 to 52
server 0 term 11 state 2(leader true)(heartFlag false)
nextIndex
53 || 53 || 53 || 
matchIndex
52 || 52 || 52 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 52
current commitIndex 52 lastIncludedIndex 49 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 52
current commitIndex 52 lastIncludedIndex 49 snapshot exists ? true
update server 2 's matchIndex from 52 to 52
update server 1 's matchIndex from 52 to 52
server 1 term 11 state 0(leader false)(heartFlag true)
server 2 term 11 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 52
current commitIndex 52 lastIncludedIndex 49 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 52
current commitIndex 52 lastIncludedIndex 49 snapshot exists ? true
update server 2 's matchIndex from 52 to 52
update server 1 's matchIndex from 52 to 52
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 52
current commitIndex 52 lastIncludedIndex 49 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 52
current commitIndex 52 lastIncludedIndex 49 snapshot exists ? true
update server 2 's matchIndex from 52 to 52
update server 1 's matchIndex from 52 to 52
append command 1472070158548923828
len(log) = 53
server 0 term 11 state 2(leader true)(heartFlag false)
nextIndex
54 || 53 || 53 || 
matchIndex
53 || 52 || 52 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 52
current commitIndex 52 lastIncludedIndex 49 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 52
current commitIndex 52 lastIncludedIndex 49 snapshot exists ? true
update server 2 's matchIndex from 52 to 53
update server 1 's matchIndex from 52 to 53
getEntryTerm
leader server 0 commit index 53 command 1472070158548923828
server 2 term 11 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 53
getEntryTerm
current commitIndex 52 lastIncludedIndex 49 snapshot exists ? true
follower server 2 commit index 53 command 1472070158548923828 
update server 2 's matchIndex from 53 to 53
server 1 receives appendEntry from leader 0 prevLogIndex 53
getEntryTerm
current commitIndex 52 lastIncludedIndex 49 snapshot exists ? true
follower server 1 commit index 53 command 1472070158548923828 
update server 1 's matchIndex from 53 to 53
server 1 term 11 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 53
current commitIndex 53 lastIncludedIndex 49 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 53
current commitIndex 53 lastIncludedIndex 49 snapshot exists ? true
update server 2 's matchIndex from 53 to 53
update server 1 's matchIndex from 53 to 53
server 0 term 11 state 2(leader true)(heartFlag false)
nextIndex
54 || 54 || 54 || 
matchIndex
53 || 53 || 53 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 53
current commitIndex 53 lastIncludedIndex 49 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 53
current commitIndex 53 lastIncludedIndex 49 snapshot exists ? true
update server 2 's matchIndex from 53 to 53
update server 1 's matchIndex from 53 to 53
server 2 term 11 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 53
current commitIndex 53 lastIncludedIndex 49 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 53
current commitIndex 53 lastIncludedIndex 49 snapshot exists ? true
update server 2 's matchIndex from 53 to 53
update server 1 's matchIndex from 53 to 53
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 53
server 1 receives appendEntry from leader 0 prevLogIndex 53
current commitIndex 53 lastIncludedIndex 49 snapshot exists ? true
current commitIndex 53 lastIncludedIndex 49 snapshot exists ? true
update server 1 's matchIndex from 53 to 53
update server 2 's matchIndex from 53 to 53
server 1 term 11 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 53
current commitIndex 53 lastIncludedIndex 49 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 53
current commitIndex 53 lastIncludedIndex 49 snapshot exists ? true
update server 1 's matchIndex from 53 to 53
update server 2 's matchIndex from 53 to 53
append command 2985377775309932943
len(log) = 54
server 0 term 11 state 2(leader true)(heartFlag false)
nextIndex
55 || 54 || 54 || 
matchIndex
54 || 53 || 53 || 
server 2 term 11 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 53
current commitIndex 53 lastIncludedIndex 49 snapshot exists ? true
update server 2 's matchIndex from 53 to 54
getEntryTerm
leader server 0 commit index 54 command 2985377775309932943
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 54
getEntryTerm
current commitIndex 53 lastIncludedIndex 49 snapshot exists ? true
follower server 2 commit index 54 command 2985377775309932943 
update server 2 's matchIndex from 54 to 54
append command 4753374488264856757
len(log) = 55
append command 3869038579890150934
len(log) = 56
append command 2482431100505196936
len(log) = 57
append command 1559271484394057597
len(log) = 58
append command 5996902603552655565
len(log) = 59
append command 3961356861756982455
len(log) = 60
append command 7248011179595364603
len(log) = 61
append command 7198871595776948852
len(log) = 62
append command 4290464020751547461
len(log) = 63
append command 7257246776773494662
len(log) = 64
append command 3655520040850969864
len(log) = 65
server 1 term 11 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 54
current commitIndex 54 lastIncludedIndex 49 snapshot exists ? true
update server 2 's matchIndex from 54 to 65
getEntryTerm
leader server 0 commit index 55 command 4753374488264856757
leader server 0 commit index 56 command 3869038579890150934
leader server 0 commit index 57 command 2482431100505196936
leader server 0 commit index 58 command 1559271484394057597
leader server 0 commit index 59 command 5996902603552655565
leader server 0 commit index 60 command 3961356861756982455
server 0 takes snopshot and discards logs before index 59
getEntryTerm
discard index before 59(included)
server 0 finished snopshot
leader server 0 commit index 61 command 7248011179595364603
leader server 0 commit index 62 command 7198871595776948852
leader server 0 commit index 63 command 4290464020751547461
leader server 0 commit index 64 command 7257246776773494662
leader server 0 commit index 65 command 3655520040850969864
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 65
getEntryTerm
current commitIndex 54 lastIncludedIndex 49 snapshot exists ? true
follower server 2 commit index 55 command 4753374488264856757 
follower server 2 commit index 56 command 3869038579890150934 
follower server 2 commit index 57 command 2482431100505196936 
follower server 2 commit index 58 command 1559271484394057597 
follower server 2 commit index 59 command 5996902603552655565 
follower server 2 commit index 60 command 3961356861756982455 
server 2 takes snopshot and discards logs before index 59
getEntryTerm
discard index before 59(included)
server 2 finished snopshot
follower server 2 commit index 61 command 7248011179595364603 
follower server 2 commit index 62 command 7198871595776948852 
follower server 2 commit index 63 command 4290464020751547461 
follower server 2 commit index 64 command 7257246776773494662 
follower server 2 commit index 65 command 3655520040850969864 
update server 2 's matchIndex from 65 to 65
append command 2541352544612267641
len(log) = 66
server 2 term 11 state 0(leader false)(heartFlag true)
server 0 term 11 state 2(leader true)(heartFlag false)
nextIndex
67 || 54 || 66 || 
matchIndex
66 || 53 || 65 || 
getEntryTerm
server 1 receives snopshot from leader 0
server 2 receives appendEntry from leader 0 prevLogIndex 65
current commitIndex 65 lastIncludedIndex 59 snapshot exists ? true
server 1 commit snopshot to lastIncludedIndex 59
update server 2 's matchIndex from 65 to 66
getEntryTerm
leader server 0 commit index 66 command 2541352544612267641
server 1 term 11 state 0(leader false)(heartFlag false)
server 1 term 11 doesn't hear any heartbeat
server 1 convert to candidate
server 2 convert to follower
getEntryTerm
server 2 thinks candidate 1 is not up-to-date
server 2 grant false for candidate 1's requestVote
server 0 convert to follower
getEntryTerm
server 0 thinks candidate 1 is not up-to-date
server 0 grant false for candidate 1's requestVote
server 0 term 12 state 0(leader false)(heartFlag false)
server 0 term 12 doesn't hear any heartbeat
server 0 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
getEntryTerm
server 1 convert to follower
server 2 grant true for candidate 0's requestVote
server 1 grant true for candidate 0's requestVote
server 0 convert to leader
server 0 term 13 send appendEntries
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 66
getEntryTerm
current commitIndex 65 lastIncludedIndex 59 snapshot exists ? true
follower server 2 commit index 66 command 2541352544612267641 
server 1 receives appendEntry from leader 0 prevLogIndex 66
lastLogIndex 59, args.PrevLogIndex 66
update server 2 's matchIndex from 0 to 66
server 2 term 13 state 0(leader false)(heartFlag true)
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 66
current commitIndex 66 lastIncludedIndex 59 snapshot exists ? true
update server 2 's matchIndex from 66 to 66
server 1 receives appendEntry from leader 0 prevLogIndex 59
current commitIndex 59 lastIncludedIndex 59 snapshot exists ? true
follower server 1 commit index 60 command 3961356861756982455 
follower server 1 commit index 61 command 7248011179595364603 
follower server 1 commit index 62 command 7198871595776948852 
follower server 1 commit index 63 command 4290464020751547461 
follower server 1 commit index 64 command 7257246776773494662 
follower server 1 commit index 65 command 3655520040850969864 
follower server 1 commit index 66 command 2541352544612267641 
update server 1 's matchIndex from 0 to 66
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 66
current commitIndex 66 lastIncludedIndex 59 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 66
current commitIndex 66 lastIncludedIndex 59 snapshot exists ? true
update server 1 's matchIndex from 66 to 66
update server 2 's matchIndex from 66 to 66
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 66
current commitIndex 66 lastIncludedIndex 59 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 66
current commitIndex 66 lastIncludedIndex 59 snapshot exists ? true
update server 1 's matchIndex from 66 to 66
update server 2 's matchIndex from 66 to 66
server 1 term 13 state 0(leader false)(heartFlag true)
server 2 term 13 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 66
current commitIndex 66 lastIncludedIndex 59 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 66
current commitIndex 66 lastIncludedIndex 59 snapshot exists ? true
update server 1 's matchIndex from 66 to 66
update server 2 's matchIndex from 66 to 66
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 66
current commitIndex 66 lastIncludedIndex 59 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 66
current commitIndex 66 lastIncludedIndex 59 snapshot exists ? true
update server 2 's matchIndex from 66 to 66
update server 1 's matchIndex from 66 to 66
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 66
current commitIndex 66 lastIncludedIndex 59 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 66
current commitIndex 66 lastIncludedIndex 59 snapshot exists ? true
update server 2 's matchIndex from 66 to 66
update server 1 's matchIndex from 66 to 66
server 1 term 13 state 0(leader false)(heartFlag true)
append command 7365841341456493795
len(log) = 67
server 2 term 13 state 0(leader false)(heartFlag true)
server 0 term 13 state 2(leader true)(heartFlag false)
nextIndex
68 || 67 || 67 || 
matchIndex
67 || 66 || 66 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 66
current commitIndex 66 lastIncludedIndex 59 snapshot exists ? true
update server 2 's matchIndex from 66 to 67
getEntryTerm
leader server 0 commit index 67 command 7365841341456493795
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 67
getEntryTerm
current commitIndex 66 lastIncludedIndex 59 snapshot exists ? true
follower server 2 commit index 67 command 7365841341456493795 
update server 2 's matchIndex from 67 to 67
append command 4694501568281720426
len(log) = 68
append command 2293629953419743523
len(log) = 69
append command 8689358635556424051
len(log) = 70
append command 7882297343683519959
len(log) = 71
append command 6639905656734762911
len(log) = 72
append command 3599048000080565382
len(log) = 73
append command 3865367189807324180
len(log) = 74
append command 5426874738645281968
len(log) = 75
append command 1649381667153802557
len(log) = 76
append command 5152153434294874278
len(log) = 77
append command 7328513986422288662
len(log) = 78
append command 7186518220190733025
len(log) = 79
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 67
current commitIndex 67 lastIncludedIndex 59 snapshot exists ? true
update server 2 's matchIndex from 67 to 79
getEntryTerm
leader server 0 commit index 68 command 4694501568281720426
leader server 0 commit index 69 command 2293629953419743523
leader server 0 commit index 70 command 8689358635556424051
server 0 takes snopshot and discards logs before index 69
getEntryTerm
discard index before 69(included)
server 0 finished snopshot
leader server 0 commit index 71 command 7882297343683519959
leader server 0 commit index 72 command 6639905656734762911
leader server 0 commit index 73 command 3599048000080565382
leader server 0 commit index 74 command 3865367189807324180
leader server 0 commit index 75 command 5426874738645281968
leader server 0 commit index 76 command 1649381667153802557
leader server 0 commit index 77 command 5152153434294874278
leader server 0 commit index 78 command 7328513986422288662
leader server 0 commit index 79 command 7186518220190733025
server 0 takes snopshot and discards logs before index 79
getEntryTerm
discard index before 79(included)
server 0 finished snopshot
server 1 term 13 state 0(leader false)(heartFlag false)
server 1 term 13 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 2 term 13 state 0(leader false)(heartFlag true)
server 2 receives appendEntry from leader 0 prevLogIndex 79
getEntryTerm
current commitIndex 67 lastIncludedIndex 59 snapshot exists ? true
follower server 2 commit index 68 command 4694501568281720426 
follower server 2 commit index 69 command 2293629953419743523 
server 2 takes snopshot and discards logs before index 69
getEntryTerm
discard index before 69(included)
server 2 finished snopshot
follower server 2 commit index 70 command 8689358635556424051 
follower server 2 commit index 71 command 7882297343683519959 
follower server 2 commit index 72 command 6639905656734762911 
follower server 2 commit index 73 command 3599048000080565382 
follower server 2 commit index 74 command 3865367189807324180 
follower server 2 commit index 75 command 5426874738645281968 
follower server 2 commit index 76 command 1649381667153802557 
follower server 2 commit index 77 command 5152153434294874278 
follower server 2 commit index 78 command 7328513986422288662 
follower server 2 commit index 79 command 7186518220190733025 
server 2 takes snopshot and discards logs before index 79
getEntryTerm
discard index before 79(included)
server 2 finished snopshot
update server 2 's matchIndex from 79 to 79
append command 6082789484137797755
len(log) = 80
server 0 term 13 state 2(leader true)(heartFlag false)
nextIndex
81 || 67 || 80 || 
matchIndex
80 || 66 || 79 || 
server 2 receives appendEntry from leader 0 prevLogIndex 79
current commitIndex 79 lastIncludedIndex 79 snapshot exists ? true
update server 2 's matchIndex from 79 to 80
server 1 receives snopshot from leader 0
server 0 convert to follower
server 1 term 14 ElectionTimeOut
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
getEntryTerm
server 2 thinks candidate 1 is not up-to-date
server 2 grant false for candidate 1's requestVote
server 0 convert to follower
getEntryTerm
server 0 thinks candidate 1 is not up-to-date
server 0 grant false for candidate 1's requestVote
server 2 term 15 state 0(leader false)(heartFlag true)
server 0 term 15 state 0(leader false)(heartFlag false)
server 0 term 15 doesn't hear any heartbeat
server 0 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
server 1 convert to follower
getEntryTerm
getEntryTerm
server 2 grant true for candidate 0's requestVote
server 1 grant true for candidate 0's requestVote
server 0 convert to leader
server 0 term 16 send appendEntries
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 80
getEntryTerm
current commitIndex 79 lastIncludedIndex 79 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 80
lastLogIndex 66, args.PrevLogIndex 80
update server 2 's matchIndex from 0 to 80
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives snopshot from leader 0
server 1 commit snopshot to lastIncludedIndex 79
server 2 receives appendEntry from leader 0 prevLogIndex 80
getEntryTerm
current commitIndex 79 lastIncludedIndex 79 snapshot exists ? true
update server 2 's matchIndex from 80 to 80
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 80
getEntryTerm
current commitIndex 79 lastIncludedIndex 79 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 79
current commitIndex 79 lastIncludedIndex 79 snapshot exists ? true
update server 2 's matchIndex from 80 to 80
update server 1 's matchIndex from 79 to 80
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 16 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 80
getEntryTerm
current commitIndex 79 lastIncludedIndex 79 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 80
getEntryTerm
current commitIndex 79 lastIncludedIndex 79 snapshot exists ? true
update server 2 's matchIndex from 80 to 80
update server 1 's matchIndex from 80 to 80
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 16 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 80
getEntryTerm
current commitIndex 79 lastIncludedIndex 79 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 80
getEntryTerm
current commitIndex 79 lastIncludedIndex 79 snapshot exists ? true
update server 2 's matchIndex from 80 to 80
update server 1 's matchIndex from 80 to 80
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 80
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 80
getEntryTerm
current commitIndex 79 lastIncludedIndex 79 snapshot exists ? true
current commitIndex 79 lastIncludedIndex 79 snapshot exists ? true
update server 1 's matchIndex from 80 to 80
update server 2 's matchIndex from 80 to 80
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 80
getEntryTerm
current commitIndex 79 lastIncludedIndex 79 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 80
getEntryTerm
current commitIndex 79 lastIncludedIndex 79 snapshot exists ? true
update server 1 's matchIndex from 80 to 80
update server 2 's matchIndex from 80 to 80
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 16 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 80
getEntryTerm
current commitIndex 79 lastIncludedIndex 79 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 80
getEntryTerm
current commitIndex 79 lastIncludedIndex 79 snapshot exists ? true
update server 1 's matchIndex from 80 to 80
update server 2 's matchIndex from 80 to 80
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 16 state 2(leader true)(heartFlag false)
nextIndex
81 || 81 || 81 || 
matchIndex
80 || 80 || 80 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 16 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 80
getEntryTerm
current commitIndex 79 lastIncludedIndex 79 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 80
getEntryTerm
current commitIndex 79 lastIncludedIndex 79 snapshot exists ? true
update server 2 's matchIndex from 80 to 80
update server 1 's matchIndex from 80 to 80
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 80
getEntryTerm
current commitIndex 79 lastIncludedIndex 79 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 80
getEntryTerm
current commitIndex 79 lastIncludedIndex 79 snapshot exists ? true
update server 2 's matchIndex from 80 to 80
update server 1 's matchIndex from 80 to 80
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 16 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 80
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 80
getEntryTerm
current commitIndex 79 lastIncludedIndex 79 snapshot exists ? true
current commitIndex 79 lastIncludedIndex 79 snapshot exists ? true
update server 1 's matchIndex from 80 to 80
update server 2 's matchIndex from 80 to 80
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 16 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 80
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 80
getEntryTerm
current commitIndex 79 lastIncludedIndex 79 snapshot exists ? true
current commitIndex 79 lastIncludedIndex 79 snapshot exists ? true
update server 2 's matchIndex from 80 to 80
update server 1 's matchIndex from 80 to 80
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 16 state 2(leader true)(heartFlag false)
nextIndex
81 || 81 || 81 || 
matchIndex
80 || 80 || 80 || 
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 80
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 80
getEntryTerm
current commitIndex 79 lastIncludedIndex 79 snapshot exists ? true
current commitIndex 79 lastIncludedIndex 79 snapshot exists ? true
update server 1 's matchIndex from 80 to 80
update server 2 's matchIndex from 80 to 80
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 80
getEntryTerm
current commitIndex 79 lastIncludedIndex 79 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 80
getEntryTerm
current commitIndex 79 lastIncludedIndex 79 snapshot exists ? true
update server 2 's matchIndex from 80 to 80
update server 1 's matchIndex from 80 to 80
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 16 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 80
getEntryTerm
current commitIndex 79 lastIncludedIndex 79 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 80
getEntryTerm
current commitIndex 79 lastIncludedIndex 79 snapshot exists ? true
update server 2 's matchIndex from 80 to 80
update server 1 's matchIndex from 80 to 80
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 16 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 80
getEntryTerm
current commitIndex 79 lastIncludedIndex 79 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 80
getEntryTerm
current commitIndex 79 lastIncludedIndex 79 snapshot exists ? true
update server 2 's matchIndex from 80 to 80
update server 1 's matchIndex from 80 to 80
getEntryTerm
server 0 term 16 state 2(leader true)(heartFlag false)
nextIndex
81 || 81 || 81 || 
matchIndex
80 || 80 || 80 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 80
getEntryTerm
current commitIndex 79 lastIncludedIndex 79 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 80
getEntryTerm
current commitIndex 79 lastIncludedIndex 79 snapshot exists ? true
update server 1 's matchIndex from 80 to 80
update server 2 's matchIndex from 80 to 80
getEntryTerm
getEntryTerm
getEntryTerm
append command 6082789484137797755
server 2 term 16 state 0(leader false)(heartFlag true)
len(log) = 81
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 80
getEntryTerm
current commitIndex 79 lastIncludedIndex 79 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 80
getEntryTerm
current commitIndex 79 lastIncludedIndex 79 snapshot exists ? true
update server 1 's matchIndex from 80 to 81
update server 2 's matchIndex from 80 to 81
getEntryTerm
leader server 0 commit index 80 command 6082789484137797755
leader server 0 commit index 81 command 6082789484137797755
server 1 term 16 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 81
getEntryTerm
current commitIndex 79 lastIncludedIndex 79 snapshot exists ? true
follower server 1 commit index 80 command 6082789484137797755 
follower server 1 commit index 81 command 6082789484137797755 
server 2 receives appendEntry from leader 0 prevLogIndex 81
getEntryTerm
update server 1 's matchIndex from 81 to 81
current commitIndex 79 lastIncludedIndex 79 snapshot exists ? true
follower server 2 commit index 80 command 6082789484137797755 
follower server 2 commit index 81 command 6082789484137797755 
update server 2 's matchIndex from 81 to 81
server 0 term 16 state 2(leader true)(heartFlag false)
nextIndex
82 || 82 || 82 || 
matchIndex
81 || 81 || 81 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 81
current commitIndex 81 lastIncludedIndex 79 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 81
current commitIndex 81 lastIncludedIndex 79 snapshot exists ? true
update server 2 's matchIndex from 81 to 81
update server 1 's matchIndex from 81 to 81
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 81
current commitIndex 81 lastIncludedIndex 79 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 81
current commitIndex 81 lastIncludedIndex 79 snapshot exists ? true
update server 2 's matchIndex from 81 to 81
update server 1 's matchIndex from 81 to 81
server 2 term 16 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 81
current commitIndex 81 lastIncludedIndex 79 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 81
current commitIndex 81 lastIncludedIndex 79 snapshot exists ? true
update server 2 's matchIndex from 81 to 81
update server 1 's matchIndex from 81 to 81
server 1 term 16 state 0(leader false)(heartFlag true)
server 0 term 16 state 2(leader true)(heartFlag false)
nextIndex
82 || 82 || 82 || 
matchIndex
81 || 81 || 81 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 81
current commitIndex 81 lastIncludedIndex 79 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 81
current commitIndex 81 lastIncludedIndex 79 snapshot exists ? true
update server 1 's matchIndex from 81 to 81
update server 2 's matchIndex from 81 to 81
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 81
current commitIndex 81 lastIncludedIndex 79 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 81
current commitIndex 81 lastIncludedIndex 79 snapshot exists ? true
update server 2 's matchIndex from 81 to 81
update server 1 's matchIndex from 81 to 81
server 2 term 16 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 term 16 state 2(leader true)(heartFlag false)
nextIndex
82 || 82 || 82 || 
matchIndex
81 || 81 || 81 || 
server 1 term 16 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 16 state 2(leader true)(heartFlag false)
nextIndex
82 || 82 || 82 || 
matchIndex
81 || 81 || 81 || 
getEntryTerm
getEntryTerm
server 2 term 16 state 0(leader false)(heartFlag false)
server 2 term 16 doesn't hear any heartbeat
server 2 convert to candidate
getEntryTerm
getEntryTerm
server 1 convert to follower
getEntryTerm
server 1 grant true for candidate 2's requestVote
server 2 convert to leader
server 2 term 17 send appendEntries
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 81
current commitIndex 81 lastIncludedIndex 79 snapshot exists ? true
update server 1 's matchIndex from 0 to 81
server 1 term 17 state 0(leader false)(heartFlag true)
append command 5256064915877333345
len(log) = 82
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 81
current commitIndex 81 lastIncludedIndex 79 snapshot exists ? true
update server 1 's matchIndex from 81 to 82
getEntryTerm
leader server 2 commit index 82 command 5256064915877333345
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 82
getEntryTerm
current commitIndex 81 lastIncludedIndex 79 snapshot exists ? true
follower server 1 commit index 82 command 5256064915877333345 
update server 1 's matchIndex from 82 to 82
append command 5957061734420009910
len(log) = 83
server 0 term 16 state 2(leader true)(heartFlag false)
nextIndex
82 || 82 || 82 || 
matchIndex
81 || 81 || 81 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 82
current commitIndex 82 lastIncludedIndex 79 snapshot exists ? true
update server 1 's matchIndex from 82 to 83
getEntryTerm
leader server 2 commit index 83 command 5957061734420009910
server 1 term 17 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 83
getEntryTerm
current commitIndex 82 lastIncludedIndex 79 snapshot exists ? true
follower server 1 commit index 83 command 5957061734420009910 
update server 1 's matchIndex from 83 to 83
append command 6619797870949126315
len(log) = 84
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 81
server 1 receives appendEntry from leader 0 prevLogIndex 81
server 0 convert to follower
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 83
current commitIndex 83 lastIncludedIndex 79 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 81
current commitIndex 81 lastIncludedIndex 79 snapshot exists ? true
follower server 0 commit index 82 command 5256064915877333345 
follower server 0 commit index 83 command 5957061734420009910 
update server 1 's matchIndex from 83 to 84
update server 0 's matchIndex from 0 to 84
getEntryTerm
leader server 2 commit index 84 command 6619797870949126315
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 84
getEntryTerm
current commitIndex 83 lastIncludedIndex 79 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 84
getEntryTerm
current commitIndex 83 lastIncludedIndex 79 snapshot exists ? true
follower server 0 commit index 84 command 6619797870949126315 
follower server 1 commit index 84 command 6619797870949126315 
update server 0 's matchIndex from 84 to 84
update server 1 's matchIndex from 84 to 84
server 0 term 17 state 0(leader false)(heartFlag true)
server 1 term 17 state 0(leader false)(heartFlag true)
server 2 term 17 state 2(leader true)(heartFlag false)
nextIndex
85 || 85 || 85 || 
matchIndex
84 || 84 || 84 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 84
current commitIndex 84 lastIncludedIndex 79 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 84
current commitIndex 84 lastIncludedIndex 79 snapshot exists ? true
update server 0 's matchIndex from 84 to 84
update server 1 's matchIndex from 84 to 84
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 84
current commitIndex 84 lastIncludedIndex 79 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 84
current commitIndex 84 lastIncludedIndex 79 snapshot exists ? true
update server 1 's matchIndex from 84 to 84
update server 0 's matchIndex from 84 to 84
server 0 term 17 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 84
current commitIndex 84 lastIncludedIndex 79 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 84
current commitIndex 84 lastIncludedIndex 79 snapshot exists ? true
update server 1 's matchIndex from 84 to 84
update server 0 's matchIndex from 84 to 84
server 2 term 17 state 2(leader true)(heartFlag false)
nextIndex
85 || 85 || 85 || 
matchIndex
84 || 84 || 84 || 
server 1 term 17 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 84
current commitIndex 84 lastIncludedIndex 79 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 84
current commitIndex 84 lastIncludedIndex 79 snapshot exists ? true
update server 1 's matchIndex from 84 to 84
update server 0 's matchIndex from 84 to 84
append command 4451196906059821527
len(log) = 85
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 84
current commitIndex 84 lastIncludedIndex 79 snapshot exists ? true
update server 1 's matchIndex from 84 to 85
getEntryTerm
leader server 2 commit index 85 command 4451196906059821527
server 0 term 17 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 85
getEntryTerm
current commitIndex 84 lastIncludedIndex 79 snapshot exists ? true
follower server 1 commit index 85 command 4451196906059821527 
update server 1 's matchIndex from 85 to 85
append command 3199923091206460204
len(log) = 86
append command 6666661320661352343
len(log) = 87
append command 2004194399175768699
len(log) = 88
append command 7260685601248203087
len(log) = 89
append command 6508578185402866376
len(log) = 90
append command 3188809450181010447
len(log) = 91
append command 3641411199673739693
len(log) = 92
append command 886166417784708834
len(log) = 93
server 2 term 17 state 2(leader true)(heartFlag false)
nextIndex
85 || 86 || 94 || 
matchIndex
84 || 85 || 93 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 85
current commitIndex 85 lastIncludedIndex 79 snapshot exists ? true
update server 1 's matchIndex from 85 to 93
getEntryTerm
leader server 2 commit index 86 command 3199923091206460204
leader server 2 commit index 87 command 6666661320661352343
leader server 2 commit index 88 command 2004194399175768699
leader server 2 commit index 89 command 7260685601248203087
leader server 2 commit index 90 command 6508578185402866376
server 2 takes snopshot and discards logs before index 89
getEntryTerm
discard index before 89(included)
server 2 finished snopshot
leader server 2 commit index 91 command 3188809450181010447
leader server 2 commit index 92 command 3641411199673739693
leader server 2 commit index 93 command 886166417784708834
server 1 term 17 state 0(leader false)(heartFlag true)
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 93
getEntryTerm
current commitIndex 85 lastIncludedIndex 79 snapshot exists ? true
follower server 1 commit index 86 command 3199923091206460204 
follower server 1 commit index 87 command 6666661320661352343 
follower server 1 commit index 88 command 2004194399175768699 
follower server 1 commit index 89 command 7260685601248203087 
follower server 1 commit index 90 command 6508578185402866376 
server 1 takes snopshot and discards logs before index 89
getEntryTerm
discard index before 89(included)
server 1 finished snopshot
follower server 1 commit index 91 command 3188809450181010447 
follower server 1 commit index 92 command 3641411199673739693 
follower server 1 commit index 93 command 886166417784708834 
update server 1 's matchIndex from 93 to 93
append command 8802168901546354405
len(log) = 94
server 0 term 17 state 0(leader false)(heartFlag false)
server 0 term 17 doesn't hear any heartbeat
server 0 convert to candidate
getEntryTerm
getEntryTerm
server 1 convert to follower
getEntryTerm
server 1 thinks candidate 0 is not up-to-date
server 1 grant false for candidate 0's requestVote
server 2 convert to follower
getEntryTerm
server 2 thinks candidate 0 is not up-to-date
server 2 grant false for candidate 0's requestVote
server 2 term 18 state 0(leader false)(heartFlag false)
server 2 term 18 doesn't hear any heartbeat
server 2 convert to candidate
getEntryTerm
getEntryTerm
server 0 convert to follower
server 1 convert to follower
getEntryTerm
server 0 grant true for candidate 2's requestVote
getEntryTerm
server 1 grant true for candidate 2's requestVote
server 2 convert to leader
server 2 term 19 send appendEntries
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 94
lastLogIndex 93, args.PrevLogIndex 94
server 0 receives appendEntry from leader 2 prevLogIndex 94
lastLogIndex 84, args.PrevLogIndex 94
getEntryTerm
server 0 receives snopshot from leader 2
server 0 commit snopshot to lastIncludedIndex 89
server 1 receives appendEntry from leader 2 prevLogIndex 93
current commitIndex 93 lastIncludedIndex 89 snapshot exists ? true
update server 1 's matchIndex from 0 to 94
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 19 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 94
getEntryTerm
current commitIndex 93 lastIncludedIndex 89 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 89
current commitIndex 89 lastIncludedIndex 89 snapshot exists ? true
follower server 0 commit index 90 command 6508578185402866376 
follower server 0 commit index 91 command 3188809450181010447 
follower server 0 commit index 92 command 3641411199673739693 
follower server 0 commit index 93 command 886166417784708834 
update server 1 's matchIndex from 94 to 94
getEntryTerm
update server 0 's matchIndex from 89 to 94
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 94
getEntryTerm
current commitIndex 93 lastIncludedIndex 89 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 94
getEntryTerm
current commitIndex 93 lastIncludedIndex 89 snapshot exists ? true
update server 1 's matchIndex from 94 to 94
update server 0 's matchIndex from 94 to 94
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 94
getEntryTerm
current commitIndex 93 lastIncludedIndex 89 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 94
getEntryTerm
current commitIndex 93 lastIncludedIndex 89 snapshot exists ? true
update server 0 's matchIndex from 94 to 94
update server 1 's matchIndex from 94 to 94
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 19 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 94
getEntryTerm
current commitIndex 93 lastIncludedIndex 89 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 94
getEntryTerm
current commitIndex 93 lastIncludedIndex 89 snapshot exists ? true
update server 0 's matchIndex from 94 to 94
update server 1 's matchIndex from 94 to 94
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 94
getEntryTerm
current commitIndex 93 lastIncludedIndex 89 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 94
getEntryTerm
current commitIndex 93 lastIncludedIndex 89 snapshot exists ? true
update server 1 's matchIndex from 94 to 94
update server 0 's matchIndex from 94 to 94
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 19 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 94
getEntryTerm
current commitIndex 93 lastIncludedIndex 89 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 94
getEntryTerm
current commitIndex 93 lastIncludedIndex 89 snapshot exists ? true
update server 1 's matchIndex from 94 to 94
update server 0 's matchIndex from 94 to 94
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 19 state 2(leader true)(heartFlag false)
nextIndex
95 || 95 || 95 || 
matchIndex
94 || 94 || 94 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 94
getEntryTerm
current commitIndex 93 lastIncludedIndex 89 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 94
getEntryTerm
current commitIndex 93 lastIncludedIndex 89 snapshot exists ? true
update server 1 's matchIndex from 94 to 94
update server 0 's matchIndex from 94 to 94
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 19 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 94
getEntryTerm
current commitIndex 93 lastIncludedIndex 89 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 94
getEntryTerm
current commitIndex 93 lastIncludedIndex 89 snapshot exists ? true
update server 1 's matchIndex from 94 to 94
update server 0 's matchIndex from 94 to 94
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 19 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 94
getEntryTerm
current commitIndex 93 lastIncludedIndex 89 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 94
getEntryTerm
current commitIndex 93 lastIncludedIndex 89 snapshot exists ? true
update server 0 's matchIndex from 94 to 94
update server 1 's matchIndex from 94 to 94
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 94
getEntryTerm
current commitIndex 93 lastIncludedIndex 89 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 94
getEntryTerm
current commitIndex 93 lastIncludedIndex 89 snapshot exists ? true
update server 0 's matchIndex from 94 to 94
update server 1 's matchIndex from 94 to 94
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 19 state 2(leader true)(heartFlag false)
nextIndex
95 || 95 || 95 || 
matchIndex
94 || 94 || 94 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 94
getEntryTerm
current commitIndex 93 lastIncludedIndex 89 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 94
getEntryTerm
current commitIndex 93 lastIncludedIndex 89 snapshot exists ? true
update server 1 's matchIndex from 94 to 94
update server 0 's matchIndex from 94 to 94
getEntryTerm
getEntryTerm
server 1 term 19 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 term 19 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 94
getEntryTerm
current commitIndex 93 lastIncludedIndex 89 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 94
getEntryTerm
current commitIndex 93 lastIncludedIndex 89 snapshot exists ? true
update server 1 's matchIndex from 94 to 94
update server 0 's matchIndex from 94 to 94
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 94
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 94
getEntryTerm
current commitIndex 93 lastIncludedIndex 89 snapshot exists ? true
current commitIndex 93 lastIncludedIndex 89 snapshot exists ? true
update server 0 's matchIndex from 94 to 94
update server 1 's matchIndex from 94 to 94
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 94
getEntryTerm
current commitIndex 93 lastIncludedIndex 89 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 94
getEntryTerm
current commitIndex 93 lastIncludedIndex 89 snapshot exists ? true
update server 0 's matchIndex from 94 to 94
update server 1 's matchIndex from 94 to 94
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 19 state 0(leader false)(heartFlag true)
server 2 term 19 state 2(leader true)(heartFlag false)
nextIndex
95 || 95 || 95 || 
matchIndex
94 || 94 || 94 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 94
getEntryTerm
current commitIndex 93 lastIncludedIndex 89 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 94
getEntryTerm
current commitIndex 93 lastIncludedIndex 89 snapshot exists ? true
update server 1 's matchIndex from 94 to 94
update server 0 's matchIndex from 94 to 94
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 19 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 94
getEntryTerm
current commitIndex 93 lastIncludedIndex 89 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 94
getEntryTerm
current commitIndex 93 lastIncludedIndex 89 snapshot exists ? true
update server 0 's matchIndex from 94 to 94
update server 1 's matchIndex from 94 to 94
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 94
getEntryTerm
current commitIndex 93 lastIncludedIndex 89 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 94
getEntryTerm
current commitIndex 93 lastIncludedIndex 89 snapshot exists ? true
update server 1 's matchIndex from 94 to 94
update server 0 's matchIndex from 94 to 94
getEntryTerm
getEntryTerm
append command 8802168901546354405
len(log) = 95
server 1 term 19 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 term 19 state 2(leader true)(heartFlag false)
nextIndex
95 || 95 || 96 || getEntryTerm

matchIndex
94 || 94 || 95 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 94
getEntryTerm
current commitIndex 93 lastIncludedIndex 89 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 94
getEntryTerm
current commitIndex 93 lastIncludedIndex 89 snapshot exists ? true
update server 0 's matchIndex from 94 to 95
update server 1 's matchIndex from 94 to 95
getEntryTerm
leader server 2 commit index 94 command 8802168901546354405
leader server 2 commit index 95 command 8802168901546354405
server 0 term 19 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 95
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 95
getEntryTerm
current commitIndex 93 lastIncludedIndex 89 snapshot exists ? true
current commitIndex 93 lastIncludedIndex 89 snapshot exists ? true
follower server 0 commit index 94 command 8802168901546354405 
follower server 0 commit index 95 command 8802168901546354405 
follower server 1 commit index 94 command 8802168901546354405 
follower server 1 commit index 95 command 8802168901546354405 
update server 1 's matchIndex from 95 to 95
update server 0 's matchIndex from 95 to 95
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 95
current commitIndex 95 lastIncludedIndex 89 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 95
current commitIndex 95 lastIncludedIndex 89 snapshot exists ? true
update server 1 's matchIndex from 95 to 95
update server 0 's matchIndex from 95 to 95
server 2 term 19 state 2(leader true)(heartFlag false)
nextIndex
96 || 96 || 96 || 
matchIndex
95 || 95 || 95 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 95
current commitIndex 95 lastIncludedIndex 89 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 95
current commitIndex 95 lastIncludedIndex 89 snapshot exists ? true
update server 1 's matchIndex from 95 to 95
update server 0 's matchIndex from 95 to 95
server 1 term 19 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 95
current commitIndex 95 lastIncludedIndex 89 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 95
current commitIndex 95 lastIncludedIndex 89 snapshot exists ? true
update server 1 's matchIndex from 95 to 95
update server 0 's matchIndex from 95 to 95
server 0 term 19 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 95
current commitIndex 95 lastIncludedIndex 89 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 95
current commitIndex 95 lastIncludedIndex 89 snapshot exists ? true
update server 1 's matchIndex from 95 to 95
update server 0 's matchIndex from 95 to 95
server 2 term 19 state 2(leader true)(heartFlag false)
nextIndex
96 || 96 || 96 || 
matchIndex
95 || 95 || 95 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 95
current commitIndex 95 lastIncludedIndex 89 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 95
current commitIndex 95 lastIncludedIndex 89 snapshot exists ? true
update server 1 's matchIndex from 95 to 95
update server 0 's matchIndex from 95 to 95
append command 4162351580099998229
len(log) = 96
server 1 term 19 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 95
current commitIndex 95 lastIncludedIndex 89 snapshot exists ? true
update server 1 's matchIndex from 95 to 96
getEntryTerm
leader server 2 commit index 96 command 4162351580099998229
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 96
getEntryTerm
current commitIndex 95 lastIncludedIndex 89 snapshot exists ? true
follower server 1 commit index 96 command 4162351580099998229 
update server 1 's matchIndex from 96 to 96
append command 1159555572777177931
len(log) = 97
append command 8774670509040443247
len(log) = 98
append command 8152182051732445851
len(log) = 99
append command 1594510641342006912
len(log) = 100
append command 3472960492717598670
len(log) = 101
append command 2066174607007909019
len(log) = 102
append command 6050578429329454820
len(log) = 103
append command 2441195684076093998
len(log) = 104
append command 4083182716435977298
len(log) = 105
append command 5375977579218686571
len(log) = 106
append command 8399230999664671498
len(log) = 107
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 96
current commitIndex 96 lastIncludedIndex 89 snapshot exists ? true
update server 1 's matchIndex from 96 to 107
server 0 term 19 state 0(leader false)(heartFlag true)
getEntryTerm
leader server 2 commit index 97 command 1159555572777177931
leader server 2 commit index 98 command 8774670509040443247
leader server 2 commit index 99 command 8152182051732445851
leader server 2 commit index 100 command 1594510641342006912
server 2 takes snopshot and discards logs before index 99
getEntryTerm
discard index before 99(included)
server 2 finished snopshot
leader server 2 commit index 101 command 3472960492717598670
leader server 2 commit index 102 command 2066174607007909019
leader server 2 commit index 103 command 6050578429329454820
leader server 2 commit index 104 command 2441195684076093998
leader server 2 commit index 105 command 4083182716435977298
leader server 2 commit index 106 command 5375977579218686571
leader server 2 commit index 107 command 8399230999664671498
server 2 term 19 state 2(leader true)(heartFlag false)
nextIndex
96 || 108 || 108 || 
matchIndex
95 || 107 || 107 || 
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 107
getEntryTerm
current commitIndex 96 lastIncludedIndex 89 snapshot exists ? true
follower server 1 commit index 97 command 1159555572777177931 
follower server 1 commit index 98 command 8774670509040443247 
follower server 1 commit index 99 command 8152182051732445851 
follower server 1 commit index 100 command 1594510641342006912 
server 1 takes snopshot and discards logs before index 99
getEntryTerm
discard index before 99(included)
server 1 finished snopshot
follower server 1 commit index 101 command 3472960492717598670 
follower server 1 commit index 102 command 2066174607007909019 
follower server 1 commit index 103 command 6050578429329454820 
follower server 1 commit index 104 command 2441195684076093998 
follower server 1 commit index 105 command 4083182716435977298 
follower server 1 commit index 106 command 5375977579218686571 
follower server 1 commit index 107 command 8399230999664671498 
update server 1 's matchIndex from 107 to 107
append command 8784190865677510651
len(log) = 108
server 1 term 19 state 0(leader false)(heartFlag true)
getEntryTerm
server 0 receives snopshot from leader 2
server 0 commit snopshot to lastIncludedIndex 99
server 1 receives appendEntry from leader 2 prevLogIndex 107
current commitIndex 107 lastIncludedIndex 99 snapshot exists ? true
update server 1 's matchIndex from 107 to 108
getEntryTerm
leader server 2 commit index 108 command 8784190865677510651
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 108
getEntryTerm
current commitIndex 107 lastIncludedIndex 99 snapshot exists ? true
follower server 1 commit index 108 command 8784190865677510651 
server 0 receives appendEntry from leader 2 prevLogIndex 99
current commitIndex 99 lastIncludedIndex 99 snapshot exists ? true
follower server 0 commit index 100 command 1594510641342006912 
follower server 0 commit index 101 command 3472960492717598670 
follower server 0 commit index 102 command 2066174607007909019 
follower server 0 commit index 103 command 6050578429329454820 
follower server 0 commit index 104 command 2441195684076093998 
follower server 0 commit index 105 command 4083182716435977298 
update server 1 's matchIndex from 108 to 108
follower server 0 commit index 106 command 5375977579218686571 
follower server 0 commit index 107 command 8399230999664671498 
follower server 0 commit index 108 command 8784190865677510651 
update server 0 's matchIndex from 99 to 108
server 2 term 19 state 2(leader true)(heartFlag false)
nextIndex
109 || 109 || 109 || 
matchIndex
108 || 108 || 108 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 108
current commitIndex 108 lastIncludedIndex 99 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 108
current commitIndex 108 lastIncludedIndex 99 snapshot exists ? true
update server 1 's matchIndex from 108 to 108
update server 0 's matchIndex from 108 to 108
server 0 term 19 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 108
current commitIndex 108 lastIncludedIndex 99 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 108
current commitIndex 108 lastIncludedIndex 99 snapshot exists ? true
update server 1 's matchIndex from 108 to 108
update server 0 's matchIndex from 108 to 108
server 1 term 19 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 108
current commitIndex 108 lastIncludedIndex 99 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 108
current commitIndex 108 lastIncludedIndex 99 snapshot exists ? true
update server 1 's matchIndex from 108 to 108
update server 0 's matchIndex from 108 to 108
server 2 term 19 state 2(leader true)(heartFlag false)
nextIndex
109 || 109 || 109 || 
matchIndex
108 || 108 || 108 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 108
current commitIndex 108 lastIncludedIndex 99 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 108
current commitIndex 108 lastIncludedIndex 99 snapshot exists ? true
update server 1 's matchIndex from 108 to 108
update server 0 's matchIndex from 108 to 108
server 0 term 19 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 108
current commitIndex 108 lastIncludedIndex 99 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 108
current commitIndex 108 lastIncludedIndex 99 snapshot exists ? true
update server 1 's matchIndex from 108 to 108
update server 0 's matchIndex from 108 to 108
getEntryTerm
getEntryTerm
server 1 term 19 state 0(leader false)(heartFlag true)
server 2 term 19 state 2(leader true)(heartFlag false)
nextIndex
109 || 109 || 109 || 
matchIndex
108 || 108 || 108 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 19 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 term 19 state 2(leader true)(heartFlag false)
nextIndex
109 || 109 || 109 || 
matchIndex
108 || 108 || 108 || 
getEntryTerm
getEntryTerm
server 1 term 19 state 0(leader false)(heartFlag false)
server 1 term 19 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 0 convert to follower
getEntryTerm
server 0 grant true for candidate 1's requestVote
server 1 convert to leader
server 1 term 20 send appendEntries
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 108
current commitIndex 108 lastIncludedIndex 99 snapshot exists ? true
update server 0 's matchIndex from 0 to 108
append command 3457917271598052869
len(log) = 109
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 108
current commitIndex 108 lastIncludedIndex 99 snapshot exists ? true
update server 0 's matchIndex from 108 to 109
getEntryTerm
leader server 1 commit index 109 command 3457917271598052869
server 1 takes snopshot and discards logs before index 109
getEntryTerm
discard index before 109(included)
server 1 finished snopshot
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 109
getEntryTerm
current commitIndex 108 lastIncludedIndex 99 snapshot exists ? true
follower server 0 commit index 109 command 3457917271598052869 
update server 0 's matchIndex from 109 to 109
server 0 takes snopshot and discards logs before index 109
getEntryTerm
discard index before 109(included)
server 0 finished snopshot
append command 464994315356978795
len(log) = 110
server 0 term 20 state 0(leader false)(heartFlag true)
server 2 term 19 state 2(leader true)(heartFlag false)
nextIndex
109 || 109 || 109 || 
matchIndex
108 || 108 || 108 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 109
current commitIndex 109 lastIncludedIndex 109 snapshot exists ? true
update server 0 's matchIndex from 109 to 110
getEntryTerm
leader server 1 commit index 110 command 464994315356978795
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 110
getEntryTerm
current commitIndex 109 lastIncludedIndex 109 snapshot exists ? true
follower server 0 commit index 110 command 464994315356978795 
update server 0 's matchIndex from 110 to 110
append command 7354978470987652778
len(log) = 111
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 108
server 0 receives appendEntry from leader 2 prevLogIndex 108
server 2 convert to follower
getEntryTerm
server 2 receives snopshot from leader 1
server 2 commit snopshot to lastIncludedIndex 109
server 0 receives appendEntry from leader 1 prevLogIndex 110
current commitIndex 110 lastIncludedIndex 109 snapshot exists ? true
update server 0 's matchIndex from 110 to 111
getEntryTerm
leader server 1 commit index 111 command 7354978470987652778
server 2 term 20 state 0(leader false)(heartFlag false)
server 2 term 20 doesn't hear any heartbeat
server 2 convert to candidate
server 1 convert to follower
getEntryTerm
server 1 thinks candidate 2 is not up-to-date
server 1 grant false for candidate 2's requestVote
server 0 convert to follower
getEntryTerm
server 0 thinks candidate 2 is not up-to-date
server 0 grant false for candidate 2's requestVote
server 0 term 21 state 0(leader false)(heartFlag true)
server 1 term 21 state 0(leader false)(heartFlag false)
server 1 term 21 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
server 2 grant true for candidate 1's requestVote
server 0 convert to follower
getEntryTerm
server 1 convert to leader
server 1 term 22 send appendEntries
getEntryTerm
getEntryTerm
server 0 grant true for candidate 1's requestVote
server 2 receives appendEntry from leader 1 prevLogIndex 111
lastLogIndex 109, args.PrevLogIndex 111
server 0 receives appendEntry from leader 1 prevLogIndex 111
getEntryTerm
current commitIndex 110 lastIncludedIndex 109 snapshot exists ? true
follower server 0 commit index 111 command 7354978470987652778 
update server 0 's matchIndex from 0 to 111
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 111
current commitIndex 111 lastIncludedIndex 109 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 109
current commitIndex 109 lastIncludedIndex 109 snapshot exists ? true
follower server 2 commit index 110 command 464994315356978795 
follower server 2 commit index 111 command 7354978470987652778 
update server 0 's matchIndex from 111 to 111
update server 2 's matchIndex from 0 to 111
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 111
current commitIndex 111 lastIncludedIndex 109 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 111
current commitIndex 111 lastIncludedIndex 109 snapshot exists ? true
update server 0 's matchIndex from 111 to 111
update server 2 's matchIndex from 111 to 111
server 0 term 22 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 111
current commitIndex 111 lastIncludedIndex 109 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 111
current commitIndex 111 lastIncludedIndex 109 snapshot exists ? true
update server 0 's matchIndex from 111 to 111
update server 2 's matchIndex from 111 to 111
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 111
current commitIndex 111 lastIncludedIndex 109 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 111
current commitIndex 111 lastIncludedIndex 109 snapshot exists ? true
update server 2 's matchIndex from 111 to 111
update server 0 's matchIndex from 111 to 111
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 111
current commitIndex 111 lastIncludedIndex 109 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 111
current commitIndex 111 lastIncludedIndex 109 snapshot exists ? true
update server 2 's matchIndex from 111 to 111
update server 0 's matchIndex from 111 to 111
server 1 term 22 state 2(leader true)(heartFlag false)
nextIndex
112 || 112 || 112 || 
matchIndex
111 || 111 || 111 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 111
current commitIndex 111 lastIncludedIndex 109 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 111
current commitIndex 111 lastIncludedIndex 109 snapshot exists ? true
update server 2 's matchIndex from 111 to 111
update server 0 's matchIndex from 111 to 111
server 2 term 22 state 0(leader false)(heartFlag true)
server 0 term 22 state 0(leader false)(heartFlag true)
append command 2027835172483681099
len(log) = 112
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 111
current commitIndex 111 lastIncludedIndex 109 snapshot exists ? true
update server 0 's matchIndex from 111 to 112
getEntryTerm
leader server 1 commit index 112 command 2027835172483681099
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 112
getEntryTerm
current commitIndex 111 lastIncludedIndex 109 snapshot exists ? true
follower server 0 commit index 112 command 2027835172483681099 
update server 0 's matchIndex from 112 to 112
append command 4873156038154621451
len(log) = 113
append command 7898923977755439830
len(log) = 114
append command 6743405399374787998
len(log) = 115
append command 1338094349888599594
len(log) = 116
append command 40643352275129351
len(log) = 117
append command 6132981485259756539
len(log) = 118
append command 4725801176348266055
len(log) = 119
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 112
current commitIndex 112 lastIncludedIndex 109 snapshot exists ? true
update server 0 's matchIndex from 112 to 119
getEntryTerm
leader server 1 commit index 113 command 4873156038154621451
leader server 1 commit index 114 command 7898923977755439830
leader server 1 commit index 115 command 6743405399374787998
leader server 1 commit index 116 command 1338094349888599594
leader server 1 commit index 117 command 40643352275129351
leader server 1 commit index 118 command 6132981485259756539
leader server 1 commit index 119 command 4725801176348266055
server 1 takes snopshot and discards logs before index 119
getEntryTerm
discard index before 119(included)
server 1 finished snopshot
server 1 term 22 state 2(leader true)(heartFlag false)
nextIndex
120 || 120 || 112 || 
matchIndex
119 || 119 || 111 || 
server 2 term 22 state 0(leader false)(heartFlag false)
server 2 term 22 doesn't hear any heartbeat
server 2 convert to candidate
getEntryTerm
getEntryTerm
server 0 term 22 state 0(leader false)(heartFlag true)
server 0 receives appendEntry from leader 1 prevLogIndex 119
getEntryTerm
current commitIndex 112 lastIncludedIndex 109 snapshot exists ? true
follower server 0 commit index 113 command 4873156038154621451 
follower server 0 commit index 114 command 7898923977755439830 
follower server 0 commit index 115 command 6743405399374787998 
follower server 0 commit index 116 command 1338094349888599594 
follower server 0 commit index 117 command 40643352275129351 
follower server 0 commit index 118 command 6132981485259756539 
follower server 0 commit index 119 command 4725801176348266055 
update server 0 's matchIndex from 119 to 119
server 0 takes snopshot and discards logs before index 119
getEntryTerm
discard index before 119(included)
server 0 finished snopshot
append command 7932965448257331915
len(log) = 120
server 2 receives snopshot from leader 1
server 0 receives appendEntry from leader 1 prevLogIndex 119
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
server 1 convert to follower
server 0 term 22 state 0(leader false)(heartFlag true)
server 1 term 23 state 0(leader false)(heartFlag false)
server 1 term 23 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 0 convert to follower
server 2 convert to follower
getEntryTerm
server 0 grant true for candidate 1's requestVote
getEntryTerm
server 2 grant true for candidate 1's requestVote
server 1 convert to leader
server 1 term 24 send appendEntries
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 120
lastLogIndex 111, args.PrevLogIndex 120
update server 0 's matchIndex from 0 to 120
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives snopshot from leader 1
server 2 commit snopshot to lastIncludedIndex 119
server 0 receives appendEntry from leader 1 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
update server 0 's matchIndex from 120 to 120
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 119
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
update server 2 's matchIndex from 119 to 120
update server 0 's matchIndex from 120 to 120
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 24 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 24 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
update server 2 's matchIndex from 120 to 120
update server 0 's matchIndex from 120 to 120
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
update server 2 's matchIndex from 120 to 120
update server 0 's matchIndex from 120 to 120
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
update server 0 's matchIndex from 120 to 120
update server 2 's matchIndex from 120 to 120
getEntryTerm
getEntryTerm
server 0 term 24 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
update server 2 's matchIndex from 120 to 120
update server 0 's matchIndex from 120 to 120
getEntryTerm
server 2 term 24 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
update server 0 's matchIndex from 120 to 120
update server 2 's matchIndex from 120 to 120
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 24 state 2(leader true)(heartFlag false)
nextIndex
121 || 121 || 121 || 
matchIndex
120 || 120 || 120 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
update server 0 's matchIndex from 120 to 120
update server 2 's matchIndex from 120 to 120
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 24 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
update server 2 's matchIndex from 120 to 120
update server 0 's matchIndex from 120 to 120
getEntryTerm
getEntryTerm
server 2 term 24 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 120
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
update server 0 's matchIndex from 120 to 120
update server 2 's matchIndex from 120 to 120
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
update server 2 's matchIndex from 120 to 120
update server 0 's matchIndex from 120 to 120
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 24 state 2(leader true)(heartFlag false)
nextIndex
121 || 121 || 121 || 
matchIndex
120 || 120 || 120 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 24 state 0(leader false)(heartFlag true)
server 0 receives appendEntry from leader 1 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
update server 0 's matchIndex from 120 to 120
update server 2 's matchIndex from 120 to 120
getEntryTerm
getEntryTerm
server 2 term 24 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
update server 0 's matchIndex from 120 to 120
update server 2 's matchIndex from 120 to 120
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
update server 0 's matchIndex from 120 to 120
update server 2 's matchIndex from 120 to 120
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 24 state 2(leader true)(heartFlag false)
nextIndex
121 || 121 || 121 || 
matchIndex
120 || 120 || 120 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
update server 2 's matchIndex from 120 to 120
update server 0 's matchIndex from 120 to 120
getEntryTerm
getEntryTerm
server 2 term 24 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 120
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
update server 2 's matchIndex from 120 to 120
update server 0 's matchIndex from 120 to 120
getEntryTerm
getEntryTerm
server 0 term 24 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
update server 0 's matchIndex from 120 to 120
update server 2 's matchIndex from 120 to 120
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
append command 7932965448257331915
len(log) = 121
getEntryTerm
getEntryTerm
server 2 term 24 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
update server 2 's matchIndex from 120 to 121
update server 0 's matchIndex from 120 to 121
getEntryTerm
leader server 1 commit index 120 command 7932965448257331915
leader server 1 commit index 121 command 7932965448257331915
server 1 term 24 state 2(leader true)(heartFlag false)
nextIndex
122 || 122 || 122 || 
matchIndex
121 || 121 || 121 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 121
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 121
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
follower server 2 commit index 120 command 7932965448257331915 
follower server 2 commit index 121 command 7932965448257331915 
follower server 0 commit index 120 command 7932965448257331915 
follower server 0 commit index 121 command 7932965448257331915 
update server 2 's matchIndex from 121 to 121
update server 0 's matchIndex from 121 to 121
server 0 term 24 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 121
current commitIndex 121 lastIncludedIndex 119 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 121
current commitIndex 121 lastIncludedIndex 119 snapshot exists ? true
update server 0 's matchIndex from 121 to 121
update server 2 's matchIndex from 121 to 121
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 121
current commitIndex 121 lastIncludedIndex 119 snapshot exists ? true
update server 2 's matchIndex from 121 to 121
server 0 receives appendEntry from leader 1 prevLogIndex 121
current commitIndex 121 lastIncludedIndex 119 snapshot exists ? true
update server 0 's matchIndex from 121 to 121
server 2 term 24 state 0(leader false)(heartFlag true)
server 1 term 24 state 2(leader true)(heartFlag false)
nextIndex
122 || 122 || 122 || 
matchIndex
121 || 121 || 121 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 121
current commitIndex 121 lastIncludedIndex 119 snapshot exists ? true
update server 0 's matchIndex from 121 to 121
server 2 receives appendEntry from leader 1 prevLogIndex 121
current commitIndex 121 lastIncludedIndex 119 snapshot exists ? true
update server 2 's matchIndex from 121 to 121
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 121
current commitIndex 121 lastIncludedIndex 119 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 121
current commitIndex 121 lastIncludedIndex 119 snapshot exists ? true
update server 0 's matchIndex from 121 to 121
update server 2 's matchIndex from 121 to 121
server 0 term 24 state 0(leader false)(heartFlag true)
append command 7213127760877205723
len(log) = 122
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 121
current commitIndex 121 lastIncludedIndex 119 snapshot exists ? true
update server 0 's matchIndex from 121 to 122
getEntryTerm
leader server 1 commit index 122 command 7213127760877205723
server 1 term 24 state 2(leader true)(heartFlag false)
nextIndex
123 || 123 || 122 || 
matchIndex
122 || 122 || 121 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 122
getEntryTerm
current commitIndex 121 lastIncludedIndex 119 snapshot exists ? true
follower server 0 commit index 122 command 7213127760877205723 
update server 0 's matchIndex from 122 to 122
append command 5080259832578675001
len(log) = 123
append command 8379315462714343488
len(log) = 124
append command 316373581220162628
len(log) = 125
append command 200362227555304409
len(log) = 126
append command 1690250392828355855
len(log) = 127
append command 6108268916056343177
len(log) = 128
append command 3300697898920607972
len(log) = 129
append command 4077329372737748851
len(log) = 130
append command 4736448290277611428
len(log) = 131
append command 2304622981509741489
len(log) = 132
append command 3803287820473832010
len(log) = 133
server 2 term 24 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 122
current commitIndex 122 lastIncludedIndex 119 snapshot exists ? true
update server 0 's matchIndex from 122 to 133
getEntryTerm
leader server 1 commit index 123 command 5080259832578675001
leader server 1 commit index 124 command 8379315462714343488
leader server 1 commit index 125 command 316373581220162628
leader server 1 commit index 126 command 200362227555304409
leader server 1 commit index 127 command 1690250392828355855
leader server 1 commit index 128 command 6108268916056343177
leader server 1 commit index 129 command 3300697898920607972
leader server 1 commit index 130 command 4077329372737748851
server 1 takes snopshot and discards logs before index 129
getEntryTerm
discard index before 129(included)
server 1 finished snopshot
leader server 1 commit index 131 command 4736448290277611428
leader server 1 commit index 132 command 2304622981509741489
leader server 1 commit index 133 command 3803287820473832010
server 0 term 24 state 0(leader false)(heartFlag true)
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 133
getEntryTerm
current commitIndex 122 lastIncludedIndex 119 snapshot exists ? true
follower server 0 commit index 123 command 5080259832578675001 
follower server 0 commit index 124 command 8379315462714343488 
follower server 0 commit index 125 command 316373581220162628 
follower server 0 commit index 126 command 200362227555304409 
follower server 0 commit index 127 command 1690250392828355855 
follower server 0 commit index 128 command 6108268916056343177 
follower server 0 commit index 129 command 3300697898920607972 
follower server 0 commit index 130 command 4077329372737748851 
server 0 takes snopshot and discards logs before index 129
getEntryTerm
discard index before 129(included)
server 0 finished snopshot
follower server 0 commit index 131 command 4736448290277611428 
follower server 0 commit index 132 command 2304622981509741489 
follower server 0 commit index 133 command 3803287820473832010 
update server 0 's matchIndex from 133 to 133
append command 5058092249550964258
len(log) = 134
getEntryTerm
server 2 receives snopshot from leader 1
server 2 commit snopshot to lastIncludedIndex 129
server 0 receives appendEntry from leader 1 prevLogIndex 133
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
update server 0 's matchIndex from 133 to 134
getEntryTerm
leader server 1 commit index 134 command 5058092249550964258
server 1 term 24 state 2(leader true)(heartFlag false)
nextIndex
135 || 135 || 130 || 
matchIndex
134 || 134 || 129 || 
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 134
getEntryTerm
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 129
current commitIndex 129 lastIncludedIndex 129 snapshot exists ? true
follower server 2 commit index 130 command 4077329372737748851 
follower server 2 commit index 131 command 4736448290277611428 
follower server 2 commit index 132 command 2304622981509741489 
follower server 2 commit index 133 command 3803287820473832010 
follower server 2 commit index 134 command 5058092249550964258 
follower server 0 commit index 134 command 5058092249550964258 
update server 0 's matchIndex from 134 to 134
update server 2 's matchIndex from 129 to 134
server 2 term 24 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 134
current commitIndex 134 lastIncludedIndex 129 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 134
current commitIndex 134 lastIncludedIndex 129 snapshot exists ? true
update server 2 's matchIndex from 134 to 134
update server 0 's matchIndex from 134 to 134
server 0 term 24 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 134
current commitIndex 134 lastIncludedIndex 129 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 134
current commitIndex 134 lastIncludedIndex 129 snapshot exists ? true
update server 2 's matchIndex from 134 to 134
update server 0 's matchIndex from 134 to 134
server 1 term 24 state 2(leader true)(heartFlag false)
nextIndex
135 || getEntryTerm
135 || getEntryTerm
135 || 
matchIndex
134 || 134 || 134 || 
server 2 receives appendEntry from leader 1 prevLogIndex 134
current commitIndex 134 lastIncludedIndex 129 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 134
current commitIndex 134 lastIncludedIndex 129 snapshot exists ? true
update server 2 's matchIndex from 134 to 134
update server 0 's matchIndex from 134 to 134
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 134
current commitIndex 134 lastIncludedIndex 129 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 134
current commitIndex 134 lastIncludedIndex 129 snapshot exists ? true
update server 0 's matchIndex from 134 to 134
update server 2 's matchIndex from 134 to 134
server 2 term 24 state 0(leader false)(heartFlag true)
server 0 term 24 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 24 state 2(leader true)(heartFlag false)
nextIndex
135 || 135 || 135 || 
matchIndex
134 || 134 || 134 || 
getEntryTerm
getEntryTerm
server 2 term 24 state 0(leader false)(heartFlag false)
server 2 term 24 doesn't hear any heartbeat
server 2 convert to candidate
getEntryTerm
getEntryTerm
server 0 convert to follower
getEntryTerm
server 0 grant true for candidate 2's requestVote
server 2 convert to leader
server 2 term 25 send appendEntries
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 134
current commitIndex 134 lastIncludedIndex 129 snapshot exists ? true
update server 0 's matchIndex from 0 to 134
append command 3977339760154343624
len(log) = 135
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 134
current commitIndex 134 lastIncludedIndex 129 snapshot exists ? true
update server 0 's matchIndex from 134 to 135
getEntryTerm
leader server 2 commit index 135 command 3977339760154343624
getEntryTerm
getEntryTerm
server 0 term 25 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 135
getEntryTerm
current commitIndex 134 lastIncludedIndex 129 snapshot exists ? true
follower server 0 commit index 135 command 3977339760154343624 
update server 0 's matchIndex from 135 to 135
server 1 term 24 state 2(leader true)(heartFlag false)
nextIndex
135 || 135 || 135 || 
matchIndex
134 || 134 || 134 || 
append command 2790457314249836085
len(log) = 136
append command 7559610573436710608
len(log) = 137
append command 8782435484979777955
len(log) = 138
append command 4858295096614468667
len(log) = 139
append command 6388973453768722799
len(log) = 140
append command 1181539584607958232
len(log) = 141
append command 8983109004495929160
len(log) = 142
append command 506844741288184902
len(log) = 143
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 135
current commitIndex 135 lastIncludedIndex 129 snapshot exists ? true
update server 0 's matchIndex from 135 to 143
getEntryTerm
leader server 2 commit index 136 command 2790457314249836085
leader server 2 commit index 137 command 7559610573436710608
leader server 2 commit index 138 command 8782435484979777955
leader server 2 commit index 139 command 4858295096614468667
leader server 2 commit index 140 command 6388973453768722799
server 2 takes snopshot and discards logs before index 139
getEntryTerm
discard index before 139(included)
server 2 finished snopshot
leader server 2 commit index 141 command 1181539584607958232
leader server 2 commit index 142 command 8983109004495929160
leader server 2 commit index 143 command 506844741288184902
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 143
getEntryTerm
current commitIndex 135 lastIncludedIndex 129 snapshot exists ? true
follower server 0 commit index 136 command 2790457314249836085 
follower server 0 commit index 137 command 7559610573436710608 
follower server 0 commit index 138 command 8782435484979777955 
follower server 0 commit index 139 command 4858295096614468667 
follower server 0 commit index 140 command 6388973453768722799 
server 0 takes snopshot and discards logs before index 139
getEntryTerm
discard index before 139(included)
server 0 finished snopshot
follower server 0 commit index 141 command 1181539584607958232 
follower server 0 commit index 142 command 8983109004495929160 
follower server 0 commit index 143 command 506844741288184902 
update server 0 's matchIndex from 143 to 143
append command 2696568349635648202
len(log) = 135
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 134
server 0 receives appendEntry from leader 1 prevLogIndex 134
server 1 convert to follower
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 143
current commitIndex 143 lastIncludedIndex 139 snapshot exists ? true
server 1 receives snopshot from leader 2
server 1 commit snopshot to lastIncludedIndex 139
update server 0 's matchIndex from 143 to 143
server 0 term 25 state 0(leader false)(heartFlag true)
server 1 term 25 state 0(leader false)(heartFlag false)
server 1 term 25 doesn't hear any heartbeat
server 1 convert to candidate
server 2 convert to follower
getEntryTerm
server 2 thinks candidate 1 is not up-to-date
server 2 grant false for candidate 1's requestVote
server 0 convert to follower
getEntryTerm
server 0 thinks candidate 1 is not up-to-date
server 0 grant false for candidate 1's requestVote
server 2 term 26 state 0(leader false)(heartFlag false)
server 2 term 26 doesn't hear any heartbeat
server 2 convert to candidate
getEntryTerm
getEntryTerm
server 0 convert to follower
server 1 convert to follower
getEntryTerm
server 1 grant true for candidate 2's requestVote
server 0 grant true for candidate 2's requestVote
server 2 convert to leader
server 2 term 27 send appendEntries
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 143
lastLogIndex 139, args.PrevLogIndex 143
server 0 receives appendEntry from leader 2 prevLogIndex 143
current commitIndex 143 lastIncludedIndex 139 snapshot exists ? true
update server 0 's matchIndex from 0 to 143
server 0 term 27 state 0(leader false)(heartFlag true)
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 143
current commitIndex 143 lastIncludedIndex 139 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 139
current commitIndex 139 lastIncludedIndex 139 snapshot exists ? true
update server 0 's matchIndex from 143 to 143
follower server 1 commit index 140 command 6388973453768722799 
follower server 1 commit index 141 command 1181539584607958232 
follower server 1 commit index 142 command 8983109004495929160 
follower server 1 commit index 143 command 506844741288184902 
update server 1 's matchIndex from 0 to 143
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 143
current commitIndex 143 lastIncludedIndex 139 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 143
current commitIndex 143 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 143 to 143
update server 0 's matchIndex from 143 to 143
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 143
current commitIndex 143 lastIncludedIndex 139 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 143
current commitIndex 143 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 143 to 143
update server 0 's matchIndex from 143 to 143
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 143
current commitIndex 143 lastIncludedIndex 139 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 143
current commitIndex 143 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 143 to 143
update server 0 's matchIndex from 143 to 143
server 0 term 27 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 143
current commitIndex 143 lastIncludedIndex 139 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 143
current commitIndex 143 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 143 to 143
update server 0 's matchIndex from 143 to 143
server 1 term 27 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 143
current commitIndex 143 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 143 to 143
server 0 receives appendEntry from leader 2 prevLogIndex 143
current commitIndex 143 lastIncludedIndex 139 snapshot exists ? true
update server 0 's matchIndex from 143 to 143
server 2 term 27 state 2(leader true)(heartFlag false)
nextIndex
144 || 144 || 144 || 
matchIndex
143 || 143 || 143 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 143
current commitIndex 143 lastIncludedIndex 139 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 143
current commitIndex 143 lastIncludedIndex 139 snapshot exists ? true
update server 0 's matchIndex from 143 to 143
update server 1 's matchIndex from 143 to 143
server 1 term 27 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 143
current commitIndex 143 lastIncludedIndex 139 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 143
current commitIndex 143 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 143 to 143
update server 0 's matchIndex from 143 to 143
server 0 term 27 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 143
current commitIndex 143 lastIncludedIndex 139 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 143
current commitIndex 143 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 143 to 143
update server 0 's matchIndex from 143 to 143
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 143
current commitIndex 143 lastIncludedIndex 139 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 143
current commitIndex 143 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 143 to 143
update server 0 's matchIndex from 143 to 143
server 1 term 27 state 0(leader false)(heartFlag true)
server 2 term 27 state 2(leader true)(heartFlag false)
nextIndex
144 || 144 || 144 || 
matchIndex
143 || 143 || 143 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 143
current commitIndex 143 lastIncludedIndex 139 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 143
current commitIndex 143 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 143 to 143
update server 0 's matchIndex from 143 to 143
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 143
current commitIndex 143 lastIncludedIndex 139 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 143
current commitIndex 143 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 143 to 143
update server 0 's matchIndex from 143 to 143
server 0 term 27 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 143
current commitIndex 143 lastIncludedIndex 139 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 143
current commitIndex 143 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 143 to 143
update server 0 's matchIndex from 143 to 143
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 143
current commitIndex 143 lastIncludedIndex 139 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 143
current commitIndex 143 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 143 to 143
update server 0 's matchIndex from 143 to 143
server 2 term 27 state 2(leader true)(heartFlag false)
nextIndex
144 || 144 || 144 || 
matchIndex
143 || 143 || 143 || 
server 1 term 27 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 143
current commitIndex 143 lastIncludedIndex 139 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 143
current commitIndex 143 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 143 to 143
update server 0 's matchIndex from 143 to 143
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 143
current commitIndex 143 lastIncludedIndex 139 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 143
current commitIndex 143 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 143 to 143
update server 0 's matchIndex from 143 to 143
append command 2696568349635648202
len(log) = 144
server 0 term 27 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 143
current commitIndex 143 lastIncludedIndex 139 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 143
current commitIndex 143 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 143 to 144
update server 0 's matchIndex from 143 to 144
getEntryTerm
leader server 2 commit index 144 command 2696568349635648202
server 1 term 27 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 144
getEntryTerm
current commitIndex 143 lastIncludedIndex 139 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 144
getEntryTerm
current commitIndex 143 lastIncludedIndex 139 snapshot exists ? true
follower server 0 commit index 144 command 2696568349635648202 
follower server 1 commit index 144 command 2696568349635648202 
update server 0 's matchIndex from 144 to 144
update server 1 's matchIndex from 144 to 144
server 2 term 27 state 2(leader true)(heartFlag false)
nextIndex
145 || 145 || 145 || 
matchIndex
144 || 144 || 144 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 144
current commitIndex 144 lastIncludedIndex 139 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 144
current commitIndex 144 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 144 to 144
update server 0 's matchIndex from 144 to 144
server 0 term 27 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 144
current commitIndex 144 lastIncludedIndex 139 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 144
current commitIndex 144 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 144 to 144
update server 0 's matchIndex from 144 to 144
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 144
current commitIndex 144 lastIncludedIndex 139 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 144
current commitIndex 144 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 144 to 144
update server 0 's matchIndex from 144 to 144
server 1 term 27 state 0(leader false)(heartFlag true)
server 2 term 27 state 2(leader true)(heartFlag false)
nextIndex
145 || 145 || 145 || 
matchIndex
144 || 144 || 144 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 144
current commitIndex 144 lastIncludedIndex 139 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 144
current commitIndex 144 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 144 to 144
update server 0 's matchIndex from 144 to 144
append command 8138206199332874921
len(log) = 145
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 144
current commitIndex 144 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 144 to 145
getEntryTerm
leader server 2 commit index 145 command 8138206199332874921
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 145
getEntryTerm
current commitIndex 144 lastIncludedIndex 139 snapshot exists ? true
follower server 1 commit index 145 command 8138206199332874921 
update server 1 's matchIndex from 145 to 145
server 0 term 27 state 0(leader false)(heartFlag true)
append command 5289423075919332277
len(log) = 146
append command 7471419421775485429
len(log) = 147
append command 7530321158640000813
len(log) = 148
append command 2649620271781434498
len(log) = 149
append command 4643225164399077986
len(log) = 150
append command 3291645357841954400
len(log) = 151
append command 3852293751160299557
len(log) = 152
append command 509592951539423284
len(log) = 153
append command 5515687377185337857
len(log) = 154
append command 8910662278396118407
len(log) = 155
server 1 term 27 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 145
current commitIndex 145 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 145 to 155
getEntryTerm
leader server 2 commit index 146 command 5289423075919332277
leader server 2 commit index 147 command 7471419421775485429
leader server 2 commit index 148 command 7530321158640000813
leader server 2 commit index 149 command 2649620271781434498
leader server 2 commit index 150 command 4643225164399077986
server 2 takes snopshot and discards logs before index 149
getEntryTerm
discard index before 149(included)
server 2 finished snopshot
leader server 2 commit index 151 command 3291645357841954400
leader server 2 commit index 152 command 3852293751160299557
leader server 2 commit index 153 command 509592951539423284
leader server 2 commit index 154 command 5515687377185337857
leader server 2 commit index 155 command 8910662278396118407
server 2 term 27 state 2(leader true)(heartFlag false)
nextIndex
145 || 156 || 156 || 
matchIndex
144 || 155 || 155 || 
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 155
getEntryTerm
current commitIndex 145 lastIncludedIndex 139 snapshot exists ? true
follower server 1 commit index 146 command 5289423075919332277 
follower server 1 commit index 147 command 7471419421775485429 
follower server 1 commit index 148 command 7530321158640000813 
follower server 1 commit index 149 command 2649620271781434498 
follower server 1 commit index 150 command 4643225164399077986 
server 1 takes snopshot and discards logs before index 149
getEntryTerm
discard index before 149(included)
server 1 finished snopshot
follower server 1 commit index 151 command 3291645357841954400 
follower server 1 commit index 152 command 3852293751160299557 
follower server 1 commit index 153 command 509592951539423284 
follower server 1 commit index 154 command 5515687377185337857 
follower server 1 commit index 155 command 8910662278396118407 
update server 1 's matchIndex from 155 to 155
append command 7435765524689272006
len(log) = 156
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 155
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
server 0 receives snopshot from leader 2
server 0 commit snopshot to lastIncludedIndex 149
update server 1 's matchIndex from 155 to 156
getEntryTerm
leader server 2 commit index 156 command 7435765524689272006
server 1 term 27 state 0(leader false)(heartFlag true)
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 149
current commitIndex 149 lastIncludedIndex 149 snapshot exists ? true
follower server 0 commit index 150 command 4643225164399077986 
follower server 0 commit index 151 command 3291645357841954400 
follower server 0 commit index 152 command 3852293751160299557 
follower server 0 commit index 153 command 509592951539423284 
follower server 0 commit index 154 command 5515687377185337857 
follower server 0 commit index 155 command 8910662278396118407 
server 1 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
follower server 1 commit index 156 command 7435765524689272006 
follower server 0 commit index 156 command 7435765524689272006 
update server 1 's matchIndex from 156 to 156
update server 0 's matchIndex from 149 to 156
server 0 term 27 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 156
current commitIndex 156 lastIncludedIndex 149 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 156
current commitIndex 156 lastIncludedIndex 149 snapshot exists ? true
update server 1 's matchIndex from 156 to 156
update server 0 's matchIndex from 156 to 156
server 2 term 27 state 2(leader true)(heartFlag false)
nextIndex
157 || 157 || 157 || 
matchIndex
156 || 156 || 156 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 156
current commitIndex 156 lastIncludedIndex 149 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 156
current commitIndex 156 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 156 to 156
update server 1 's matchIndex from 156 to 156
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 156
current commitIndex 156 lastIncludedIndex 149 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 156
current commitIndex 156 lastIncludedIndex 149 snapshot exists ? true
update server 1 's matchIndex from 156 to 156
update server 0 's matchIndex from 156 to 156
server 0 term 27 state 0(leader false)(heartFlag true)
server 1 term 27 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 156
current commitIndex 156 lastIncludedIndex 149 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 156
current commitIndex 156 lastIncludedIndex 149 snapshot exists ? true
update server 1 's matchIndex from 156 to 156
update server 0 's matchIndex from 156 to 156
server 2 term 27 state 2(leader true)(heartFlag false)
nextIndex
157 || 157 || 157 || 
matchIndex
156 || 156 || 156 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 156
current commitIndex 156 lastIncludedIndex 149 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 156
current commitIndex 156 lastIncludedIndex 149 snapshot exists ? true
update server 1 's matchIndex from 156 to 156
update server 0 's matchIndex from 156 to 156
append command 3490720504874408715
len(log) = 157
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 156
current commitIndex 156 lastIncludedIndex 149 snapshot exists ? true
update server 1 's matchIndex from 156 to 157
server 1 term 27 state 0(leader false)(heartFlag true)
getEntryTerm
leader server 2 commit index 157 command 3490720504874408715
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 157
getEntryTerm
current commitIndex 156 lastIncludedIndex 149 snapshot exists ? true
follower server 1 commit index 157 command 3490720504874408715 
update server 1 's matchIndex from 157 to 157
append command 8895583946683660086
len(log) = 158
append command 3441065682422179152
len(log) = 159
append command 1093362012342340623
len(log) = 160
append command 3606413691404354439
len(log) = 161
append command 6997912692477187232
len(log) = 162
append command 5451913878219214470
len(log) = 163
append command 4284239480968437327
len(log) = 164
append command 4702509545299827533
len(log) = 165
append command 2223030152369625287
len(log) = 166
append command 5149123740911298083
len(log) = 167
append command 7966517576997268207
len(log) = 168
append command 2854748795177622544
len(log) = 169
append command 8614772375497219790
len(log) = 170
server 2 term 27 state 2(leader true)(heartFlag false)
nextIndex
157 || 158 || 171 || 
matchIndex
156 || 157 || 170 || 
server 0 term 27 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 157
current commitIndex 157 lastIncludedIndex 149 snapshot exists ? true
update server 1 's matchIndex from 157 to 170
getEntryTerm
leader server 2 commit index 158 command 8895583946683660086
leader server 2 commit index 159 command 3441065682422179152
leader server 2 commit index 160 command 1093362012342340623
server 2 takes snopshot and discards logs before index 159
getEntryTerm
discard index before 159(included)
server 2 finished snopshot
leader server 2 commit index 161 command 3606413691404354439
leader server 2 commit index 162 command 6997912692477187232
leader server 2 commit index 163 command 5451913878219214470
leader server 2 commit index 164 command 4284239480968437327
leader server 2 commit index 165 command 4702509545299827533
leader server 2 commit index 166 command 2223030152369625287
leader server 2 commit index 167 command 5149123740911298083
leader server 2 commit index 168 command 7966517576997268207
leader server 2 commit index 169 command 2854748795177622544
leader server 2 commit index 170 command 8614772375497219790
server 2 takes snopshot and discards logs before index 169
getEntryTerm
discard index before 169(included)
server 2 finished snopshot
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 170
getEntryTerm
current commitIndex 157 lastIncludedIndex 149 snapshot exists ? true
follower server 1 commit index 158 command 8895583946683660086 
follower server 1 commit index 159 command 3441065682422179152 
follower server 1 commit index 160 command 1093362012342340623 
server 1 takes snopshot and discards logs before index 159
getEntryTerm
discard index before 159(included)
server 1 finished snopshot
follower server 1 commit index 161 command 3606413691404354439 
follower server 1 commit index 162 command 6997912692477187232 
follower server 1 commit index 163 command 5451913878219214470 
follower server 1 commit index 164 command 4284239480968437327 
follower server 1 commit index 165 command 4702509545299827533 
follower server 1 commit index 166 command 2223030152369625287 
follower server 1 commit index 167 command 5149123740911298083 
follower server 1 commit index 168 command 7966517576997268207 
follower server 1 commit index 169 command 2854748795177622544 
follower server 1 commit index 170 command 8614772375497219790 
server 1 takes snopshot and discards logs before index 169
getEntryTerm
discard index before 169(included)
server 1 finished snopshot
update server 1 's matchIndex from 170 to 170
append command 3181029916744237447
len(log) = 171
server 1 term 27 state 0(leader false)(heartFlag true)
server 2 term 27 state 2(leader true)(heartFlag false)
nextIndex
157 || 171 || 172 || 
matchIndex
156 || 170 || 171 || 
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 170
current commitIndex 170 lastIncludedIndex 169 snapshot exists ? true
update server 1 's matchIndex from 170 to 171
server 0 receives snopshot from leader 2
server 0 commit snopshot to lastIncludedIndex 169
getEntryTerm
leader server 2 commit index 171 command 3181029916744237447
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 171
getEntryTerm
current commitIndex 170 lastIncludedIndex 169 snapshot exists ? true
follower server 1 commit index 171 command 3181029916744237447 
server 0 receives appendEntry from leader 2 prevLogIndex 169
current commitIndex 169 lastIncludedIndex 169 snapshot exists ? true
follower server 0 commit index 170 command 8614772375497219790 
follower server 0 commit index 171 command 3181029916744237447 
update server 1 's matchIndex from 171 to 171
update server 0 's matchIndex from 169 to 171
server 0 term 27 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 171
current commitIndex 171 lastIncludedIndex 169 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 171
current commitIndex 171 lastIncludedIndex 169 snapshot exists ? true
update server 0 's matchIndex from 171 to 171
update server 1 's matchIndex from 171 to 171
server 2 term 27 state 2(leader true)(heartFlag false)
nextIndex
172 || 172 || 172 || 
matchIndex
171 || 171 || 171 || 
server 1 term 27 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 171
current commitIndex 171 lastIncludedIndex 169 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 171
current commitIndex 171 lastIncludedIndex 169 snapshot exists ? true
update server 0 's matchIndex from 171 to 171
update server 1 's matchIndex from 171 to 171
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 171
current commitIndex 171 lastIncludedIndex 169 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 171
current commitIndex 171 lastIncludedIndex 169 snapshot exists ? true
update server 1 's matchIndex from 171 to 171
update server 0 's matchIndex from 171 to 171
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 171
current commitIndex 171 lastIncludedIndex 169 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 171
current commitIndex 171 lastIncludedIndex 169 snapshot exists ? true
update server 1 's matchIndex from 171 to 171
update server 0 's matchIndex from 171 to 171
server 0 term 27 state 0(leader false)(heartFlag true)
server 2 term 27 state 2(leader true)(heartFlag false)
nextIndex
172 || 172 || 172 || 
matchIndex
171 || 171 || 171 || 
server 1 term 27 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 171
current commitIndex 171 lastIncludedIndex 169 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 171
current commitIndex 171 lastIncludedIndex 169 snapshot exists ? true
update server 1 's matchIndex from 171 to 171
update server 0 's matchIndex from 171 to 171
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 27 state 2(leader true)(heartFlag false)
nextIndex
172 || 172 || 172 || 
matchIndex
171 || 171 || 171 || 
getEntryTerm
getEntryTerm
server 1 term 27 state 0(leader false)(heartFlag true)
server 0 term 27 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 27 state 2(leader true)(heartFlag false)
nextIndex
172 || 172 || 172 || 
matchIndex
171 || 171 || 171 || 
server 1 term 27 state 0(leader false)(heartFlag false)
server 1 term 27 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 0 convert to follower
getEntryTerm
server 0 grant true for candidate 1's requestVote
server 1 convert to leader
server 1 term 28 send appendEntries
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 171
current commitIndex 171 lastIncludedIndex 169 snapshot exists ? true
update server 0 's matchIndex from 0 to 171
append command 2507744955260546707
len(log) = 172
server 0 term 28 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 171
current commitIndex 171 lastIncludedIndex 169 snapshot exists ? true
update server 0 's matchIndex from 171 to 172
getEntryTerm
leader server 1 commit index 172 command 2507744955260546707
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 172
getEntryTerm
current commitIndex 171 lastIncludedIndex 169 snapshot exists ? true
follower server 0 commit index 172 command 2507744955260546707 
update server 0 's matchIndex from 172 to 172
append command 2539851120163158758
len(log) = 173
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 172
current commitIndex 172 lastIncludedIndex 169 snapshot exists ? true
update server 0 's matchIndex from 172 to 173
getEntryTerm
leader server 1 commit index 173 command 2539851120163158758
server 2 term 27 state 2(leader true)(heartFlag false)
nextIndex
172 || 172 || 172 || 
matchIndex
171 || 171 || 171 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 173
getEntryTerm
current commitIndex 172 lastIncludedIndex 169 snapshot exists ? true
follower server 0 commit index 173 command 2539851120163158758 
update server 0 's matchIndex from 173 to 173
server 0 term 28 state 0(leader false)(heartFlag true)
append command 4295086977809097908
len(log) = 174
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 171
server 0 receives appendEntry from leader 2 prevLogIndex 171
server 2 convert to follower
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 171
current commitIndex 171 lastIncludedIndex 169 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 173
current commitIndex 173 lastIncludedIndex 169 snapshot exists ? true
follower server 2 commit index 172 command 2507744955260546707 
follower server 2 commit index 173 command 2539851120163158758 
update server 0 's matchIndex from 173 to 174
update server 2 's matchIndex from 0 to 174
getEntryTerm
leader server 1 commit index 174 command 4295086977809097908
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 174
getEntryTerm
current commitIndex 173 lastIncludedIndex 169 snapshot exists ? true
follower server 2 commit index 174 command 4295086977809097908 
server 0 receives appendEntry from leader 1 prevLogIndex 174
getEntryTerm
current commitIndex 173 lastIncludedIndex 169 snapshot exists ? true
update server 2 's matchIndex from 174 to 174
follower server 0 commit index 174 command 4295086977809097908 
update server 0 's matchIndex from 174 to 174
server 1 term 28 state 2(leader true)(heartFlag false)
nextIndex
175 || 175 || 175 || 
matchIndex
174 || 174 || 174 || 
server 0 term 28 state 0(leader false)(heartFlag true)
server 2 term 28 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 174
current commitIndex 174 lastIncludedIndex 169 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 174
current commitIndex 174 lastIncludedIndex 169 snapshot exists ? true
update server 0 's matchIndex from 174 to 174
update server 2 's matchIndex from 174 to 174
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 174
current commitIndex 174 lastIncludedIndex 169 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 174
current commitIndex 174 lastIncludedIndex 169 snapshot exists ? true
update server 2 's matchIndex from 174 to 174
update server 0 's matchIndex from 174 to 174
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 174
current commitIndex 174 lastIncludedIndex 169 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 174
current commitIndex 174 lastIncludedIndex 169 snapshot exists ? true
update server 2 's matchIndex from 174 to 174
update server 0 's matchIndex from 174 to 174
server 2 term 28 state 0(leader false)(heartFlag true)
server 0 term 28 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 174
current commitIndex 174 lastIncludedIndex 169 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 174
current commitIndex 174 lastIncludedIndex 169 snapshot exists ? true
update server 2 's matchIndex from 174 to 174
update server 0 's matchIndex from 174 to 174
server 1 term 28 state 2(leader true)(heartFlag false)
nextIndex
175 || 175 || 175 || 
matchIndex
174 || 174 || 174 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 174
current commitIndex 174 lastIncludedIndex 169 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 174
current commitIndex 174 lastIncludedIndex 169 snapshot exists ? true
update server 2 's matchIndex from 174 to 174
update server 0 's matchIndex from 174 to 174
append command 998133610102660616
len(log) = 175
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 174
current commitIndex 174 lastIncludedIndex 169 snapshot exists ? true
update server 0 's matchIndex from 174 to 175
getEntryTerm
leader server 1 commit index 175 command 998133610102660616
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 175
getEntryTerm
current commitIndex 174 lastIncludedIndex 169 snapshot exists ? true
follower server 0 commit index 175 command 998133610102660616 
update server 0 's matchIndex from 175 to 175
append command 7470962265989917283
len(log) = 176
append command 9218251148394786699
len(log) = 177
append command 3614777045562488024
len(log) = 178
append command 8468705988646837962
len(log) = 179
append command 8156198514248867153
len(log) = 180
append command 4862110501789019618
len(log) = 181
append command 5161254795570169423
len(log) = 182
append command 263927528542941881
len(log) = 183
append command 4738534958261677807
len(log) = 184
append command 486603721168430278
len(log) = 185
append command 916853767245932394
len(log) = 186
append command 5019259462275521300
len(log) = 187
append command 649033982788257458
len(log) = 188
server 1 term 28 state 2(leader true)(heartFlag false)
nextIndex
176 || 189 || 175 || 
matchIndex
175 || 188 || 174 || 
server 2 term 28 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 175
current commitIndex 175 lastIncludedIndex 169 snapshot exists ? true
update server 0 's matchIndex from 175 to 188
getEntryTerm
leader server 1 commit index 176 command 7470962265989917283
leader server 1 commit index 177 command 9218251148394786699
leader server 1 commit index 178 command 3614777045562488024
leader server 1 commit index 179 command 8468705988646837962
leader server 1 commit index 180 command 8156198514248867153
server 1 takes snopshot and discards logs before index 179
getEntryTerm
discard index before 179(included)
server 1 finished snopshot
leader server 1 commit index 181 command 4862110501789019618
leader server 1 commit index 182 command 5161254795570169423
leader server 1 commit index 183 command 263927528542941881
leader server 1 commit index 184 command 4738534958261677807
leader server 1 commit index 185 command 486603721168430278
leader server 1 commit index 186 command 916853767245932394
leader server 1 commit index 187 command 5019259462275521300
leader server 1 commit index 188 command 649033982788257458
server 0 term 28 state 0(leader false)(heartFlag true)
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 188
getEntryTerm
current commitIndex 175 lastIncludedIndex 169 snapshot exists ? true
follower server 0 commit index 176 command 7470962265989917283 
follower server 0 commit index 177 command 9218251148394786699 
follower server 0 commit index 178 command 3614777045562488024 
follower server 0 commit index 179 command 8468705988646837962 
follower server 0 commit index 180 command 8156198514248867153 
server 0 takes snopshot and discards logs before index 179
getEntryTerm
discard index before 179(included)
server 0 finished snopshot
follower server 0 commit index 181 command 4862110501789019618 
follower server 0 commit index 182 command 5161254795570169423 
follower server 0 commit index 183 command 263927528542941881 
follower server 0 commit index 184 command 4738534958261677807 
follower server 0 commit index 185 command 486603721168430278 
follower server 0 commit index 186 command 916853767245932394 
follower server 0 commit index 187 command 5019259462275521300 
follower server 0 commit index 188 command 649033982788257458 
update server 0 's matchIndex from 188 to 188
append command 8704455693006269123
len(log) = 189
getEntryTerm
server 2 receives snopshot from leader 1
server 2 commit snopshot to lastIncludedIndex 179
server 0 receives appendEntry from leader 1 prevLogIndex 188
current commitIndex 188 lastIncludedIndex 179 snapshot exists ? true
update server 0 's matchIndex from 188 to 189
getEntryTerm
leader server 1 commit index 189 command 8704455693006269123
server 1 takes snopshot and discards logs before index 189
getEntryTerm
discard index before 189(included)
server 1 finished snopshot
server 0 term 28 state 0(leader false)(heartFlag true)
server 2 receives snopshot from leader 1
server 2 commit snopshot to lastIncludedIndex 189
server 0 receives appendEntry from leader 1 prevLogIndex 189
getEntryTerm
current commitIndex 188 lastIncludedIndex 179 snapshot exists ? true
follower server 0 commit index 189 command 8704455693006269123 
update server 0 's matchIndex from 189 to 189
server 0 takes snopshot and discards logs before index 189
getEntryTerm
discard index before 189(included)
server 0 finished snopshot
server 1 term 28 state 2(leader true)(heartFlag false)
nextIndex
190 || 190 || 190 || 
matchIndex
189 || 189 || 189 || 
server 2 term 28 state 0(leader false)(heartFlag false)
server 2 term 28 doesn't hear any heartbeat
server 2 convert to candidate
server 0 convert to follower
server 1 convert to follower
server 0 grant true for candidate 2's requestVote
server 1 grant true for candidate 2's requestVote
server 2 convert to leader
server 2 term 29 send appendEntries
server 1 receives appendEntry from leader 2 prevLogIndex 189
current commitIndex 189 lastIncludedIndex 189 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 189
current commitIndex 189 lastIncludedIndex 189 snapshot exists ? true
update server 1 's matchIndex from 0 to 189
update server 0 's matchIndex from 0 to 189
server 1 receives appendEntry from leader 2 prevLogIndex 189
current commitIndex 189 lastIncludedIndex 189 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 189
current commitIndex 189 lastIncludedIndex 189 snapshot exists ? true
update server 1 's matchIndex from 189 to 189
update server 0 's matchIndex from 189 to 189
server 1 receives appendEntry from leader 2 prevLogIndex 189
current commitIndex 189 lastIncludedIndex 189 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 189
current commitIndex 189 lastIncludedIndex 189 snapshot exists ? true
update server 0 's matchIndex from 189 to 189
update server 1 's matchIndex from 189 to 189
server 1 receives appendEntry from leader 2 prevLogIndex 189
current commitIndex 189 lastIncludedIndex 189 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 189
current commitIndex 189 lastIncludedIndex 189 snapshot exists ? true
update server 1 's matchIndex from 189 to 189
update server 0 's matchIndex from 189 to 189
server 0 term 29 state 0(leader false)(heartFlag true)
server 1 term 29 state 0(leader false)(heartFlag true)
server 1 receives appendEntry from leader 2 prevLogIndex 189
current commitIndex 189 lastIncludedIndex 189 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 189
current commitIndex 189 lastIncludedIndex 189 snapshot exists ? true
update server 1 's matchIndex from 189 to 189
update server 0 's matchIndex from 189 to 189
append command 5026181380668391939
len(log) = 190
server 1 receives appendEntry from leader 2 prevLogIndex 189
current commitIndex 189 lastIncludedIndex 189 snapshot exists ? true
update server 1 's matchIndex from 189 to 190
getEntryTerm
leader server 2 commit index 190 command 5026181380668391939
server 2 term 29 state 2(leader true)(heartFlag false)
nextIndex
190 || 191 || 191 || 
matchIndex
189 || 190 || 190 || 
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 190
getEntryTerm
current commitIndex 189 lastIncludedIndex 189 snapshot exists ? true
follower server 1 commit index 190 command 5026181380668391939 
update server 1 's matchIndex from 190 to 190
append command 2531852271337896371
len(log) = 191
append command 1597993775111392309
len(log) = 192
append command 8340268938878840560
len(log) = 193
append command 3846032619021728195
len(log) = 194
append command 7360026380962096861
len(log) = 195
append command 3493055330962018859
len(log) = 196
append command 4845143384792461520
len(log) = 197
append command 7751341299006386787
len(log) = 198
append command 3431218653476575987
len(log) = 199
append command 8800926206467430880
len(log) = 200
append command 5698076941412075156
len(log) = 201
append command 816003663431221147
len(log) = 202
server 1 term 29 state 0(leader false)(heartFlag true)
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 190
current commitIndex 190 lastIncludedIndex 189 snapshot exists ? true
update server 1 's matchIndex from 190 to 202
getEntryTerm
leader server 2 commit index 191 command 2531852271337896371
leader server 2 commit index 192 command 1597993775111392309
leader server 2 commit index 193 command 8340268938878840560
leader server 2 commit index 194 command 3846032619021728195
leader server 2 commit index 195 command 7360026380962096861
leader server 2 commit index 196 command 3493055330962018859
leader server 2 commit index 197 command 4845143384792461520
leader server 2 commit index 198 command 7751341299006386787
leader server 2 commit index 199 command 3431218653476575987
leader server 2 commit index 200 command 8800926206467430880
server 2 takes snopshot and discards logs before index 199
getEntryTerm
discard index before 199(included)
server 2 finished snopshot
leader server 2 commit index 201 command 5698076941412075156
leader server 2 commit index 202 command 816003663431221147
server 0 term 29 state 0(leader false)(heartFlag true)
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 202
getEntryTerm
current commitIndex 190 lastIncludedIndex 189 snapshot exists ? true
follower server 1 commit index 191 command 2531852271337896371 
follower server 1 commit index 192 command 1597993775111392309 
follower server 1 commit index 193 command 8340268938878840560 
follower server 1 commit index 194 command 3846032619021728195 
follower server 1 commit index 195 command 7360026380962096861 
follower server 1 commit index 196 command 3493055330962018859 
follower server 1 commit index 197 command 4845143384792461520 
follower server 1 commit index 198 command 7751341299006386787 
follower server 1 commit index 199 command 3431218653476575987 
follower server 1 commit index 200 command 8800926206467430880 
server 1 takes snopshot and discards logs before index 199
getEntryTerm
discard index before 199(included)
server 1 finished snopshot
follower server 1 commit index 201 command 5698076941412075156 
follower server 1 commit index 202 command 816003663431221147 
update server 1 's matchIndex from 202 to 202
append command 1369881085043102758
len(log) = 203
getEntryTerm
server 0 receives snopshot from leader 2
server 0 commit snopshot to lastIncludedIndex 199
server 1 receives appendEntry from leader 2 prevLogIndex 202
current commitIndex 202 lastIncludedIndex 199 snapshot exists ? true
update server 1 's matchIndex from 202 to 203
getEntryTerm
leader server 2 commit index 203 command 1369881085043102758
server 2 term 29 state 2(leader true)(heartFlag false)
nextIndex
200 || 204 || 204 || 
matchIndex
199 || 203 || 203 || 
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 203
getEntryTerm
current commitIndex 202 lastIncludedIndex 199 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 199
current commitIndex 199 lastIncludedIndex 199 snapshot exists ? true
follower server 0 commit index 200 command 8800926206467430880 
follower server 0 commit index 201 command 5698076941412075156 
follower server 0 commit index 202 command 816003663431221147 
follower server 0 commit index 203 command 1369881085043102758 
follower server 1 commit index 203 command 1369881085043102758 
update server 1 's matchIndex from 203 to 203
update server 0 's matchIndex from 199 to 203
server 0 term 29 state 0(leader false)(heartFlag true)
server 1 term 29 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 203
current commitIndex 203 lastIncludedIndex 199 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 203
current commitIndex 203 lastIncludedIndex 199 snapshot exists ? true
update server 1 's matchIndex from 203 to 203
update server 0 's matchIndex from 203 to 203
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 203
current commitIndex 203 lastIncludedIndex 199 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 203
current commitIndex 203 lastIncludedIndex 199 snapshot exists ? true
update server 1 's matchIndex from 203 to 203
update server 0 's matchIndex from 203 to 203
server 2 term 29 state 2(leader true)(heartFlag false)
nextIndex
204 || 204 || 204 || 
matchIndex
203 || 203 || 203 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 203
current commitIndex 203 lastIncludedIndex 199 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 203
current commitIndex 203 lastIncludedIndex 199 snapshot exists ? true
update server 0 's matchIndex from 203 to 203
update server 1 's matchIndex from 203 to 203
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 203
current commitIndex 203 lastIncludedIndex 199 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 203
current commitIndex 203 lastIncludedIndex 199 snapshot exists ? true
update server 1 's matchIndex from 203 to 203
update server 0 's matchIndex from 203 to 203
server 0 term 29 state 0(leader false)(heartFlag true)
server 1 term 29 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 203
current commitIndex 203 lastIncludedIndex 199 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 203
current commitIndex 203 lastIncludedIndex 199 snapshot exists ? true
update server 1 's matchIndex from 203 to 203
update server 0 's matchIndex from 203 to 203
server 2 term 29 state 2(leader true)(heartFlag false)
nextIndex
204 || 204 || 204 || 
matchIndex
203 || 203 || 203 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 29 state 0(leader false)(heartFlag true)
server 0 term 29 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 term 29 state 2(leader true)(heartFlag false)
nextIndex
204 || 204 || 204 || 
matchIndex
203 || 203 || 203 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 29 state 0(leader false)(heartFlag false)
server 0 term 29 doesn't hear any heartbeat
server 0 convert to candidate
getEntryTerm
getEntryTerm
server 1 convert to follower
getEntryTerm
server 1 grant true for candidate 0's requestVote
server 0 convert to leader
server 0 term 30 send appendEntries
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 203
current commitIndex 203 lastIncludedIndex 199 snapshot exists ? true
update server 1 's matchIndex from 0 to 203
getEntryTerm
getEntryTerm
append command 5007468449655155401
len(log) = 204
server 1 term 30 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 203
current commitIndex 203 lastIncludedIndex 199 snapshot exists ? true
update server 1 's matchIndex from 203 to 204
getEntryTerm
getEntryTerm
getEntryTerm
leader server 0 commit index 204 command 5007468449655155401
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 204
getEntryTerm
current commitIndex 203 lastIncludedIndex 199 snapshot exists ? true
follower server 1 commit index 204 command 5007468449655155401 
update server 1 's matchIndex from 204 to 204
getEntryTerm
getEntryTerm
append command 2598958826370364564
len(log) = 205
append command 8813653587044168905
len(log) = 206
append command 4999549434598969957
len(log) = 207
append command 5439386765041238541
len(log) = 208
append command 7164374732620017435
len(log) = 209
append command 8860222291007870577
len(log) = 210
append command 6717515536231543106
len(log) = 211
append command 3602802797046908153
len(log) = 212
append command 4869122834670006462
len(log) = 213
append command 6698804733815814802
len(log) = 214
append command 2766106642263985541
len(log) = 215
append command 3875493659395237582
len(log) = 216
append command 3383847270894002192
len(log) = 217
append command 2103814167981117503
len(log) = 218
server 2 term 29 state 2(leader true)(heartFlag false)
nextIndex
204 || 204 || 204 || 
matchIndex
203 || 203 || 203 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 204
current commitIndex 204 lastIncludedIndex 199 snapshot exists ? true
update server 1 's matchIndex from 204 to 218
getEntryTerm
getEntryTerm
getEntryTerm
leader server 0 commit index 205 command 2598958826370364564
leader server 0 commit index 206 command 8813653587044168905
leader server 0 commit index 207 command 4999549434598969957
leader server 0 commit index 208 command 5439386765041238541
leader server 0 commit index 209 command 7164374732620017435
leader server 0 commit index 210 command 8860222291007870577
server 0 takes snopshot and discards logs before index 209
getEntryTerm
discard index before 209(included)
server 0 finished snopshot
leader server 0 commit index 211 command 6717515536231543106
leader server 0 commit index 212 command 3602802797046908153
leader server 0 commit index 213 command 4869122834670006462
leader server 0 commit index 214 command 6698804733815814802
leader server 0 commit index 215 command 2766106642263985541
leader server 0 commit index 216 command 3875493659395237582
leader server 0 commit index 217 command 3383847270894002192
leader server 0 commit index 218 command 2103814167981117503
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 218
getEntryTerm
current commitIndex 204 lastIncludedIndex 199 snapshot exists ? true
follower server 1 commit index 205 command 2598958826370364564 
follower server 1 commit index 206 command 8813653587044168905 
follower server 1 commit index 207 command 4999549434598969957 
follower server 1 commit index 208 command 5439386765041238541 
follower server 1 commit index 209 command 7164374732620017435 
follower server 1 commit index 210 command 8860222291007870577 
server 1 takes snopshot and discards logs before index 209
getEntryTerm
discard index before 209(included)
server 1 finished snopshot
follower server 1 commit index 211 command 6717515536231543106 
follower server 1 commit index 212 command 3602802797046908153 
follower server 1 commit index 213 command 4869122834670006462 
follower server 1 commit index 214 command 6698804733815814802 
follower server 1 commit index 215 command 2766106642263985541 
follower server 1 commit index 216 command 3875493659395237582 
follower server 1 commit index 217 command 3383847270894002192 
follower server 1 commit index 218 command 2103814167981117503 
update server 1 's matchIndex from 218 to 218
getEntryTerm
getEntryTerm
server 1 term 30 state 0(leader false)(heartFlag true)
append command 1410139824027102932
len(log) = 204
getEntryTerm
server 2 receives snopshot from leader 0
server 2 convert to follower
server 2 commit snopshot to lastIncludedIndex 209
server 1 receives appendEntry from leader 0 prevLogIndex 218
current commitIndex 218 lastIncludedIndex 209 snapshot exists ? true
update server 1 's matchIndex from 218 to 218
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 218
current commitIndex 218 lastIncludedIndex 209 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 209
current commitIndex 209 lastIncludedIndex 209 snapshot exists ? true
follower server 2 commit index 210 command 8860222291007870577 
follower server 2 commit index 211 command 6717515536231543106 
follower server 2 commit index 212 command 3602802797046908153 
follower server 2 commit index 213 command 4869122834670006462 
update server 1 's matchIndex from 218 to 218
follower server 2 commit index 214 command 6698804733815814802 
follower server 2 commit index 215 command 2766106642263985541 
follower server 2 commit index 216 command 3875493659395237582 
follower server 2 commit index 217 command 3383847270894002192 
follower server 2 commit index 218 command 2103814167981117503 
update server 2 's matchIndex from 209 to 218
server 2 term 30 state 0(leader false)(heartFlag true)
server 0 term 30 state 2(leader true)(heartFlag false)
nextIndex
219 || 219 || 219 || 
matchIndex
218 || 218 || 218 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 218
current commitIndex 218 lastIncludedIndex 209 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 218
current commitIndex 218 lastIncludedIndex 209 snapshot exists ? true
update server 2 's matchIndex from 218 to 218
update server 1 's matchIndex from 218 to 218
server 1 term 30 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 218
current commitIndex 218 lastIncludedIndex 209 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 218
current commitIndex 218 lastIncludedIndex 209 snapshot exists ? true
update server 1 's matchIndex from 218 to 218
update server 2 's matchIndex from 218 to 218
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 218
current commitIndex 218 lastIncludedIndex 209 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 218
current commitIndex 218 lastIncludedIndex 209 snapshot exists ? true
update server 2 's matchIndex from 218 to 218
update server 1 's matchIndex from 218 to 218
server 0 term 30 state 2(leader true)(heartFlag false)
nextIndex
219 || 219 || 219 || 
matchIndex
218 || 218 || 218 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 218
current commitIndex 218 lastIncludedIndex 209 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 218
current commitIndex 218 lastIncludedIndex 209 snapshot exists ? true
update server 2 's matchIndex from 218 to 218
update server 1 's matchIndex from 218 to 218
server 2 term 30 state 0(leader false)(heartFlag true)
server 1 term 30 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 218
current commitIndex 218 lastIncludedIndex 209 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 218
current commitIndex 218 lastIncludedIndex 209 snapshot exists ? true
update server 2 's matchIndex from 218 to 218
update server 1 's matchIndex from 218 to 218
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 218
current commitIndex 218 lastIncludedIndex 209 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 218
current commitIndex 218 lastIncludedIndex 209 snapshot exists ? true
update server 2 's matchIndex from 218 to 218
update server 1 's matchIndex from 218 to 218
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 218
current commitIndex 218 lastIncludedIndex 209 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 218
current commitIndex 218 lastIncludedIndex 209 snapshot exists ? true
update server 1 's matchIndex from 218 to 218
update server 2 's matchIndex from 218 to 218
server 0 term 30 state 2(leader true)(heartFlag false)
nextIndex
219 || 219 || 219 || 
matchIndex
218 || 218 || 218 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 218
current commitIndex 218 lastIncludedIndex 209 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 218
current commitIndex 218 lastIncludedIndex 209 snapshot exists ? true
update server 2 's matchIndex from 218 to 218
update server 1 's matchIndex from 218 to 218
server 2 term 30 state 0(leader false)(heartFlag true)
server 1 term 30 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 218
current commitIndex 218 lastIncludedIndex 209 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 218
current commitIndex 218 lastIncludedIndex 209 snapshot exists ? true
update server 1 's matchIndex from 218 to 218
update server 2 's matchIndex from 218 to 218
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 218
server 1 receives appendEntry from leader 0 prevLogIndex 218
current commitIndex 218 lastIncludedIndex 209 snapshot exists ? true
current commitIndex 218 lastIncludedIndex 209 snapshot exists ? true
update server 1 's matchIndex from 218 to 218
update server 2 's matchIndex from 218 to 218
server 0 term 30 state 2(leader true)(heartFlag false)
nextIndex
219 || 219 || 219 || 
matchIndex
218 || 218 || 218 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 218
current commitIndex 218 lastIncludedIndex 209 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 218
current commitIndex 218 lastIncludedIndex 209 snapshot exists ? true
update server 1 's matchIndex from 218 to 218
update server 2 's matchIndex from 218 to 218
server 1 term 30 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 218
current commitIndex 218 lastIncludedIndex 209 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 218
current commitIndex 218 lastIncludedIndex 209 snapshot exists ? true
update server 2 's matchIndex from 218 to 218
update server 1 's matchIndex from 218 to 218
server 2 term 30 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 218
current commitIndex 218 lastIncludedIndex 209 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 218
current commitIndex 218 lastIncludedIndex 209 snapshot exists ? true
update server 2 's matchIndex from 218 to 218
update server 1 's matchIndex from 218 to 218
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 218
current commitIndex 218 lastIncludedIndex 209 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 218
current commitIndex 218 lastIncludedIndex 209 snapshot exists ? true
update server 1 's matchIndex from 218 to 218
update server 2 's matchIndex from 218 to 218
server 0 term 30 state 2(leader true)(heartFlag false)
nextIndex
219 || 219 || 219 || 
matchIndex
218 || 218 || 218 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 218
current commitIndex 218 lastIncludedIndex 209 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 218
current commitIndex 218 lastIncludedIndex 209 snapshot exists ? true
update server 2 's matchIndex from 218 to 218
update server 1 's matchIndex from 218 to 218
server 1 term 30 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 218
current commitIndex 218 lastIncludedIndex 209 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 218
current commitIndex 218 lastIncludedIndex 209 snapshot exists ? true
update server 2 's matchIndex from 218 to 218
update server 1 's matchIndex from 218 to 218
server 2 term 30 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 218
current commitIndex 218 lastIncludedIndex 209 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 218
current commitIndex 218 lastIncludedIndex 209 snapshot exists ? true
update server 1 's matchIndex from 218 to 218
update server 2 's matchIndex from 218 to 218
server 0 term 30 state 2(leader true)(heartFlag false)
nextIndex
219 || 219 || 219 || 
matchIndex
218 || 218 || 218 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 218
current commitIndex 218 lastIncludedIndex 209 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 218
current commitIndex 218 lastIncludedIndex 209 snapshot exists ? true
update server 2 's matchIndex from 218 to 218
update server 1 's matchIndex from 218 to 218
append command 1410139824027102932
len(log) = 219
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 218
current commitIndex 218 lastIncludedIndex 209 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 218
current commitIndex 218 lastIncludedIndex 209 snapshot exists ? true
update server 2 's matchIndex from 218 to 219
update server 1 's matchIndex from 218 to 219
getEntryTerm
leader server 0 commit index 219 command 1410139824027102932
server 0 takes snopshot and discards logs before index 219
getEntryTerm
discard index before 219(included)
server 0 finished snopshot
server 1 term 30 state 0(leader false)(heartFlag true)
server 2 receives appendEntry from leader 0 prevLogIndex 219
getEntryTerm
current commitIndex 218 lastIncludedIndex 209 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 219
getEntryTerm
current commitIndex 218 lastIncludedIndex 209 snapshot exists ? true
follower server 1 commit index 219 command 1410139824027102932 
follower server 2 commit index 219 command 1410139824027102932 
update server 1 's matchIndex from 219 to 219
update server 2 's matchIndex from 219 to 219
server 1 takes snopshot and discards logs before index 219
getEntryTerm
discard index before 219(included)
server 2 takes snopshot and discards logs before index 219
server 1 finished snopshot
getEntryTerm
discard index before 219(included)
server 2 finished snopshot
server 2 term 30 state 0(leader false)(heartFlag true)
server 2 receives appendEntry from leader 0 prevLogIndex 219
current commitIndex 219 lastIncludedIndex 219 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 219
current commitIndex 219 lastIncludedIndex 219 snapshot exists ? true
update server 2 's matchIndex from 219 to 219
update server 1 's matchIndex from 219 to 219
server 1 receives appendEntry from leader 0 prevLogIndex 219
current commitIndex 219 lastIncludedIndex 219 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 219
current commitIndex 219 lastIncludedIndex 219 snapshot exists ? true
update server 1 's matchIndex from 219 to 219
update server 2 's matchIndex from 219 to 219
server 0 term 30 state 2(leader true)(heartFlag false)
nextIndex
220 || 220 || 220 || 
matchIndex
219 || 219 || 219 || 
server 1 term 30 state 0(leader false)(heartFlag true)
server 2 term 30 state 0(leader false)(heartFlag true)
server 1 receives appendEntry from leader 0 prevLogIndex 219
current commitIndex 219 lastIncludedIndex 219 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 219
current commitIndex 219 lastIncludedIndex 219 snapshot exists ? true
update server 1 's matchIndex from 219 to 219
update server 2 's matchIndex from 219 to 219
server 2 receives appendEntry from leader 0 prevLogIndex 219
current commitIndex 219 lastIncludedIndex 219 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 219
current commitIndex 219 lastIncludedIndex 219 snapshot exists ? true
update server 2 's matchIndex from 219 to 219
update server 1 's matchIndex from 219 to 219
server 2 receives appendEntry from leader 0 prevLogIndex 219
current commitIndex 219 lastIncludedIndex 219 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 219
current commitIndex 219 lastIncludedIndex 219 snapshot exists ? true
update server 2 's matchIndex from 219 to 219
update server 1 's matchIndex from 219 to 219
append command 59170905514314241
len(log) = 220
server 0 term 30 state 2(leader true)(heartFlag false)
nextIndex
221 || 220 || 220 || 
matchIndex
220 || 219 || 219 || 
server 2 receives appendEntry from leader 0 prevLogIndex 219
current commitIndex 219 lastIncludedIndex 219 snapshot exists ? true
update server 2 's matchIndex from 219 to 220
getEntryTerm
leader server 0 commit index 220 command 59170905514314241
server 2 term 30 state 0(leader false)(heartFlag true)
server 1 term 30 state 0(leader false)(heartFlag true)
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 220
getEntryTerm
current commitIndex 219 lastIncludedIndex 219 snapshot exists ? true
follower server 2 commit index 220 command 59170905514314241 
update server 2 's matchIndex from 220 to 220
append command 2204160258645025997
len(log) = 221
append command 3073036424391977425
len(log) = 222
append command 5619367872283557052
len(log) = 223
append command 4006478824506195949
len(log) = 224
append command 7477593691246289631
len(log) = 225
append command 2065011765538581828
len(log) = 226
append command 5230853884645703624
len(log) = 227
append command 6742247493073210592
len(log) = 228
append command 7203146771565238046
len(log) = 229
append command 4869057551810849574
len(log) = 230
append command 2490995723118142039
len(log) = 231
append command 5547470037493130443
len(log) = 232
append command 2022614525369824205
len(log) = 233
append command 7484207267027001516
len(log) = 234
append command 2181463342424357436
len(log) = 235
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 220
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
update server 2 's matchIndex from 220 to 235
getEntryTerm
leader server 0 commit index 221 command 2204160258645025997
leader server 0 commit index 222 command 3073036424391977425
leader server 0 commit index 223 command 5619367872283557052
leader server 0 commit index 224 command 4006478824506195949
leader server 0 commit index 225 command 7477593691246289631
leader server 0 commit index 226 command 2065011765538581828
leader server 0 commit index 227 command 5230853884645703624
leader server 0 commit index 228 command 6742247493073210592
leader server 0 commit index 229 command 7203146771565238046
leader server 0 commit index 230 command 4869057551810849574
server 0 takes snopshot and discards logs before index 229
getEntryTerm
discard index before 229(included)
server 0 finished snopshot
leader server 0 commit index 231 command 2490995723118142039
leader server 0 commit index 232 command 5547470037493130443
leader server 0 commit index 233 command 2022614525369824205
leader server 0 commit index 234 command 7484207267027001516
leader server 0 commit index 235 command 2181463342424357436
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 235
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
follower server 2 commit index 221 command 2204160258645025997 
follower server 2 commit index 222 command 3073036424391977425 
follower server 2 commit index 223 command 5619367872283557052 
follower server 2 commit index 224 command 4006478824506195949 
follower server 2 commit index 225 command 7477593691246289631 
follower server 2 commit index 226 command 2065011765538581828 
follower server 2 commit index 227 command 5230853884645703624 
follower server 2 commit index 228 command 6742247493073210592 
follower server 2 commit index 229 command 7203146771565238046 
follower server 2 commit index 230 command 4869057551810849574 
server 2 takes snopshot and discards logs before index 229
getEntryTerm
discard index before 229(included)
server 2 finished snopshot
follower server 2 commit index 231 command 2490995723118142039 
follower server 2 commit index 232 command 5547470037493130443 
follower server 2 commit index 233 command 2022614525369824205 
follower server 2 commit index 234 command 7484207267027001516 
follower server 2 commit index 235 command 2181463342424357436 
update server 2 's matchIndex from 235 to 235
append command 1593293402841119599
len(log) = 236
server 0 term 30 state 2(leader true)(heartFlag false)
nextIndex
237 || 220 || 236 || 
matchIndex
236 || 219 || 235 || 
server 2 term 30 state 0(leader false)(heartFlag true)
getEntryTerm
server 1 term 30 state 0(leader false)(heartFlag false)
server 1 term 30 doesn't hear any heartbeat
server 1 convert to candidate
server 1 receives snopshot from leader 0
server 2 receives appendEntry from leader 0 prevLogIndex 235
current commitIndex 235 lastIncludedIndex 229 snapshot exists ? true
server 0 convert to follower
server 2 convert to follower
getEntryTerm
server 0 thinks candidate 1 is not up-to-date
getEntryTerm
server 0 grant false for candidate 1's requestVote
server 2 thinks candidate 1 is not up-to-date
server 2 grant false for candidate 1's requestVote
server 0 term 31 state 0(leader false)(heartFlag false)
server 0 term 31 doesn't hear any heartbeat
server 0 convert to candidate
getEntryTerm
getEntryTerm
server 1 convert to follower
server 2 convert to follower
server 1 grant true for candidate 0's requestVote
getEntryTerm
server 2 grant true for candidate 0's requestVote
server 0 convert to leader
server 0 term 32 send appendEntries
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 236
getEntryTerm
current commitIndex 235 lastIncludedIndex 229 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 236
lastLogIndex 219, args.PrevLogIndex 236
update server 2 's matchIndex from 0 to 236
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 32 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 236
getEntryTerm
current commitIndex 235 lastIncludedIndex 229 snapshot exists ? true
server 1 receives snopshot from leader 0
server 1 commit snopshot to lastIncludedIndex 229
update server 2 's matchIndex from 236 to 236
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 236
getEntryTerm
current commitIndex 235 lastIncludedIndex 229 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 229
current commitIndex 229 lastIncludedIndex 229 snapshot exists ? true
follower server 1 commit index 230 command 4869057551810849574 
follower server 1 commit index 231 command 2490995723118142039 
follower server 1 commit index 232 command 5547470037493130443 
follower server 1 commit index 233 command 2022614525369824205 
follower server 1 commit index 234 command 7484207267027001516 
follower server 1 commit index 235 command 2181463342424357436 
update server 2 's matchIndex from 236 to 236
update server 1 's matchIndex from 229 to 236
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 236
getEntryTerm
current commitIndex 235 lastIncludedIndex 229 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 236
getEntryTerm
current commitIndex 235 lastIncludedIndex 229 snapshot exists ? true
update server 2 's matchIndex from 236 to 236
update server 1 's matchIndex from 236 to 236
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 236
getEntryTerm
current commitIndex 235 lastIncludedIndex 229 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 236
getEntryTerm
current commitIndex 235 lastIncludedIndex 229 snapshot exists ? true
update server 2 's matchIndex from 236 to 236
update server 1 's matchIndex from 236 to 236
server 2 term 32 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 236
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 236
getEntryTerm
current commitIndex 235 lastIncludedIndex 229 snapshot exists ? true
current commitIndex 235 lastIncludedIndex 229 snapshot exists ? true
update server 1 's matchIndex from 236 to 236
update server 2 's matchIndex from 236 to 236
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 32 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 236
getEntryTerm
current commitIndex 235 lastIncludedIndex 229 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 236
getEntryTerm
current commitIndex 235 lastIncludedIndex 229 snapshot exists ? true
update server 1 's matchIndex from 236 to 236
update server 2 's matchIndex from 236 to 236
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 236
getEntryTerm
current commitIndex 235 lastIncludedIndex 229 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 236
getEntryTerm
current commitIndex 235 lastIncludedIndex 229 snapshot exists ? true
update server 2 's matchIndex from 236 to 236
update server 1 's matchIndex from 236 to 236
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 32 state 2(leader true)(heartFlag false)
nextIndex
237 || 237 || 237 || 
matchIndex
236 || 236 || 236 || 
getEntryTerm
server 2 term 32 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 236
getEntryTerm
current commitIndex 235 lastIncludedIndex 229 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 236
getEntryTerm
current commitIndex 235 lastIncludedIndex 229 snapshot exists ? true
update server 2 's matchIndex from 236 to 236
update server 1 's matchIndex from 236 to 236
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 236
getEntryTerm
current commitIndex 235 lastIncludedIndex 229 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 236
getEntryTerm
current commitIndex 235 lastIncludedIndex 229 snapshot exists ? true
update server 2 's matchIndex from 236 to 236
update server 1 's matchIndex from 236 to 236
getEntryTerm
server 1 term 32 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 236
getEntryTerm
current commitIndex 235 lastIncludedIndex 229 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 236
getEntryTerm
current commitIndex 235 lastIncludedIndex 229 snapshot exists ? true
update server 1 's matchIndex from 236 to 236
update server 2 's matchIndex from 236 to 236
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 32 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 236
getEntryTerm
current commitIndex 235 lastIncludedIndex 229 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 236
getEntryTerm
current commitIndex 235 lastIncludedIndex 229 snapshot exists ? true
update server 2 's matchIndex from 236 to 236
update server 1 's matchIndex from 236 to 236
getEntryTerm
getEntryTerm
server 0 term 32 state 2(leader true)(heartFlag false)
nextIndex
237 || 237 || 237 || 
matchIndex
236 || 236 || 236 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 236
getEntryTerm
current commitIndex 235 lastIncludedIndex 229 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 236
getEntryTerm
current commitIndex 235 lastIncludedIndex 229 snapshot exists ? true
update server 1 's matchIndex from 236 to 236
update server 2 's matchIndex from 236 to 236
server 1 term 32 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 236
getEntryTerm
current commitIndex 235 lastIncludedIndex 229 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 236
getEntryTerm
current commitIndex 235 lastIncludedIndex 229 snapshot exists ? true
update server 2 's matchIndex from 236 to 236
update server 1 's matchIndex from 236 to 236
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 32 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 236
getEntryTerm
current commitIndex 235 lastIncludedIndex 229 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 236
getEntryTerm
current commitIndex 235 lastIncludedIndex 229 snapshot exists ? true
update server 1 's matchIndex from 236 to 236
update server 2 's matchIndex from 236 to 236
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 32 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 236
getEntryTerm
current commitIndex 235 lastIncludedIndex 229 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 236
getEntryTerm
current commitIndex 235 lastIncludedIndex 229 snapshot exists ? true
update server 2 's matchIndex from 236 to 236
update server 1 's matchIndex from 236 to 236
getEntryTerm
getEntryTerm
server 0 term 32 state 2(leader true)(heartFlag false)
nextIndex
237 || 237 || 237 || 
matchIndex
236 || 236 || 236 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 236
getEntryTerm
current commitIndex 235 lastIncludedIndex 229 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 236
getEntryTerm
current commitIndex 235 lastIncludedIndex 229 snapshot exists ? true
update server 2 's matchIndex from 236 to 236
update server 1 's matchIndex from 236 to 236
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
append command 1593293402841119599
len(log) = 237
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 236
getEntryTerm
current commitIndex 235 lastIncludedIndex 229 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 236
getEntryTerm
current commitIndex 235 lastIncludedIndex 229 snapshot exists ? true
update server 1 's matchIndex from 236 to 237
update server 2 's matchIndex from 236 to 237
getEntryTerm
leader server 0 commit index 236 command 1593293402841119599
leader server 0 commit index 237 command 1593293402841119599
server 2 term 32 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 237
getEntryTerm
current commitIndex 235 lastIncludedIndex 229 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 237
getEntryTerm
current commitIndex 235 lastIncludedIndex 229 snapshot exists ? true
follower server 1 commit index 236 command 1593293402841119599 
follower server 1 commit index 237 command 1593293402841119599 
follower server 2 commit index 236 command 1593293402841119599 
follower server 2 commit index 237 command 1593293402841119599 
update server 1 's matchIndex from 237 to 237
update server 2 's matchIndex from 237 to 237
server 1 term 32 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 237
current commitIndex 237 lastIncludedIndex 229 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 237
current commitIndex 237 lastIncludedIndex 229 snapshot exists ? true
update server 2 's matchIndex from 237 to 237
update server 1 's matchIndex from 237 to 237
server 0 term 32 state 2(leader true)(heartFlag false)
nextIndex
238 || 238 || 238 || 
matchIndex
237 || 237 || 237 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 237
current commitIndex 237 lastIncludedIndex 229 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 237
current commitIndex 237 lastIncludedIndex 229 snapshot exists ? true
update server 2 's matchIndex from 237 to 237
update server 1 's matchIndex from 237 to 237
server 2 term 32 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 237
current commitIndex 237 lastIncludedIndex 229 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 237
current commitIndex 237 lastIncludedIndex 229 snapshot exists ? true
update server 1 's matchIndex from 237 to 237
update server 2 's matchIndex from 237 to 237
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 237
current commitIndex 237 lastIncludedIndex 229 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 237
current commitIndex 237 lastIncludedIndex 229 snapshot exists ? true
update server 2 's matchIndex from 237 to 237
update server 1 's matchIndex from 237 to 237
server 0 term 32 state 2(leader true)(heartFlag false)
nextIndex
238 || 238 || 238 || 
matchIndex
237 || 237 || 237 || 
server 1 term 32 state 0(leader false)(heartFlag true)
append command 3553885259160441292
len(log) = 238
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 237
current commitIndex 237 lastIncludedIndex 229 snapshot exists ? true
update server 2 's matchIndex from 237 to 238
getEntryTerm
leader server 0 commit index 238 command 3553885259160441292
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 238
getEntryTerm
current commitIndex 237 lastIncludedIndex 229 snapshot exists ? true
follower server 2 commit index 238 command 3553885259160441292 
update server 2 's matchIndex from 238 to 238
append command 6987173969890435292
len(log) = 239
append command 8598257485327887836
len(log) = 240
append command 2950295590881942499
len(log) = 241
append command 6492120226302839288
len(log) = 242
append command 7094513304149580937
len(log) = 243
append command 7251011748729635609
len(log) = 244
append command 5662718862695185133
len(log) = 245
server 2 term 32 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 238
current commitIndex 238 lastIncludedIndex 229 snapshot exists ? true
update server 2 's matchIndex from 238 to 245
getEntryTerm
leader server 0 commit index 239 command 6987173969890435292
leader server 0 commit index 240 command 8598257485327887836
server 0 takes snopshot and discards logs before index 239
getEntryTerm
discard index before 239(included)
server 0 finished snopshot
leader server 0 commit index 241 command 2950295590881942499
leader server 0 commit index 242 command 6492120226302839288
leader server 0 commit index 243 command 7094513304149580937
leader server 0 commit index 244 command 7251011748729635609
leader server 0 commit index 245 command 5662718862695185133
server 1 term 32 state 0(leader false)(heartFlag false)
server 1 term 32 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 0 term 32 state 2(leader true)(heartFlag false)
nextIndex
246 || 238 || 246 || 
matchIndex
245 || 237 || 245 || 
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 245
getEntryTerm
current commitIndex 238 lastIncludedIndex 229 snapshot exists ? true
follower server 2 commit index 239 command 6987173969890435292 
follower server 2 commit index 240 command 8598257485327887836 
server 2 takes snopshot and discards logs before index 239
getEntryTerm
discard index before 239(included)
server 2 finished snopshot
follower server 2 commit index 241 command 2950295590881942499 
follower server 2 commit index 242 command 6492120226302839288 
follower server 2 commit index 243 command 7094513304149580937 
follower server 2 commit index 244 command 7251011748729635609 
follower server 2 commit index 245 command 5662718862695185133 
update server 2 's matchIndex from 245 to 245
append command 4540195150129776053
len(log) = 246
getEntryTerm
server 1 receives snopshot from leader 0
server 2 receives appendEntry from leader 0 prevLogIndex 245
current commitIndex 245 lastIncludedIndex 239 snapshot exists ? true
server 0 convert to follower
server 1 term 33 ElectionTimeOut
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
getEntryTerm
server 0 convert to follower
getEntryTerm
server 0 thinks candidate 1 is not up-to-date
server 0 grant false for candidate 1's requestVote
server 2 thinks candidate 1 is not up-to-date
server 2 grant false for candidate 1's requestVote
server 2 term 34 state 0(leader false)(heartFlag true)
server 0 term 34 state 0(leader false)(heartFlag false)
server 0 term 34 doesn't hear any heartbeat
server 0 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
getEntryTerm
server 2 grant true for candidate 0's requestVote
server 1 convert to follower
server 0 convert to leader
server 0 term 35 send appendEntries
getEntryTerm
getEntryTerm
getEntryTerm
server 1 grant true for candidate 0's requestVote
server 2 receives appendEntry from leader 0 prevLogIndex 246
getEntryTerm
current commitIndex 245 lastIncludedIndex 239 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 246
lastLogIndex 237, args.PrevLogIndex 246
update server 2 's matchIndex from 0 to 246
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives snopshot from leader 0
server 1 commit snopshot to lastIncludedIndex 239
server 2 receives appendEntry from leader 0 prevLogIndex 246
getEntryTerm
current commitIndex 245 lastIncludedIndex 239 snapshot exists ? true
update server 2 's matchIndex from 246 to 246
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 246
getEntryTerm
current commitIndex 245 lastIncludedIndex 239 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 239
current commitIndex 239 lastIncludedIndex 239 snapshot exists ? true
follower server 1 commit index 240 command 8598257485327887836 
follower server 1 commit index 241 command 2950295590881942499 
follower server 1 commit index 242 command 6492120226302839288 
follower server 1 commit index 243 command 7094513304149580937 
follower server 1 commit index 244 command 7251011748729635609 
follower server 1 commit index 245 command 5662718862695185133 
update server 2 's matchIndex from 246 to 246
update server 1 's matchIndex from 239 to 246
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 35 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 246
getEntryTerm
current commitIndex 245 lastIncludedIndex 239 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 246
getEntryTerm
current commitIndex 245 lastIncludedIndex 239 snapshot exists ? true
update server 2 's matchIndex from 246 to 246
update server 1 's matchIndex from 246 to 246
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 246
getEntryTerm
current commitIndex 245 lastIncludedIndex 239 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 246
getEntryTerm
current commitIndex 245 lastIncludedIndex 239 snapshot exists ? true
update server 2 's matchIndex from 246 to 246
update server 1 's matchIndex from 246 to 246
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 246
getEntryTerm
current commitIndex 245 lastIncludedIndex 239 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 246
getEntryTerm
current commitIndex 245 lastIncludedIndex 239 snapshot exists ? true
update server 2 's matchIndex from 246 to 246
update server 1 's matchIndex from 246 to 246
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 35 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 246
getEntryTerm
current commitIndex 245 lastIncludedIndex 239 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 246
getEntryTerm
current commitIndex 245 lastIncludedIndex 239 snapshot exists ? true
update server 2 's matchIndex from 246 to 246
update server 1 's matchIndex from 246 to 246
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 35 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 246
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 246
getEntryTerm
current commitIndex 245 lastIncludedIndex 239 snapshot exists ? true
current commitIndex 245 lastIncludedIndex 239 snapshot exists ? true
update server 2 's matchIndex from 246 to 246
update server 1 's matchIndex from 246 to 246
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 35 state 2(leader true)(heartFlag false)
nextIndex
247 || 247 || 247 || 
matchIndex
246 || 246 || 246 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 246
getEntryTerm
current commitIndex 245 lastIncludedIndex 239 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 246
getEntryTerm
current commitIndex 245 lastIncludedIndex 239 snapshot exists ? true
update server 1 's matchIndex from 246 to 246
update server 2 's matchIndex from 246 to 246
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 246
getEntryTerm
current commitIndex 245 lastIncludedIndex 239 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 246
getEntryTerm
current commitIndex 245 lastIncludedIndex 239 snapshot exists ? true
update server 2 's matchIndex from 246 to 246
update server 1 's matchIndex from 246 to 246
server 1 term 35 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 35 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 246
getEntryTerm
current commitIndex 245 lastIncludedIndex 239 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 246
getEntryTerm
current commitIndex 245 lastIncludedIndex 239 snapshot exists ? true
update server 1 's matchIndex from 246 to 246
update server 2 's matchIndex from 246 to 246
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 246
getEntryTerm
current commitIndex 245 lastIncludedIndex 239 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 246
getEntryTerm
current commitIndex 245 lastIncludedIndex 239 snapshot exists ? true
update server 2 's matchIndex from 246 to 246
update server 1 's matchIndex from 246 to 246
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 35 state 2(leader true)(heartFlag false)
nextIndex
247 || 247 || 247 || 
matchIndex
246 || 246 || 246 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 246
getEntryTerm
current commitIndex 245 lastIncludedIndex 239 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 246
getEntryTerm
current commitIndex 245 lastIncludedIndex 239 snapshot exists ? true
update server 2 's matchIndex from 246 to 246
update server 1 's matchIndex from 246 to 246
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 35 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 246
getEntryTerm
current commitIndex 245 lastIncludedIndex 239 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 246
getEntryTerm
update server 1 's matchIndex from 246 to 246
current commitIndex 245 lastIncludedIndex 239 snapshot exists ? true
update server 2 's matchIndex from 246 to 246
getEntryTerm
getEntryTerm
server 1 term 35 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 246
getEntryTerm
current commitIndex 245 lastIncludedIndex 239 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 246
getEntryTerm
current commitIndex 245 lastIncludedIndex 239 snapshot exists ? true
update server 1 's matchIndex from 246 to 246
update server 2 's matchIndex from 246 to 246
getEntryTerm
server 0 term 35 state 2(leader true)(heartFlag false)
nextIndex
247 || 247 || 247 || getEntryTerm

matchIndex
246 || 246 || 246 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 246
getEntryTerm
current commitIndex 245 lastIncludedIndex 239 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 246
getEntryTerm
current commitIndex 245 lastIncludedIndex 239 snapshot exists ? true
update server 1 's matchIndex from 246 to 246
update server 2 's matchIndex from 246 to 246
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 35 state 0(leader false)(heartFlag true)
getEntryTerm
server 2 term 35 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 246
getEntryTerm
current commitIndex 245 lastIncludedIndex 239 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 246
getEntryTerm
current commitIndex 245 lastIncludedIndex 239 snapshot exists ? true
update server 2 's matchIndex from 246 to 246
update server 1 's matchIndex from 246 to 246
append command 4540195150129776053
len(log) = 247
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 246
getEntryTerm
current commitIndex 245 lastIncludedIndex 239 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 246
getEntryTerm
current commitIndex 245 lastIncludedIndex 239 snapshot exists ? true
update server 1 's matchIndex from 246 to 247
update server 2 's matchIndex from 246 to 247
getEntryTerm
leader server 0 commit index 246 command 4540195150129776053
leader server 0 commit index 247 command 4540195150129776053
server 0 term 35 state 2(leader true)(heartFlag false)
nextIndex
248 || 248 || 248 || 
matchIndex
247 || 247 || 247 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 247
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 247
getEntryTerm
current commitIndex 245 lastIncludedIndex 239 snapshot exists ? true
follower server 1 commit index 246 command 4540195150129776053 
follower server 1 commit index 247 command 4540195150129776053 
current commitIndex 245 lastIncludedIndex 239 snapshot exists ? true
follower server 2 commit index 246 command 4540195150129776053 
follower server 2 commit index 247 command 4540195150129776053 
update server 1 's matchIndex from 247 to 247
update server 2 's matchIndex from 247 to 247
server 1 term 35 state 0(leader false)(heartFlag true)
server 2 term 35 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 247
current commitIndex 247 lastIncludedIndex 239 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 247
current commitIndex 247 lastIncludedIndex 239 snapshot exists ? true
update server 1 's matchIndex from 247 to 247
update server 2 's matchIndex from 247 to 247
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 247
current commitIndex 247 lastIncludedIndex 239 snapshot exists ? true
update server 2 's matchIndex from 247 to 247
server 1 receives appendEntry from leader 0 prevLogIndex 247
current commitIndex 247 lastIncludedIndex 239 snapshot exists ? true
update server 1 's matchIndex from 247 to 247
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 247
current commitIndex 247 lastIncludedIndex 239 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 247
current commitIndex 247 lastIncludedIndex 239 snapshot exists ? true
update server 1 's matchIndex from 247 to 247
update server 2 's matchIndex from 247 to 247
server 1 term 35 state 0(leader false)(heartFlag true)
server 0 term 35 state 2(leader true)(heartFlag false)
nextIndex
248 || 248 || 248 || 
matchIndex
247 || 247 || 247 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 247
current commitIndex 247 lastIncludedIndex 239 snapshot exists ? true
update server 2 's matchIndex from 247 to 247
server 1 receives appendEntry from leader 0 prevLogIndex 247
current commitIndex 247 lastIncludedIndex 239 snapshot exists ? true
update server 1 's matchIndex from 247 to 247
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 247
current commitIndex 247 lastIncludedIndex 239 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 247
current commitIndex 247 lastIncludedIndex 239 snapshot exists ? true
update server 2 's matchIndex from 247 to 247
update server 1 's matchIndex from 247 to 247
server 2 term 35 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 term 35 state 0(leader false)(heartFlag true)
server 0 term 35 state 2(leader true)(heartFlag false)
nextIndex
248 || 248 || 248 || 
matchIndex
247 || 247 || 247 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 35 state 0(leader false)(heartFlag false)
server 2 term 35 doesn't hear any heartbeat
server 2 convert to candidate
getEntryTerm
getEntryTerm
server 1 convert to follower
getEntryTerm
server 1 grant true for candidate 2's requestVote
server 2 convert to leader
server 2 term 36 send appendEntries
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 247
current commitIndex 247 lastIncludedIndex 239 snapshot exists ? true
update server 1 's matchIndex from 0 to 247
append command 3821115317587897584
len(log) = 248
server 0 term 35 state 2(leader true)(heartFlag false)
nextIndex
248 || 248 || 248 || 
matchIndex
247 || 247 || 247 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 247
current commitIndex 247 lastIncludedIndex 239 snapshot exists ? true
update server 1 's matchIndex from 247 to 248
getEntryTerm
leader server 2 commit index 248 command 3821115317587897584
server 1 term 36 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 248
getEntryTerm
current commitIndex 247 lastIncludedIndex 239 snapshot exists ? true
follower server 1 commit index 248 command 3821115317587897584 
update server 1 's matchIndex from 248 to 248
append command 4852602541456715053
len(log) = 249
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 248
current commitIndex 248 lastIncludedIndex 239 snapshot exists ? true
update server 1 's matchIndex from 248 to 249
getEntryTerm
leader server 2 commit index 249 command 4852602541456715053
server 2 takes snopshot and discards logs before index 249
getEntryTerm
discard index before 249(included)
server 2 finished snopshot
server 0 term 35 state 2(leader true)(heartFlag false)
nextIndex
248 || 248 || 248 || 
matchIndex
247 || 247 || 247 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 249
getEntryTerm
current commitIndex 248 lastIncludedIndex 239 snapshot exists ? true
follower server 1 commit index 249 command 4852602541456715053 
update server 1 's matchIndex from 249 to 249
server 1 takes snopshot and discards logs before index 249
getEntryTerm
discard index before 249(included)
server 1 finished snopshot
append command 2342207392807251418
len(log) = 250
server 1 term 36 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 247
server 0 convert to follower
server 2 receives appendEntry from leader 0 prevLogIndex 247
server 1 receives appendEntry from leader 2 prevLogIndex 249
current commitIndex 249 lastIncludedIndex 249 snapshot exists ? true
server 0 receives snopshot from leader 2
server 0 commit snopshot to lastIncludedIndex 249
update server 1 's matchIndex from 249 to 250
getEntryTerm
leader server 2 commit index 250 command 2342207392807251418
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 250
getEntryTerm
current commitIndex 249 lastIncludedIndex 249 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 249
current commitIndex 249 lastIncludedIndex 249 snapshot exists ? true
follower server 0 commit index 250 command 2342207392807251418 
follower server 1 commit index 250 command 2342207392807251418 
update server 0 's matchIndex from 249 to 250
update server 1 's matchIndex from 250 to 250
server 0 term 36 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 250
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 250
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
update server 0 's matchIndex from 250 to 250
update server 1 's matchIndex from 250 to 250
server 2 term 36 state 2(leader true)(heartFlag false)
nextIndex
251 || 251 || 251 || 
matchIndex
250 || 250 || 250 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 250
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
update server 0 's matchIndex from 250 to 250
server 1 receives appendEntry from leader 2 prevLogIndex 250
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
update server 1 's matchIndex from 250 to 250
server 1 term 36 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 250
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 250
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
update server 1 's matchIndex from 250 to 250
update server 0 's matchIndex from 250 to 250
server 0 term 36 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 250
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 250
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
update server 1 's matchIndex from 250 to 250
update server 0 's matchIndex from 250 to 250
append command 4774332618339665955
len(log) = 251
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 250
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
update server 1 's matchIndex from 250 to 251
getEntryTerm
leader server 2 commit index 251 command 4774332618339665955
server 2 term 36 state 2(leader true)(heartFlag false)
nextIndex
251 || 252 || 252 || 
matchIndex
250 || 251 || 251 || 
server 1 term 36 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
follower server 1 commit index 251 command 4774332618339665955 
update server 1 's matchIndex from 251 to 251
append command 1565741350736356819
len(log) = 252
append command 2927799405244524276
len(log) = 253
append command 5000036483681909692
len(log) = 254
append command 1171865004639432063
len(log) = 255
append command 9048264982452928956
len(log) = 256
append command 1702132405539990768
len(log) = 257
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 251
current commitIndex 251 lastIncludedIndex 249 snapshot exists ? true
update server 1 's matchIndex from 251 to 257
getEntryTerm
leader server 2 commit index 252 command 1565741350736356819
leader server 2 commit index 253 command 2927799405244524276
leader server 2 commit index 254 command 5000036483681909692
leader server 2 commit index 255 command 1171865004639432063
leader server 2 commit index 256 command 9048264982452928956
leader server 2 commit index 257 command 1702132405539990768
server 0 term 36 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 257
getEntryTerm
current commitIndex 251 lastIncludedIndex 249 snapshot exists ? true
follower server 1 commit index 252 command 1565741350736356819 
follower server 1 commit index 253 command 2927799405244524276 
follower server 1 commit index 254 command 5000036483681909692 
follower server 1 commit index 255 command 1171865004639432063 
follower server 1 commit index 256 command 9048264982452928956 
follower server 1 commit index 257 command 1702132405539990768 
update server 1 's matchIndex from 257 to 257
append command 5098119308017068870
len(log) = 258
server 1 term 36 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 257
current commitIndex 257 lastIncludedIndex 249 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 250
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
follower server 0 commit index 251 command 4774332618339665955 
follower server 0 commit index 252 command 1565741350736356819 
update server 1 's matchIndex from 257 to 258
follower server 0 commit index 253 command 2927799405244524276 
follower server 0 commit index 254 command 5000036483681909692 
follower server 0 commit index 255 command 1171865004639432063 
follower server 0 commit index 256 command 9048264982452928956 
follower server 0 commit index 257 command 1702132405539990768 
update server 0 's matchIndex from 250 to 258
getEntryTerm
leader server 2 commit index 258 command 5098119308017068870
server 2 term 36 state 2(leader true)(heartFlag false)
nextIndex
259 || 259 || 259 || 
matchIndex
258 || 258 || 258 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 258
getEntryTerm
current commitIndex 257 lastIncludedIndex 249 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 258
getEntryTerm
current commitIndex 257 lastIncludedIndex 249 snapshot exists ? true
follower server 0 commit index 258 command 5098119308017068870 
follower server 1 commit index 258 command 5098119308017068870 
update server 0 's matchIndex from 258 to 258
update server 1 's matchIndex from 258 to 258
server 0 term 36 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 258
current commitIndex 258 lastIncludedIndex 249 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 258
current commitIndex 258 lastIncludedIndex 249 snapshot exists ? true
update server 1 's matchIndex from 258 to 258
update server 0 's matchIndex from 258 to 258
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 258
current commitIndex 258 lastIncludedIndex 249 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 258
current commitIndex 258 lastIncludedIndex 249 snapshot exists ? true
update server 1 's matchIndex from 258 to 258
update server 0 's matchIndex from 258 to 258
server 1 term 36 state 0(leader false)(heartFlag true)
server 2 term 36 state 2(leader true)(heartFlag false)
nextIndex
259 || 259 || 259 || 
matchIndex
258 || 258 || 258 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 258
current commitIndex 258 lastIncludedIndex 249 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 258
current commitIndex 258 lastIncludedIndex 249 snapshot exists ? true
update server 1 's matchIndex from 258 to 258
update server 0 's matchIndex from 258 to 258
server 0 term 36 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 258
current commitIndex 258 lastIncludedIndex 249 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 258
current commitIndex 258 lastIncludedIndex 249 snapshot exists ? true
update server 1 's matchIndex from 258 to 258
update server 0 's matchIndex from 258 to 258
append command 3325054029557567232
len(log) = 259
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 258
current commitIndex 258 lastIncludedIndex 249 snapshot exists ? true
update server 1 's matchIndex from 258 to 259
getEntryTerm
leader server 2 commit index 259 command 3325054029557567232
server 2 takes snopshot and discards logs before index 259
getEntryTerm
discard index before 259(included)
server 2 finished snopshot
server 1 term 36 state 0(leader false)(heartFlag true)
server 1 receives appendEntry from leader 2 prevLogIndex 259
getEntryTerm
current commitIndex 258 lastIncludedIndex 249 snapshot exists ? true
follower server 1 commit index 259 command 3325054029557567232 
update server 1 's matchIndex from 259 to 259
server 1 takes snopshot and discards logs before index 259
getEntryTerm
discard index before 259(included)
server 1 finished snopshot
append command 5732934244630487315
len(log) = 260
append command 7394047954422560710
len(log) = 261
append command 4498148362832562119
len(log) = 262
append command 287501350239840274
len(log) = 263
append command 5815855078927870675
len(log) = 264
append command 3957561761533399811
len(log) = 265
append command 8433537222737195635
len(log) = 266
append command 3530292002216933968
len(log) = 267
append command 5561563839894762094
len(log) = 268
append command 7731667364020426711
len(log) = 269
append command 7386137687005010811
len(log) = 270
append command 8871101353259107474
len(log) = 271
server 0 term 36 state 0(leader false)(heartFlag true)
server 2 term 36 state 2(leader true)(heartFlag false)
nextIndex
259 || 260 || 272 || 
matchIndex
258 || 259 || 271 || 
server 1 receives appendEntry from leader 2 prevLogIndex 259
current commitIndex 259 lastIncludedIndex 259 snapshot exists ? true
update server 1 's matchIndex from 259 to 271
getEntryTerm
leader server 2 commit index 260 command 5732934244630487315
leader server 2 commit index 261 command 7394047954422560710
leader server 2 commit index 262 command 4498148362832562119
leader server 2 commit index 263 command 287501350239840274
leader server 2 commit index 264 command 5815855078927870675
leader server 2 commit index 265 command 3957561761533399811
leader server 2 commit index 266 command 8433537222737195635
leader server 2 commit index 267 command 3530292002216933968
leader server 2 commit index 268 command 5561563839894762094
leader server 2 commit index 269 command 7731667364020426711
leader server 2 commit index 270 command 7386137687005010811
server 2 takes snopshot and discards logs before index 269
getEntryTerm
discard index before 269(included)
server 2 finished snopshot
leader server 2 commit index 271 command 8871101353259107474
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 271
getEntryTerm
current commitIndex 259 lastIncludedIndex 259 snapshot exists ? true
follower server 1 commit index 260 command 5732934244630487315 
follower server 1 commit index 261 command 7394047954422560710 
follower server 1 commit index 262 command 4498148362832562119 
follower server 1 commit index 263 command 287501350239840274 
follower server 1 commit index 264 command 5815855078927870675 
follower server 1 commit index 265 command 3957561761533399811 
follower server 1 commit index 266 command 8433537222737195635 
follower server 1 commit index 267 command 3530292002216933968 
follower server 1 commit index 268 command 5561563839894762094 
follower server 1 commit index 269 command 7731667364020426711 
follower server 1 commit index 270 command 7386137687005010811 
server 1 takes snopshot and discards logs before index 269
getEntryTerm
discard index before 269(included)
server 1 finished snopshot
follower server 1 commit index 271 command 8871101353259107474 
update server 1 's matchIndex from 271 to 271
append command 3634478578044221959
len(log) = 272
server 1 term 36 state 0(leader false)(heartFlag true)
getEntryTerm
server 0 receives snopshot from leader 2
server 0 commit snopshot to lastIncludedIndex 269
server 1 receives appendEntry from leader 2 prevLogIndex 271
current commitIndex 271 lastIncludedIndex 269 snapshot exists ? true
update server 1 's matchIndex from 271 to 272
getEntryTerm
leader server 2 commit index 272 command 3634478578044221959
server 2 term 36 state 2(leader true)(heartFlag false)
nextIndex
270 || 273 || 273 || 
matchIndex
269 || 272 || 272 || 
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 272
getEntryTerm
current commitIndex 271 lastIncludedIndex 269 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 269
current commitIndex 269 lastIncludedIndex 269 snapshot exists ? true
follower server 1 commit index 272 command 3634478578044221959 
follower server 0 commit index 270 command 7386137687005010811 
follower server 0 commit index 271 command 8871101353259107474 
follower server 0 commit index 272 command 3634478578044221959 
update server 1 's matchIndex from 272 to 272
update server 0 's matchIndex from 269 to 272
server 0 term 36 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 272
current commitIndex 272 lastIncludedIndex 269 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 272
current commitIndex 272 lastIncludedIndex 269 snapshot exists ? true
update server 1 's matchIndex from 272 to 272
update server 0 's matchIndex from 272 to 272
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 272
current commitIndex 272 lastIncludedIndex 269 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 272
current commitIndex 272 lastIncludedIndex 269 snapshot exists ? true
update server 1 's matchIndex from 272 to 272
update server 0 's matchIndex from 272 to 272
server 1 term 36 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 272
current commitIndex 272 lastIncludedIndex 269 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 272
current commitIndex 272 lastIncludedIndex 269 snapshot exists ? true
update server 1 's matchIndex from 272 to 272
update server 0 's matchIndex from 272 to 272
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 272
current commitIndex 272 lastIncludedIndex 269 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 272
current commitIndex 272 lastIncludedIndex 269 snapshot exists ? true
update server 0 's matchIndex from 272 to 272
update server 1 's matchIndex from 272 to 272
server 2 term 36 state 2(leader true)(heartFlag false)
nextIndex
273 || 273 || 273 || 
matchIndex
272 || 272 || 272 || 
server 0 term 36 state 0(leader false)(heartFlag true)
server 1 term 36 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 36 state 0(leader false)(heartFlag false)
server 0 term 36 doesn't hear any heartbeat
server 0 convert to candidate
getEntryTerm
getEntryTerm
server 1 convert to follower
getEntryTerm
server 1 grant true for candidate 0's requestVote
server 0 convert to leader
server 0 term 37 send appendEntries
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 272
current commitIndex 272 lastIncludedIndex 269 snapshot exists ? true
update server 1 's matchIndex from 0 to 272
append command 828850627944459789
len(log) = 273
getEntryTerm
getEntryTerm
server 1 term 37 state 0(leader false)(heartFlag true)
server 2 term 36 state 2(leader true)(heartFlag false)
nextIndex
273 || 273 || 273 || 
matchIndex
272 || 272 || 272 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 272
current commitIndex 272 lastIncludedIndex 269 snapshot exists ? true
update server 1 's matchIndex from 272 to 273
getEntryTerm
leader server 0 commit index 273 command 828850627944459789
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 273
getEntryTerm
current commitIndex 272 lastIncludedIndex 269 snapshot exists ? true
follower server 1 commit index 273 command 828850627944459789 
update server 1 's matchIndex from 273 to 273
append command 3412163547437603519
len(log) = 274
append command 4095707312296833808
len(log) = 275
append command 4393817758132595509
len(log) = 276
append command 6783835887431944167
len(log) = 277
append command 933666917736145340
len(log) = 278
append command 5960683100650967269
len(log) = 279
append command 1274031728709724722
len(log) = 280
append command 3564596381284302114
len(log) = 281
append command 1142657188656092949
len(log) = 282
append command 367618351217744661
len(log) = 283
append command 5660304978380671647
len(log) = 284
append command 582434887028481917
len(log) = 285
append command 8916821048859404423
len(log) = 286
append command 4655418483596653780
len(log) = 287
append command 1089170766341084184
len(log) = 288
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 273
current commitIndex 273 lastIncludedIndex 269 snapshot exists ? true
update server 1 's matchIndex from 273 to 288
getEntryTerm
leader server 0 commit index 274 command 3412163547437603519
leader server 0 commit index 275 command 4095707312296833808
leader server 0 commit index 276 command 4393817758132595509
leader server 0 commit index 277 command 6783835887431944167
leader server 0 commit index 278 command 933666917736145340
leader server 0 commit index 279 command 5960683100650967269
leader server 0 commit index 280 command 1274031728709724722
server 0 takes snopshot and discards logs before index 279
getEntryTerm
discard index before 279(included)
server 0 finished snopshot
leader server 0 commit index 281 command 3564596381284302114
leader server 0 commit index 282 command 1142657188656092949
leader server 0 commit index 283 command 367618351217744661
leader server 0 commit index 284 command 5660304978380671647
leader server 0 commit index 285 command 582434887028481917
leader server 0 commit index 286 command 8916821048859404423
leader server 0 commit index 287 command 4655418483596653780
leader server 0 commit index 288 command 1089170766341084184
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 288
getEntryTerm
current commitIndex 273 lastIncludedIndex 269 snapshot exists ? true
follower server 1 commit index 274 command 3412163547437603519 
follower server 1 commit index 275 command 4095707312296833808 
follower server 1 commit index 276 command 4393817758132595509 
follower server 1 commit index 277 command 6783835887431944167 
follower server 1 commit index 278 command 933666917736145340 
follower server 1 commit index 279 command 5960683100650967269 
follower server 1 commit index 280 command 1274031728709724722 
server 1 takes snopshot and discards logs before index 279
getEntryTerm
discard index before 279(included)
server 1 finished snopshot
follower server 1 commit index 281 command 3564596381284302114 
follower server 1 commit index 282 command 1142657188656092949 
follower server 1 commit index 283 command 367618351217744661 
follower server 1 commit index 284 command 5660304978380671647 
follower server 1 commit index 285 command 582434887028481917 
follower server 1 commit index 286 command 8916821048859404423 
follower server 1 commit index 287 command 4655418483596653780 
follower server 1 commit index 288 command 1089170766341084184 
update server 1 's matchIndex from 288 to 288
append command 4871626500987408320
len(log) = 273
server 2 term 36 state 2(leader true)(heartFlag false)
nextIndex
273 || 273 || 274 || 
matchIndex
272 || 272 || 273 || 
getEntryTerm
getEntryTerm
server 1 term 37 state 0(leader false)(heartFlag true)
server 0 receives appendEntry from leader 2 prevLogIndex 272
server 1 receives appendEntry from leader 2 prevLogIndex 272
server 2 convert to follower
getEntryTerm
server 2 receives snopshot from leader 0
server 2 commit snopshot to lastIncludedIndex 279
server 1 receives appendEntry from leader 0 prevLogIndex 288
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
update server 1 's matchIndex from 288 to 288
server 0 term 37 state 2(leader true)(heartFlag false)
nextIndex
289 || 289 || 280 || 
matchIndex
288 || 288 || 279 || 
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 288
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 279
current commitIndex 279 lastIncludedIndex 279 snapshot exists ? true
follower server 2 commit index 280 command 1274031728709724722 
follower server 2 commit index 281 command 3564596381284302114 
follower server 2 commit index 282 command 1142657188656092949 
follower server 2 commit index 283 command 367618351217744661 
follower server 2 commit index 284 command 5660304978380671647 
follower server 2 commit index 285 command 582434887028481917 
follower server 2 commit index 286 command 8916821048859404423 
follower server 2 commit index 287 command 4655418483596653780 
follower server 2 commit index 288 command 1089170766341084184 
update server 1 's matchIndex from 288 to 288
update server 2 's matchIndex from 279 to 288
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 288
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 288
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
update server 2 's matchIndex from 288 to 288
update server 1 's matchIndex from 288 to 288
server 1 term 37 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 288
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
update server 1 's matchIndex from 288 to 288
server 2 receives appendEntry from leader 0 prevLogIndex 288
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
update server 2 's matchIndex from 288 to 288
server 2 term 37 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 288
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 288
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
update server 1 's matchIndex from 288 to 288
update server 2 's matchIndex from 288 to 288
server 0 term 37 state 2(leader true)(heartFlag false)
nextIndex
289 || 289 || 289 || 
matchIndex
288 || 288 || 288 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 288
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 288
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
update server 1 's matchIndex from 288 to 288
update server 2 's matchIndex from 288 to 288
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 288
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 288
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
update server 1 's matchIndex from 288 to 288
update server 2 's matchIndex from 288 to 288
server 1 term 37 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 288
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 288
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
update server 2 's matchIndex from 288 to 288
update server 1 's matchIndex from 288 to 288
server 2 term 37 state 0(leader false)(heartFlag true)
server 0 term 37 state 2(leader true)(heartFlag false)
nextIndex
289 || 289 || 289 || 
matchIndex
288 || 288 || 288 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 288
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 288
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
update server 2 's matchIndex from 288 to 288
update server 1 's matchIndex from 288 to 288
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 288
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 288
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
update server 2 's matchIndex from 288 to 288
update server 1 's matchIndex from 288 to 288
server 1 term 37 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 288
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 288
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
update server 1 's matchIndex from 288 to 288
update server 2 's matchIndex from 288 to 288
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 288
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 288
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
update server 2 's matchIndex from 288 to 288
update server 1 's matchIndex from 288 to 288
server 2 term 37 state 0(leader false)(heartFlag true)
server 0 term 37 state 2(leader true)(heartFlag false)
nextIndex
289 || 289 || 289 || 
matchIndex
288 || 288 || 288 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 288
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 288
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
update server 2 's matchIndex from 288 to 288
update server 1 's matchIndex from 288 to 288
server 1 term 37 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 288
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 288
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
update server 1 's matchIndex from 288 to 288
update server 2 's matchIndex from 288 to 288
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 288
server 1 receives appendEntry from leader 0 prevLogIndex 288
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
update server 1 's matchIndex from 288 to 288
update server 2 's matchIndex from 288 to 288
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 288
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 288
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
update server 2 's matchIndex from 288 to 288
update server 1 's matchIndex from 288 to 288
server 2 term 37 state 0(leader false)(heartFlag true)
server 0 term 37 state 2(leader true)(heartFlag false)
nextIndex
289 || 289 || 289 || 
matchIndex
288 || 288 || 288 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 288
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 288
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
update server 2 's matchIndex from 288 to 288
update server 1 's matchIndex from 288 to 288
server 1 term 37 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 288
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 288
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
update server 1 's matchIndex from 288 to 288
update server 2 's matchIndex from 288 to 288
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 288
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 288
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
update server 2 's matchIndex from 288 to 288
update server 1 's matchIndex from 288 to 288
server 2 term 37 state 0(leader false)(heartFlag true)
server 1 term 37 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 288
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 288
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
update server 1 's matchIndex from 288 to 288
update server 2 's matchIndex from 288 to 288
server 0 term 37 state 2(leader true)(heartFlag false)
nextIndex
289 || 289 || 289 || 
matchIndex
288 || 288 || 288 || 
append command 4871626500987408320
len(log) = 289
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 288
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 288
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
update server 2 's matchIndex from 288 to 289
update server 1 's matchIndex from 288 to 289
getEntryTerm
leader server 0 commit index 289 command 4871626500987408320
server 0 takes snopshot and discards logs before index 289
getEntryTerm
discard index before 289(included)
server 0 finished snopshot
server 2 term 37 state 0(leader false)(heartFlag true)
server 2 receives appendEntry from leader 0 prevLogIndex 289
getEntryTerm
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 289
getEntryTerm
follower server 2 commit index 289 command 4871626500987408320 
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
follower server 1 commit index 289 command 4871626500987408320 
update server 2 's matchIndex from 289 to 289
update server 1 's matchIndex from 289 to 289
server 2 takes snopshot and discards logs before index 289
getEntryTerm
discard index before 289(included)
server 2 finished snopshot
server 1 takes snopshot and discards logs before index 289
getEntryTerm
discard index before 289(included)
server 1 finished snopshot
server 2 receives appendEntry from leader 0 prevLogIndex 289
server 1 receives appendEntry from leader 0 prevLogIndex 289
current commitIndex 289 lastIncludedIndex 289 snapshot exists ? true
current commitIndex 289 lastIncludedIndex 289 snapshot exists ? true
update server 1 's matchIndex from 289 to 289
update server 2 's matchIndex from 289 to 289
server 0 term 37 state 2(leader true)(heartFlag false)
nextIndex
290 || 290 || 290 || 
matchIndex
289 || 289 || 289 || 
server 1 receives appendEntry from leader 0 prevLogIndex 289
current commitIndex 289 lastIncludedIndex 289 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 289
current commitIndex 289 lastIncludedIndex 289 snapshot exists ? true
update server 1 's matchIndex from 289 to 289
update server 2 's matchIndex from 289 to 289
server 1 term 37 state 0(leader false)(heartFlag true)
server 2 term 37 state 0(leader false)(heartFlag true)
server 2 receives appendEntry from leader 0 prevLogIndex 289
current commitIndex 289 lastIncludedIndex 289 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 289
current commitIndex 289 lastIncludedIndex 289 snapshot exists ? true
update server 2 's matchIndex from 289 to 289
update server 1 's matchIndex from 289 to 289
server 2 receives appendEntry from leader 0 prevLogIndex 289
current commitIndex 289 lastIncludedIndex 289 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 289
current commitIndex 289 lastIncludedIndex 289 snapshot exists ? true
update server 1 's matchIndex from 289 to 289
update server 2 's matchIndex from 289 to 289
server 1 term 37 state 0(leader false)(heartFlag true)
server 2 receives appendEntry from leader 0 prevLogIndex 289
current commitIndex 289 lastIncludedIndex 289 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 289
current commitIndex 289 lastIncludedIndex 289 snapshot exists ? true
update server 2 's matchIndex from 289 to 289
update server 1 's matchIndex from 289 to 289
server 0 term 37 state 2(leader true)(heartFlag false)
nextIndex
290 || 290 || 290 || 
matchIndex
289 || 289 || 289 || 
append command 7427457459732453470
len(log) = 290
server 2 receives appendEntry from leader 0 prevLogIndex 289
current commitIndex 289 lastIncludedIndex 289 snapshot exists ? true
update server 2 's matchIndex from 289 to 290
getEntryTerm
leader server 0 commit index 290 command 7427457459732453470
server 2 term 37 state 0(leader false)(heartFlag true)
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 290
getEntryTerm
current commitIndex 289 lastIncludedIndex 289 snapshot exists ? true
follower server 2 commit index 290 command 7427457459732453470 
update server 2 's matchIndex from 290 to 290
append command 4433919440334983688
len(log) = 291
append command 6025953110019173934
len(log) = 292
append command 8125161489177939692
len(log) = 293
append command 8748022586187163406
len(log) = 294
append command 1317515337226554655
len(log) = 295
append command 3193963963274137652
len(log) = 296
append command 3911445915883020563
len(log) = 297
append command 992565922783024948
len(log) = 298
append command 7242600011630409929
len(log) = 299
append command 8059392203941206676
len(log) = 300
server 1 term 37 state 0(leader false)(heartFlag true)
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 290
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
update server 2 's matchIndex from 290 to 300
getEntryTerm
leader server 0 commit index 291 command 4433919440334983688
leader server 0 commit index 292 command 6025953110019173934
leader server 0 commit index 293 command 8125161489177939692
leader server 0 commit index 294 command 8748022586187163406
leader server 0 commit index 295 command 1317515337226554655
leader server 0 commit index 296 command 3193963963274137652
leader server 0 commit index 297 command 3911445915883020563
leader server 0 commit index 298 command 992565922783024948
leader server 0 commit index 299 command 7242600011630409929
leader server 0 commit index 300 command 8059392203941206676
server 0 takes snopshot and discards logs before index 299
getEntryTerm
discard index before 299(included)
server 0 finished snopshot
server 0 term 37 state 2(leader true)(heartFlag false)
nextIndex
301 || 290 || 301 || 
matchIndex
300 || 289 || 300 || 
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 300
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
follower server 2 commit index 291 command 4433919440334983688 
follower server 2 commit index 292 command 6025953110019173934 
follower server 2 commit index 293 command 8125161489177939692 
follower server 2 commit index 294 command 8748022586187163406 
follower server 2 commit index 295 command 1317515337226554655 
follower server 2 commit index 296 command 3193963963274137652 
follower server 2 commit index 297 command 3911445915883020563 
follower server 2 commit index 298 command 992565922783024948 
follower server 2 commit index 299 command 7242600011630409929 
follower server 2 commit index 300 command 8059392203941206676 
server 2 takes snopshot and discards logs before index 299
getEntryTerm
discard index before 299(included)
server 2 finished snopshot
server 2 term 37 state 0(leader false)(heartFlag true)
update server 2 's matchIndex from 300 to 300
append command 5884544323832005532
len(log) = 301
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 300
current commitIndex 300 lastIncludedIndex 299 snapshot exists ? true
server 1 receives snopshot from leader 0
server 1 commit snopshot to lastIncludedIndex 299
update server 2 's matchIndex from 300 to 301
getEntryTerm
leader server 0 commit index 301 command 5884544323832005532
server 1 term 37 state 0(leader false)(heartFlag false)
server 1 term 37 doesn't hear any heartbeat
server 1 convert to candidate
server 2 convert to follower
getEntryTerm
server 0 convert to follower
getEntryTerm
server 0 thinks candidate 1 is not up-to-date
server 0 grant false for candidate 1's requestVote
server 2 thinks candidate 1 is not up-to-date
server 2 grant false for candidate 1's requestVote
server 2 term 38 state 0(leader false)(heartFlag true)
server 0 term 38 state 0(leader false)(heartFlag false)
server 0 term 38 doesn't hear any heartbeat
server 0 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
getEntryTerm
server 1 convert to follower
server 2 grant true for candidate 0's requestVote
server 1 grant true for candidate 0's requestVote
server 0 convert to leader
server 0 term 39 send appendEntries
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 301
lastLogIndex 299, args.PrevLogIndex 301
server 2 receives appendEntry from leader 0 prevLogIndex 301
getEntryTerm
current commitIndex 300 lastIncludedIndex 299 snapshot exists ? true
follower server 2 commit index 301 command 5884544323832005532 
update server 2 's matchIndex from 0 to 301
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 301
current commitIndex 301 lastIncludedIndex 299 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 299
current commitIndex 299 lastIncludedIndex 299 snapshot exists ? true
follower server 1 commit index 300 command 8059392203941206676 
follower server 1 commit index 301 command 5884544323832005532 
update server 2 's matchIndex from 301 to 301
update server 1 's matchIndex from 0 to 301
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 301
current commitIndex 301 lastIncludedIndex 299 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 301
current commitIndex 301 lastIncludedIndex 299 snapshot exists ? true
update server 1 's matchIndex from 301 to 301
update server 2 's matchIndex from 301 to 301
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 301
current commitIndex 301 lastIncludedIndex 299 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 301
current commitIndex 301 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 301 to 301
update server 1 's matchIndex from 301 to 301
server 2 term 39 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 301
current commitIndex 301 lastIncludedIndex 299 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 301
current commitIndex 301 lastIncludedIndex 299 snapshot exists ? true
update server 1 's matchIndex from 301 to 301
update server 2 's matchIndex from 301 to 301
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 301
current commitIndex 301 lastIncludedIndex 299 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 301
current commitIndex 301 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 301 to 301
update server 1 's matchIndex from 301 to 301
server 1 term 39 state 0(leader false)(heartFlag true)
server 0 term 39 state 2(leader true)(heartFlag false)
nextIndex
302 || 302 || 302 || 
matchIndex
301 || 301 || 301 || 
append command 3403256443869254166
len(log) = 302
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 301
current commitIndex 301 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 301 to 302
getEntryTerm
leader server 0 commit index 302 command 3403256443869254166
server 2 term 39 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 302
getEntryTerm
current commitIndex 301 lastIncludedIndex 299 snapshot exists ? true
follower server 2 commit index 302 command 3403256443869254166 
update server 2 's matchIndex from 302 to 302
append command 4520927620003376500
len(log) = 303
append command 6428020660766203523
len(log) = 304
append command 1804641364413613187
len(log) = 305
append command 4031836082719273358
len(log) = 306
append command 1225387970241095431
len(log) = 307
append command 2353300666777537586
len(log) = 308
append command 2632455436237225583
len(log) = 309
server 0 term 39 state 2(leader true)(heartFlag false)
nextIndex
310 || 302 || 303 || 
matchIndex
309 || 301 || 302 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 302
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 302 to 309
getEntryTerm
leader server 0 commit index 303 command 4520927620003376500
leader server 0 commit index 304 command 6428020660766203523
leader server 0 commit index 305 command 1804641364413613187
leader server 0 commit index 306 command 4031836082719273358
leader server 0 commit index 307 command 1225387970241095431
leader server 0 commit index 308 command 2353300666777537586
leader server 0 commit index 309 command 2632455436237225583
server 0 takes snopshot and discards logs before index 309
getEntryTerm
discard index before 309(included)
server 0 finished snopshot
server 1 term 39 state 0(leader false)(heartFlag false)
server 1 term 39 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 309
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
follower server 2 commit index 303 command 4520927620003376500 
follower server 2 commit index 304 command 6428020660766203523 
follower server 2 commit index 305 command 1804641364413613187 
follower server 2 commit index 306 command 4031836082719273358 
follower server 2 commit index 307 command 1225387970241095431 
follower server 2 commit index 308 command 2353300666777537586 
follower server 2 commit index 309 command 2632455436237225583 
update server 2 's matchIndex from 309 to 309
server 2 takes snopshot and discards logs before index 309
getEntryTerm
discard index before 309(included)
server 2 finished snopshot
append command 2048130125959151071
len(log) = 310
server 1 receives snopshot from leader 0
server 2 receives appendEntry from leader 0 prevLogIndex 309
current commitIndex 309 lastIncludedIndex 309 snapshot exists ? true
server 0 convert to follower
server 2 term 39 state 0(leader false)(heartFlag true)
server 1 term 40 ElectionTimeOut
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
server 0 convert to follower
getEntryTerm
server 2 thinks candidate 1 is not up-to-date
server 2 grant false for candidate 1's requestVote
getEntryTerm
server 0 thinks candidate 1 is not up-to-date
server 0 grant false for candidate 1's requestVote
server 0 term 41 state 0(leader false)(heartFlag false)
server 0 term 41 doesn't hear any heartbeat
server 0 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
getEntryTerm
server 1 convert to follower
getEntryTerm
server 1 grant true for candidate 0's requestVote
server 2 grant true for candidate 0's requestVote
server 0 convert to leader
server 0 term 42 send appendEntries
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 310
getEntryTerm
current commitIndex 309 lastIncludedIndex 309 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 310
lastLogIndex 301, args.PrevLogIndex 310
update server 2 's matchIndex from 0 to 310
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 310
getEntryTerm
current commitIndex 309 lastIncludedIndex 309 snapshot exists ? true
server 1 receives snopshot from leader 0
server 1 commit snopshot to lastIncludedIndex 309
update server 2 's matchIndex from 310 to 310
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 42 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 310
getEntryTerm
current commitIndex 309 lastIncludedIndex 309 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 309
current commitIndex 309 lastIncludedIndex 309 snapshot exists ? true
update server 2 's matchIndex from 310 to 310
update server 1 's matchIndex from 309 to 310
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 310
getEntryTerm
current commitIndex 309 lastIncludedIndex 309 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 310
getEntryTerm
current commitIndex 309 lastIncludedIndex 309 snapshot exists ? true
update server 2 's matchIndex from 310 to 310
update server 1 's matchIndex from 310 to 310
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 310
getEntryTerm
current commitIndex 309 lastIncludedIndex 309 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 310
getEntryTerm
current commitIndex 309 lastIncludedIndex 309 snapshot exists ? true
update server 2 's matchIndex from 310 to 310
update server 1 's matchIndex from 310 to 310
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 310
getEntryTerm
current commitIndex 309 lastIncludedIndex 309 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 310
getEntryTerm
current commitIndex 309 lastIncludedIndex 309 snapshot exists ? true
update server 2 's matchIndex from 310 to 310
update server 1 's matchIndex from 310 to 310
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 310
getEntryTerm
current commitIndex 309 lastIncludedIndex 309 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 310
getEntryTerm
current commitIndex 309 lastIncludedIndex 309 snapshot exists ? true
update server 2 's matchIndex from 310 to 310
update server 1 's matchIndex from 310 to 310
getEntryTerm
server 2 term 42 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 42 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 310
getEntryTerm
current commitIndex 309 lastIncludedIndex 309 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 310
getEntryTerm
current commitIndex 309 lastIncludedIndex 309 snapshot exists ? true
update server 2 's matchIndex from 310 to 310
update server 1 's matchIndex from 310 to 310
server 0 term 42 state 2(leader true)(heartFlag false)
nextIndex
311 || 311 || 311 || 
matchIndex
310 || 310 || 310 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 310
getEntryTerm
current commitIndex 309 lastIncludedIndex 309 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 310
getEntryTerm
current commitIndex 309 lastIncludedIndex 309 snapshot exists ? true
update server 1 's matchIndex from 310 to 310
update server 2 's matchIndex from 310 to 310
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 310
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 310
getEntryTerm
current commitIndex 309 lastIncludedIndex 309 snapshot exists ? true
current commitIndex 309 lastIncludedIndex 309 snapshot exists ? true
update server 2 's matchIndex from 310 to 310
update server 1 's matchIndex from 310 to 310
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 310
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 310
getEntryTerm
current commitIndex 309 lastIncludedIndex 309 snapshot exists ? true
current commitIndex 309 lastIncludedIndex 309 snapshot exists ? true
update server 2 's matchIndex from 310 to 310
update server 1 's matchIndex from 310 to 310
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 42 state 0(leader false)(heartFlag true)
server 0 term 42 state 2(leader true)(heartFlag false)
nextIndex
311 || 311 || 311 || getEntryTerm

matchIndex
310 || 310 || 310 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 310
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 310
getEntryTerm
getEntryTerm
current commitIndex 309 lastIncludedIndex 309 snapshot exists ? true
current commitIndex 309 lastIncludedIndex 309 snapshot exists ? true
update server 1 's matchIndex from 310 to 310
update server 2 's matchIndex from 310 to 310
getEntryTerm
getEntryTerm
server 1 term 42 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 310
getEntryTerm
current commitIndex 309 lastIncludedIndex 309 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 310
getEntryTerm
current commitIndex 309 lastIncludedIndex 309 snapshot exists ? true
update server 1 's matchIndex from 310 to 310
update server 2 's matchIndex from 310 to 310
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 310
getEntryTerm
current commitIndex 309 lastIncludedIndex 309 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 310
getEntryTerm
current commitIndex 309 lastIncludedIndex 309 snapshot exists ? true
update server 2 's matchIndex from 310 to 310
update server 1 's matchIndex from 310 to 310
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 42 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 310
getEntryTerm
current commitIndex 309 lastIncludedIndex 309 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 310
getEntryTerm
current commitIndex 309 lastIncludedIndex 309 snapshot exists ? true
update server 2 's matchIndex from 310 to 310
update server 1 's matchIndex from 310 to 310
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 42 state 2(leader true)(heartFlag false)
nextIndex
311 || 311 || 311 || 
matchIndex
310 || 310 || 310 || 
getEntryTerm
getEntryTerm
server 1 term 42 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 310
getEntryTerm
current commitIndex 309 lastIncludedIndex 309 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 310
getEntryTerm
current commitIndex 309 lastIncludedIndex 309 snapshot exists ? true
update server 2 's matchIndex from 310 to 310
update server 1 's matchIndex from 310 to 310
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 310
getEntryTerm
current commitIndex 309 lastIncludedIndex 309 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 310
getEntryTerm
current commitIndex 309 lastIncludedIndex 309 snapshot exists ? true
update server 1 's matchIndex from 310 to 310
update server 2 's matchIndex from 310 to 310
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 310
getEntryTerm
current commitIndex 309 lastIncludedIndex 309 snapshot exists ? true
update server 2 's matchIndex from 310 to 310
server 1 receives appendEntry from leader 0 prevLogIndex 310
getEntryTerm
current commitIndex 309 lastIncludedIndex 309 snapshot exists ? true
update server 1 's matchIndex from 310 to 310
append command 2048130125959151071
len(log) = 311
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 42 state 2(leader true)(heartFlag false)
nextIndex
312 || 311 || 311 || 
matchIndex
311 || 310 || 310 || 
getEntryTerm
server 2 term 42 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 310
getEntryTerm
current commitIndex 309 lastIncludedIndex 309 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 310
getEntryTerm
current commitIndex 309 lastIncludedIndex 309 snapshot exists ? true
update server 2 's matchIndex from 310 to 311
update server 1 's matchIndex from 310 to 311
getEntryTerm
leader server 0 commit index 310 command 2048130125959151071
leader server 0 commit index 311 command 2048130125959151071
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 311
getEntryTerm
current commitIndex 309 lastIncludedIndex 309 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 311
getEntryTerm
follower server 2 commit index 310 command 2048130125959151071 
follower server 2 commit index 311 command 2048130125959151071 
current commitIndex 309 lastIncludedIndex 309 snapshot exists ? true
follower server 1 commit index 310 command 2048130125959151071 
follower server 1 commit index 311 command 2048130125959151071 
update server 2 's matchIndex from 311 to 311
update server 1 's matchIndex from 311 to 311
server 1 term 42 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 311
current commitIndex 311 lastIncludedIndex 309 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 311
current commitIndex 311 lastIncludedIndex 309 snapshot exists ? true
update server 2 's matchIndex from 311 to 311
update server 1 's matchIndex from 311 to 311
server 0 term 42 state 2(leader true)(heartFlag false)
nextIndex
312 || 312 || 312 || 
matchIndex
311 || 311 || 311 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 311
current commitIndex 311 lastIncludedIndex 309 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 311
current commitIndex 311 lastIncludedIndex 309 snapshot exists ? true
update server 1 's matchIndex from 311 to 311
update server 2 's matchIndex from 311 to 311
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 311
current commitIndex 311 lastIncludedIndex 309 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 311
current commitIndex 311 lastIncludedIndex 309 snapshot exists ? true
update server 1 's matchIndex from 311 to 311
update server 2 's matchIndex from 311 to 311
server 2 term 42 state 0(leader false)(heartFlag true)
server 1 term 42 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 311
current commitIndex 311 lastIncludedIndex 309 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 311
current commitIndex 311 lastIncludedIndex 309 snapshot exists ? true
update server 2 's matchIndex from 311 to 311
update server 1 's matchIndex from 311 to 311
getEntryTerm
getEntryTerm
server 0 term 42 state 2(leader true)(heartFlag false)
nextIndex
312 || 312 || 312 || 
matchIndex
311 || 311 || 311 || 
getEntryTerm
getEntryTerm
server 1 term 42 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 term 42 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 term 42 state 0(leader false)(heartFlag false)
server 1 term 42 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
getEntryTerm
server 2 grant true for candidate 1's requestVote
server 1 convert to leader
server 1 term 43 send appendEntries
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 311
current commitIndex 311 lastIncludedIndex 309 snapshot exists ? true
update server 2 's matchIndex from 0 to 311
getEntryTerm
getEntryTerm
append command 1767298168867521428
len(log) = 312
server 0 term 42 state 2(leader true)(heartFlag false)
nextIndex
312 || 312 || 312 || 
matchIndex
311 || 311 || 311 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 311
current commitIndex 311 lastIncludedIndex 309 snapshot exists ? true
update server 2 's matchIndex from 311 to 312
getEntryTerm
getEntryTerm
getEntryTerm
leader server 1 commit index 312 command 1767298168867521428
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 312
getEntryTerm
current commitIndex 311 lastIncludedIndex 309 snapshot exists ? true
follower server 2 commit index 312 command 1767298168867521428 
update server 2 's matchIndex from 312 to 312
append command 609488892762886583
len(log) = 313
append command 471143656524246303
len(log) = 314
append command 797770492692663253
len(log) = 315
append command 4149996479522656160
len(log) = 316
append command 1945758579153580822
len(log) = 317
append command 2174278484377630816
len(log) = 318
append command 4611870592463197174
len(log) = 319
append command 7112760675429851984
len(log) = 320
append command 4709705819302238416
len(log) = 321
append command 1283762346141269866
len(log) = 322
append command 2674325752976700126
len(log) = 323
append command 6357454389049768843
len(log) = 324
append command 801949133519076452
len(log) = 325
getEntryTerm
getEntryTerm
server 2 term 43 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 312
current commitIndex 312 lastIncludedIndex 309 snapshot exists ? true
update server 2 's matchIndex from 312 to 325
getEntryTerm
getEntryTerm
getEntryTerm
leader server 1 commit index 313 command 609488892762886583
leader server 1 commit index 314 command 471143656524246303
leader server 1 commit index 315 command 797770492692663253
leader server 1 commit index 316 command 4149996479522656160
leader server 1 commit index 317 command 1945758579153580822
leader server 1 commit index 318 command 2174278484377630816
leader server 1 commit index 319 command 4611870592463197174
leader server 1 commit index 320 command 7112760675429851984
server 1 takes snopshot and discards logs before index 319
getEntryTerm
discard index before 319(included)
server 1 finished snopshot
leader server 1 commit index 321 command 4709705819302238416
leader server 1 commit index 322 command 1283762346141269866
leader server 1 commit index 323 command 2674325752976700126
leader server 1 commit index 324 command 6357454389049768843
leader server 1 commit index 325 command 801949133519076452
server 0 term 42 state 2(leader true)(heartFlag false)
nextIndex
312 || 312 || 312 || 
matchIndex
311 || 311 || 311 || 
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 325
getEntryTerm
current commitIndex 312 lastIncludedIndex 309 snapshot exists ? true
follower server 2 commit index 313 command 609488892762886583 
follower server 2 commit index 314 command 471143656524246303 
follower server 2 commit index 315 command 797770492692663253 
follower server 2 commit index 316 command 4149996479522656160 
follower server 2 commit index 317 command 1945758579153580822 
follower server 2 commit index 318 command 2174278484377630816 
follower server 2 commit index 319 command 4611870592463197174 
follower server 2 commit index 320 command 7112760675429851984 
server 2 takes snopshot and discards logs before index 319
getEntryTerm
discard index before 319(included)
server 2 finished snopshot
follower server 2 commit index 321 command 4709705819302238416 
follower server 2 commit index 322 command 1283762346141269866 
follower server 2 commit index 323 command 2674325752976700126 
follower server 2 commit index 324 command 6357454389049768843 
follower server 2 commit index 325 command 801949133519076452 
update server 2 's matchIndex from 325 to 325
append command 581885361588202757
getEntryTerm
len(log) = 326
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 311
server 1 receives appendEntry from leader 0 prevLogIndex 311
server 0 convert to follower
getEntryTerm
server 0 receives snopshot from leader 1
server 0 commit snopshot to lastIncludedIndex 319
server 2 receives appendEntry from leader 1 prevLogIndex 325
current commitIndex 325 lastIncludedIndex 319 snapshot exists ? true
update server 2 's matchIndex from 325 to 326
getEntryTerm
leader server 1 commit index 326 command 581885361588202757
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 326
getEntryTerm
current commitIndex 325 lastIncludedIndex 319 snapshot exists ? true
follower server 2 commit index 326 command 581885361588202757 
server 0 receives appendEntry from leader 1 prevLogIndex 319
current commitIndex 319 lastIncludedIndex 319 snapshot exists ? true
follower server 0 commit index 320 command 7112760675429851984 
update server 2 's matchIndex from 326 to 326
follower server 0 commit index 321 command 4709705819302238416 
follower server 0 commit index 322 command 1283762346141269866 
follower server 0 commit index 323 command 2674325752976700126 
follower server 0 commit index 324 command 6357454389049768843 
follower server 0 commit index 325 command 801949133519076452 
follower server 0 commit index 326 command 581885361588202757 
update server 0 's matchIndex from 319 to 326
server 0 term 43 state 0(leader false)(heartFlag true)
server 2 term 43 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 326
current commitIndex 326 lastIncludedIndex 319 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 326
current commitIndex 326 lastIncludedIndex 319 snapshot exists ? true
update server 2 's matchIndex from 326 to 326
update server 0 's matchIndex from 326 to 326
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 326
current commitIndex 326 lastIncludedIndex 319 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 326
current commitIndex 326 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 326 to 326
update server 2 's matchIndex from 326 to 326
server 1 term 43 state 2(leader true)(heartFlag false)
nextIndex
327 || 327 || 327 || 
matchIndex
326 || 326 || 326 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 326
current commitIndex 326 lastIncludedIndex 319 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 326
current commitIndex 326 lastIncludedIndex 319 snapshot exists ? true
update server 2 's matchIndex from 326 to 326
update server 0 's matchIndex from 326 to 326
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 326
current commitIndex 326 lastIncludedIndex 319 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 326
current commitIndex 326 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 326 to 326
update server 2 's matchIndex from 326 to 326
server 0 term 43 state 0(leader false)(heartFlag true)
server 2 term 43 state 0(leader false)(heartFlag true)
append command 451683311761589925
len(log) = 327
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 326
current commitIndex 326 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 326 to 327
server 1 term 43 state 2(leader true)(heartFlag false)
nextIndex
328 || 327 || 327 || 
matchIndex
327 || 326 || 326 || 
getEntryTerm
leader server 1 commit index 327 command 451683311761589925
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 327
getEntryTerm
current commitIndex 326 lastIncludedIndex 319 snapshot exists ? true
follower server 0 commit index 327 command 451683311761589925 
update server 0 's matchIndex from 327 to 327
append command 4396497877202116473
len(log) = 328
append command 6736853421071025617
len(log) = 329
append command 1738016003967887443
len(log) = 330
append command 4866337100805746753
len(log) = 331
append command 5565945504363247331
len(log) = 332
append command 5303993757359426809
len(log) = 333
append command 625111850878749557
len(log) = 334
append command 6022794226648164451
len(log) = 335
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 327
current commitIndex 327 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 327 to 335
getEntryTerm
leader server 1 commit index 328 command 4396497877202116473
leader server 1 commit index 329 command 6736853421071025617
leader server 1 commit index 330 command 1738016003967887443
server 1 takes snopshot and discards logs before index 329
getEntryTerm
discard index before 329(included)
server 1 finished snopshot
leader server 1 commit index 331 command 4866337100805746753
leader server 1 commit index 332 command 5565945504363247331
leader server 1 commit index 333 command 5303993757359426809
leader server 1 commit index 334 command 625111850878749557
leader server 1 commit index 335 command 6022794226648164451
server 2 term 43 state 0(leader false)(heartFlag false)
server 2 term 43 doesn't hear any heartbeat
server 2 convert to candidate
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 335
getEntryTerm
current commitIndex 327 lastIncludedIndex 319 snapshot exists ? true
follower server 0 commit index 328 command 4396497877202116473 
follower server 0 commit index 329 command 6736853421071025617 
follower server 0 commit index 330 command 1738016003967887443 
server 0 takes snopshot and discards logs before index 329
getEntryTerm
discard index before 329(included)
server 0 finished snopshot
follower server 0 commit index 331 command 4866337100805746753 
follower server 0 commit index 332 command 5565945504363247331 
follower server 0 commit index 333 command 5303993757359426809 
follower server 0 commit index 334 command 625111850878749557 
follower server 0 commit index 335 command 6022794226648164451 
update server 0 's matchIndex from 335 to 335
append command 9196682541645000817
len(log) = 336
server 1 term 43 state 2(leader true)(heartFlag false)
nextIndex
336 || 337 || 327 || 
matchIndex
335 || 336 || 326 || 
server 0 term 43 state 0(leader false)(heartFlag true)
getEntryTerm
server 2 receives snopshot from leader 1
server 0 receives appendEntry from leader 1 prevLogIndex 335
current commitIndex 335 lastIncludedIndex 329 snapshot exists ? true
server 1 convert to follower
server 2 term 44 ElectionTimeOut
server 2 convert to candidate
getEntryTerm
getEntryTerm
server 0 convert to follower
server 1 convert to follower
getEntryTerm
server 0 thinks candidate 2 is not up-to-date
server 0 grant false for candidate 2's requestVote
getEntryTerm
server 1 thinks candidate 2 is not up-to-date
server 1 grant false for candidate 2's requestVote
server 1 term 45 state 0(leader false)(heartFlag false)
server 1 term 45 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
getEntryTerm
server 0 convert to follower
server 2 grant true for candidate 1's requestVote
getEntryTerm
server 0 grant true for candidate 1's requestVote
server 1 convert to leader
server 1 term 46 send appendEntries
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 336
lastLogIndex 326, args.PrevLogIndex 336
server 0 receives appendEntry from leader 1 prevLogIndex 336
getEntryTerm
current commitIndex 335 lastIncludedIndex 329 snapshot exists ? true
update server 0 's matchIndex from 0 to 336
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives snopshot from leader 1
server 2 commit snopshot to lastIncludedIndex 329
server 0 receives appendEntry from leader 1 prevLogIndex 336
getEntryTerm
current commitIndex 335 lastIncludedIndex 329 snapshot exists ? true
update server 0 's matchIndex from 336 to 336
getEntryTerm
server 0 term 46 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 329
current commitIndex 329 lastIncludedIndex 329 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 336
getEntryTerm
current commitIndex 335 lastIncludedIndex 329 snapshot exists ? true
follower server 2 commit index 330 command 1738016003967887443 
follower server 2 commit index 331 command 4866337100805746753 
follower server 2 commit index 332 command 5565945504363247331 
follower server 2 commit index 333 command 5303993757359426809 
follower server 2 commit index 334 command 625111850878749557 
follower server 2 commit index 335 command 6022794226648164451 
update server 0 's matchIndex from 336 to 336
update server 2 's matchIndex from 329 to 336
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 336
getEntryTerm
current commitIndex 335 lastIncludedIndex 329 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 336
getEntryTerm
current commitIndex 335 lastIncludedIndex 329 snapshot exists ? true
update server 2 's matchIndex from 336 to 336
update server 0 's matchIndex from 336 to 336
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 336
getEntryTerm
current commitIndex 335 lastIncludedIndex 329 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 336
getEntryTerm
current commitIndex 335 lastIncludedIndex 329 snapshot exists ? true
update server 0 's matchIndex from 336 to 336
update server 2 's matchIndex from 336 to 336
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 46 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 336
getEntryTerm
current commitIndex 335 lastIncludedIndex 329 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 336
getEntryTerm
current commitIndex 335 lastIncludedIndex 329 snapshot exists ? true
update server 0 's matchIndex from 336 to 336
update server 2 's matchIndex from 336 to 336
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 46 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 336
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 336
getEntryTerm
current commitIndex 335 lastIncludedIndex 329 snapshot exists ? true
current commitIndex 335 lastIncludedIndex 329 snapshot exists ? true
update server 2 's matchIndex from 336 to 336
getEntryTerm
update server 0 's matchIndex from 336 to 336
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 336
getEntryTerm
current commitIndex 335 lastIncludedIndex 329 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 336
getEntryTerm
current commitIndex 335 lastIncludedIndex 329 snapshot exists ? true
update server 2 's matchIndex from 336 to 336
update server 0 's matchIndex from 336 to 336
getEntryTerm
getEntryTerm
server 1 term 46 state 2(leader true)(heartFlag false)
nextIndex
337 || 337 || 337 || 
matchIndex
336 || 336 || 336 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 336
getEntryTerm
current commitIndex 335 lastIncludedIndex 329 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 336
getEntryTerm
current commitIndex 335 lastIncludedIndex 329 snapshot exists ? true
update server 0 's matchIndex from 336 to 336
update server 2 's matchIndex from 336 to 336
getEntryTerm
server 0 term 46 state 0(leader false)(heartFlag true)
getEntryTerm
server 2 term 46 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 336
getEntryTerm
current commitIndex 335 lastIncludedIndex 329 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 336
getEntryTerm
current commitIndex 335 lastIncludedIndex 329 snapshot exists ? true
update server 2 's matchIndex from 336 to 336
update server 0 's matchIndex from 336 to 336
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 46 state 2(leader true)(heartFlag false)
nextIndex
337 || 337 || 337 || 
matchIndex
336 || 336 || 336 || 
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 336
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 336
getEntryTerm
current commitIndex 335 lastIncludedIndex 329 snapshot exists ? true
current commitIndex 335 lastIncludedIndex 329 snapshot exists ? true
update server 0 's matchIndex from 336 to 336
update server 2 's matchIndex from 336 to 336
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 46 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 336
getEntryTerm
current commitIndex 335 lastIncludedIndex 329 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 336
getEntryTerm
current commitIndex 335 lastIncludedIndex 329 snapshot exists ? true
update server 2 's matchIndex from 336 to 336
update server 0 's matchIndex from 336 to 336
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 336
getEntryTerm
current commitIndex 335 lastIncludedIndex 329 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 336
getEntryTerm
current commitIndex 335 lastIncludedIndex 329 snapshot exists ? true
update server 0 's matchIndex from 336 to 336
update server 2 's matchIndex from 336 to 336
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 46 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 336
getEntryTerm
current commitIndex 335 lastIncludedIndex 329 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 336
getEntryTerm
current commitIndex 335 lastIncludedIndex 329 snapshot exists ? true
update server 2 's matchIndex from 336 to 336
update server 0 's matchIndex from 336 to 336
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 46 state 2(leader true)(heartFlag false)
nextIndex
337 || 337 || 337 || 
matchIndex
336 || 336 || 336 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 336
getEntryTerm
current commitIndex 335 lastIncludedIndex 329 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 336
getEntryTerm
current commitIndex 335 lastIncludedIndex 329 snapshot exists ? true
update server 2 's matchIndex from 336 to 336
update server 0 's matchIndex from 336 to 336
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 336
getEntryTerm
current commitIndex 335 lastIncludedIndex 329 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 336
getEntryTerm
current commitIndex 335 lastIncludedIndex 329 snapshot exists ? true
update server 2 's matchIndex from 336 to 336
update server 0 's matchIndex from 336 to 336
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 46 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 336
getEntryTerm
current commitIndex 335 lastIncludedIndex 329 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 336
getEntryTerm
current commitIndex 335 lastIncludedIndex 329 snapshot exists ? true
update server 2 's matchIndex from 336 to 336
update server 0 's matchIndex from 336 to 336
getEntryTerm
getEntryTerm
getEntryTerm
append command 9196682541645000817
len(log) = 337
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 46 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 46 state 2(leader true)(heartFlag false)
nextIndex
337 || 338 || 337 || 
matchIndex
336 || 337 || 336 || 
server 2 receives appendEntry from leader 1 prevLogIndex 336
getEntryTerm
current commitIndex 335 lastIncludedIndex 329 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 336
getEntryTerm
update server 2 's matchIndex from 336 to 337
current commitIndex 335 lastIncludedIndex 329 snapshot exists ? true
update server 0 's matchIndex from 336 to 337
getEntryTerm
leader server 1 commit index 336 command 9196682541645000817
leader server 1 commit index 337 command 9196682541645000817
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 337
getEntryTerm
current commitIndex 335 lastIncludedIndex 329 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 337
follower server 2 commit index 336 command 9196682541645000817 
getEntryTerm
follower server 2 commit index 337 command 9196682541645000817 
current commitIndex 335 lastIncludedIndex 329 snapshot exists ? true
follower server 0 commit index 336 command 9196682541645000817 
follower server 0 commit index 337 command 9196682541645000817 
update server 2 's matchIndex from 337 to 337
update server 0 's matchIndex from 337 to 337
server 0 term 46 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 337
current commitIndex 337 lastIncludedIndex 329 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 337
current commitIndex 337 lastIncludedIndex 329 snapshot exists ? true
update server 0 's matchIndex from 337 to 337
update server 2 's matchIndex from 337 to 337
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 337
current commitIndex 337 lastIncludedIndex 329 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 337
current commitIndex 337 lastIncludedIndex 329 snapshot exists ? true
update server 0 's matchIndex from 337 to 337
update server 2 's matchIndex from 337 to 337
server 2 term 46 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 337
current commitIndex 337 lastIncludedIndex 329 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 337
current commitIndex 337 lastIncludedIndex 329 snapshot exists ? true
update server 2 's matchIndex from 337 to 337
update server 0 's matchIndex from 337 to 337
server 1 term 46 state 2(leader true)(heartFlag false)
nextIndex
338 || 338 || 338 || 
matchIndex
337 || 337 || 337 || 
server 0 term 46 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 337
current commitIndex 337 lastIncludedIndex 329 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 337
current commitIndex 337 lastIncludedIndex 329 snapshot exists ? true
update server 2 's matchIndex from 337 to 337
update server 0 's matchIndex from 337 to 337
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 337
current commitIndex 337 lastIncludedIndex 329 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 337
current commitIndex 337 lastIncludedIndex 329 snapshot exists ? true
update server 2 's matchIndex from 337 to 337
update server 0 's matchIndex from 337 to 337
  ... Passed --  63.4  3 1414  567209  337
server 0 no snopshot yet
server 0 term 0 state 0(leader false)(heartFlag false)
server 0 term 0 doesn't hear any heartbeat
server 0 convert to candidate
server 1 no snopshot yet
server 1 term 0 state 0(leader false)(heartFlag false)
server 1 term 0 doesn't hear any heartbeat
server 1 convert to candidate
server 2 no snopshot yet
server 2 term 0 state 0(leader false)(heartFlag false)
server 2 term 0 doesn't hear any heartbeat
server 2 convert to candidate
Test (2D): install snapshots (disconnect+unreliable) ...
server 1 already has a voteFor 1 but not candidate 2
server 1 grant false for candidate 2's requestVote
server 0 already has a voteFor 0 but not candidate 2
server 0 grant false for candidate 2's requestVote
server 0 already has a voteFor 0 but not candidate 1
server 0 grant false for candidate 1's requestVote
server 2 term 1 ElectionTimeOut
server 2 convert to candidate
server 1 term 1 ElectionTimeOut
server 1 convert to candidate
server 2 already has a voteFor 2 but not candidate 1
server 2 grant false for candidate 1's requestVote
server 0 convert to follower
server 0 grant true for candidate 1's requestVote
server 1 convert to leader
server 1 term 2 send appendEntries
server 1 already has a voteFor 1 but not candidate 2
server 1 grant false for candidate 2's requestVote
server 0 already has a voteFor 1 but not candidate 2
server 0 grant false for candidate 2's requestVote
server 2 receives appendEntry from leader 1 prevLogIndex 0
server 2 convert to follower
current commitIndex 0 lastIncludedIndex 0 snapshot exists ? false
update server 2 's matchIndex from 0 to 0
server 0 receives appendEntry from leader 1 prevLogIndex 0
current commitIndex 0 lastIncludedIndex 0 snapshot exists ? false
update server 0 's matchIndex from 0 to 0
append command 6975008252916467107
len(log) = 1
server 0 receives appendEntry from leader 1 prevLogIndex 0
current commitIndex 0 lastIncludedIndex 0 snapshot exists ? false
update server 0 's matchIndex from 0 to 1
server 2 receives appendEntry from leader 1 prevLogIndex 0
current commitIndex 0 lastIncludedIndex 0 snapshot exists ? false
update server 2 's matchIndex from 0 to 1
getEntryTerm
leader server 1 commit index 1 command 6975008252916467107
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 1
getEntryTerm
current commitIndex 0 lastIncludedIndex 0 snapshot exists ? false
follower server 0 commit index 1 command 6975008252916467107 
update server 0 's matchIndex from 1 to 1
server 2 receives appendEntry from leader 1 prevLogIndex 1
getEntryTerm
current commitIndex 0 lastIncludedIndex 0 snapshot exists ? false
follower server 2 commit index 1 command 6975008252916467107 
update server 2 's matchIndex from 1 to 1
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 1
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
update server 0 's matchIndex from 1 to 1
server 2 receives appendEntry from leader 1 prevLogIndex 1
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
update server 2 's matchIndex from 1 to 1
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 1
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
update server 2 's matchIndex from 1 to 1
server 0 term 2 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 1
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
update server 2 's matchIndex from 1 to 1
server 0 receives appendEntry from leader 1 prevLogIndex 1
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
update server 0 's matchIndex from 1 to 1
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 1
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
update server 2 's matchIndex from 1 to 1
server 0 receives appendEntry from leader 1 prevLogIndex 1
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
update server 0 's matchIndex from 1 to 1
server 1 term 2 state 2(leader true)(heartFlag false)
nextIndex
2 || 2 || 2 || 
matchIndex
1 || 1 || 1 || 
server 2 term 2 state 0(leader false)(heartFlag true)
append command 1318130775333369801
len(log) = 2
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 1
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
update server 0 's matchIndex from 1 to 2
server 0 term 2 state 0(leader false)(heartFlag true)
getEntryTerm
leader server 1 commit index 2 command 1318130775333369801
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 2
getEntryTerm
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
follower server 0 commit index 2 command 1318130775333369801 
update server 0 's matchIndex from 2 to 2
append command 1161405851894682312
len(log) = 3
append command 2113636814136083728
len(log) = 4
append command 8203182847130481944
len(log) = 5
append command 5984823299234542594
len(log) = 6
append command 1779297483573232168
len(log) = 7
append command 7377201197389668848
len(log) = 8
append command 9126053334133389529
len(log) = 9
append command 4233605408323144289
len(log) = 10
append command 3018140305727589158
len(log) = 11
server 2 term 2 state 0(leader false)(heartFlag false)
server 2 term 2 doesn't hear any heartbeat
server 2 convert to candidate
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 2 state 2(leader true)(heartFlag false)
nextIndex
3 || 12 || 2 || 
matchIndex
2 || 11 || 1 || 
server 0 receives appendEntry from leader 1 prevLogIndex 2
current commitIndex 2 lastIncludedIndex 0 snapshot exists ? false
update server 0 's matchIndex from 2 to 11
getEntryTerm
leader server 1 commit index 3 command 1161405851894682312
leader server 1 commit index 4 command 2113636814136083728
leader server 1 commit index 5 command 8203182847130481944
leader server 1 commit index 6 command 5984823299234542594
leader server 1 commit index 7 command 1779297483573232168
leader server 1 commit index 8 command 7377201197389668848
leader server 1 commit index 9 command 9126053334133389529
leader server 1 commit index 10 command 4233605408323144289
server 1 takes snopshot and discards logs before index 9
getEntryTerm
discard index before 9(included)
server 1 finished snopshot
leader server 1 commit index 11 command 3018140305727589158
server 0 term 2 state 0(leader false)(heartFlag true)
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 11
getEntryTerm
current commitIndex 2 lastIncludedIndex 0 snapshot exists ? false
follower server 0 commit index 3 command 1161405851894682312 
follower server 0 commit index 4 command 2113636814136083728 
follower server 0 commit index 5 command 8203182847130481944 
follower server 0 commit index 6 command 5984823299234542594 
follower server 0 commit index 7 command 1779297483573232168 
follower server 0 commit index 8 command 7377201197389668848 
follower server 0 commit index 9 command 9126053334133389529 
follower server 0 commit index 10 command 4233605408323144289 
server 0 takes snopshot and discards logs before index 9
getEntryTerm
discard index before 9(included)
server 0 finished snopshot
follower server 0 commit index 11 command 3018140305727589158 
append command 4999864424042620718
len(log) = 12
getEntryTerm
server 2 receives snopshot from leader 1
server 1 convert to follower
server 0 receives appendEntry from leader 1 prevLogIndex 11
current commitIndex 11 lastIncludedIndex 9 snapshot exists ? true
server 1 term 3 state 0(leader false)(heartFlag false)
server 1 term 3 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
getEntryTerm
server 2 grant true for candidate 1's requestVote
server 1 convert to leader
server 1 term 4 send appendEntries
getEntryTerm
getEntryTerm
server 0 convert to follower
getEntryTerm
server 0 grant true for candidate 1's requestVote
server 0 receives appendEntry from leader 1 prevLogIndex 12
getEntryTerm
current commitIndex 11 lastIncludedIndex 9 snapshot exists ? true
update server 0 's matchIndex from 0 to 12
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 12
lastLogIndex 1, args.PrevLogIndex 12
getEntryTerm
server 0 term 4 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 12
getEntryTerm
current commitIndex 11 lastIncludedIndex 9 snapshot exists ? true
update server 0 's matchIndex from 12 to 12
server 2 receives snopshot from leader 1
server 2 commit snopshot to lastIncludedIndex 9
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 9
current commitIndex 9 lastIncludedIndex 9 snapshot exists ? true
follower server 2 commit index 10 command 4233605408323144289 
follower server 2 commit index 11 command 3018140305727589158 
update server 2 's matchIndex from 9 to 12
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 4 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 12
getEntryTerm
current commitIndex 11 lastIncludedIndex 9 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 12
getEntryTerm
current commitIndex 11 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 12 to 12
update server 0 's matchIndex from 12 to 12
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 12
getEntryTerm
current commitIndex 11 lastIncludedIndex 9 snapshot exists ? true
update server 0 's matchIndex from 12 to 12
server 2 receives appendEntry from leader 1 prevLogIndex 12
getEntryTerm
current commitIndex 11 lastIncludedIndex 9 snapshot exists ? true
getEntryTerm
server 0 term 4 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 12
getEntryTerm
current commitIndex 11 lastIncludedIndex 9 snapshot exists ? true
update server 0 's matchIndex from 12 to 12
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 12
getEntryTerm
current commitIndex 11 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 12 to 12
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 4 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 12
getEntryTerm
current commitIndex 11 lastIncludedIndex 9 snapshot exists ? true
update server 0 's matchIndex from 12 to 12
getEntryTerm
server 1 term 4 state 2(leader true)(heartFlag false)
nextIndex
13 || 13 || 13 || 
matchIndex
12 || 12 || 12 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 12
getEntryTerm
current commitIndex 11 lastIncludedIndex 9 snapshot exists ? true
update server 0 's matchIndex from 12 to 12
server 2 receives appendEntry from leader 1 prevLogIndex 12
getEntryTerm
current commitIndex 11 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 12 to 12
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 4 state 0(leader false)(heartFlag true)
server 2 receives appendEntry from leader 1 prevLogIndex 12
getEntryTerm
current commitIndex 11 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 12 to 12
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 4 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 12
getEntryTerm
current commitIndex 11 lastIncludedIndex 9 snapshot exists ? true
update server 0 's matchIndex from 12 to 12
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 12
getEntryTerm
current commitIndex 11 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 12 to 12
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 12
getEntryTerm
current commitIndex 11 lastIncludedIndex 9 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 12
getEntryTerm
current commitIndex 11 lastIncludedIndex 9 snapshot exists ? true
update server 0 's matchIndex from 12 to 12
update server 2 's matchIndex from 12 to 12
getEntryTerm
getEntryTerm
server 1 term 4 state 2(leader true)(heartFlag false)
nextIndex
13 || 13 || 13 || 
matchIndex
12 || 12 || 12 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 4 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 12
getEntryTerm
current commitIndex 11 lastIncludedIndex 9 snapshot exists ? true
update server 0 's matchIndex from 12 to 12
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 4 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 12
getEntryTerm
current commitIndex 11 lastIncludedIndex 9 snapshot exists ? true
update server 0 's matchIndex from 12 to 12
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 12
getEntryTerm
current commitIndex 11 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 12 to 12
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 12
getEntryTerm
current commitIndex 11 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 12 to 12
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 12
getEntryTerm
current commitIndex 11 lastIncludedIndex 9 snapshot exists ? true
getEntryTerm
server 1 term 4 state 2(leader true)(heartFlag false)
nextIndex
13 || 13 || 13 || 
matchIndex
12 || 12 || 12 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 12
getEntryTerm
current commitIndex 11 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 12 to 12
server 0 receives appendEntry from leader 1 prevLogIndex 12
getEntryTerm
current commitIndex 11 lastIncludedIndex 9 snapshot exists ? true
update server 0 's matchIndex from 12 to 12
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 12
getEntryTerm
current commitIndex 11 lastIncludedIndex 9 snapshot exists ? true
update server 0 's matchIndex from 12 to 12
server 2 receives appendEntry from leader 1 prevLogIndex 12
getEntryTerm
current commitIndex 11 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 12 to 12
getEntryTerm
getEntryTerm
server 0 term 4 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 4 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 12
getEntryTerm
current commitIndex 11 lastIncludedIndex 9 snapshot exists ? true
update server 0 's matchIndex from 12 to 12
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 12
getEntryTerm
current commitIndex 11 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 12 to 12
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 4 state 2(leader true)(heartFlag false)
nextIndex
13 || 13 || 13 || 
matchIndex
12 || 12 || 12 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 12
getEntryTerm
current commitIndex 11 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 12 to 12
getEntryTerm
getEntryTerm
getEntryTerm
append command 4999864424042620718
len(log) = 13
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 4 state 0(leader false)(heartFlag true)
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 12
getEntryTerm
current commitIndex 11 lastIncludedIndex 9 snapshot exists ? true
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 12
getEntryTerm
current commitIndex 11 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 12 to 13
getEntryTerm
leader server 1 commit index 12 command 4999864424042620718
leader server 1 commit index 13 command 4999864424042620718
server 0 receives appendEntry from leader 1 prevLogIndex 12
getEntryTerm
current commitIndex 11 lastIncludedIndex 9 snapshot exists ? true
update server 0 's matchIndex from 12 to 13
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 13
getEntryTerm
current commitIndex 11 lastIncludedIndex 9 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 13
getEntryTerm
follower server 2 commit index 12 command 4999864424042620718 
follower server 2 commit index 13 command 4999864424042620718 
current commitIndex 11 lastIncludedIndex 9 snapshot exists ? true
follower server 0 commit index 12 command 4999864424042620718 
follower server 0 commit index 13 command 4999864424042620718 
update server 2 's matchIndex from 13 to 13
server 2 term 4 state 0(leader false)(heartFlag true)
server 1 term 4 state 2(leader true)(heartFlag false)
nextIndex
14 || 14 || 14 || 
matchIndex
13 || 13 || 13 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 13
current commitIndex 13 lastIncludedIndex 9 snapshot exists ? true
update server 0 's matchIndex from 13 to 13
server 2 receives appendEntry from leader 1 prevLogIndex 13
current commitIndex 13 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 13 to 13
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 13
current commitIndex 13 lastIncludedIndex 9 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 13
current commitIndex 13 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 13 to 13
server 0 term 4 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 13
current commitIndex 13 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 13 to 13
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 13
current commitIndex 13 lastIncludedIndex 9 snapshot exists ? true
update server 0 's matchIndex from 13 to 13
server 2 receives appendEntry from leader 1 prevLogIndex 13
current commitIndex 13 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 13 to 13
server 2 term 4 state 0(leader false)(heartFlag true)
server 1 term 4 state 2(leader true)(heartFlag false)
nextIndex
14 || 14 || 14 || 
matchIndex
13 || 13 || 13 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 13
current commitIndex 13 lastIncludedIndex 9 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 13
current commitIndex 13 lastIncludedIndex 9 snapshot exists ? true
server 0 term 4 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 4 state 2(leader true)(heartFlag false)
nextIndex
14 || 14 || 14 || 
matchIndex
13 || 13 || 13 || 
getEntryTerm
getEntryTerm
server 0 term 4 state 0(leader false)(heartFlag false)
server 0 term 4 doesn't hear any heartbeat
server 0 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
getEntryTerm
server 2 grant true for candidate 0's requestVote
server 0 convert to leader
server 0 term 5 send appendEntries
getEntryTerm
getEntryTerm
server 2 term 5 state 0(leader false)(heartFlag true)
server 2 receives appendEntry from leader 0 prevLogIndex 13
current commitIndex 13 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 0 to 13
append command 2089342871697397937
len(log) = 14
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 13
current commitIndex 13 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 13 to 14
getEntryTerm
leader server 0 commit index 14 command 2089342871697397937
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 14
getEntryTerm
current commitIndex 13 lastIncludedIndex 9 snapshot exists ? true
follower server 2 commit index 14 command 2089342871697397937 
update server 2 's matchIndex from 14 to 14
append command 1289530834550930647
len(log) = 15
server 1 term 4 state 2(leader true)(heartFlag false)
nextIndex
14 || 14 || 14 || 
matchIndex
13 || 13 || 13 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 14
current commitIndex 14 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 14 to 15
getEntryTerm
leader server 0 commit index 15 command 1289530834550930647
server 2 term 5 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 15
getEntryTerm
current commitIndex 14 lastIncludedIndex 9 snapshot exists ? true
follower server 2 commit index 15 command 1289530834550930647 
update server 2 's matchIndex from 15 to 15
append command 4345974338227718777
len(log) = 14
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 13
server 1 convert to follower
server 0 receives appendEntry from leader 1 prevLogIndex 13
getEntryTerm
getEntryTerm
server 1 term 5 state 0(leader false)(heartFlag false)
server 1 term 5 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
server 2 convert to follower
getEntryTerm
server 2 thinks candidate 1 is not up-to-date
server 2 grant false for candidate 1's requestVote
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 15
server 0 convert to follower
server 0 term 6 state 0(leader false)(heartFlag false)
server 0 term 6 doesn't hear any heartbeat
server 0 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
getEntryTerm
server 2 grant true for candidate 0's requestVote
server 0 convert to leader
server 0 term 7 send appendEntries
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 15
server 1 convert to follower
lastLogIndex 14, args.PrevLogIndex 15
server 2 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 0 to 15
getEntryTerm
server 1 grant true for candidate 0's requestVote
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 15 to 15
server 2 term 7 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 14
getEntryTerm
getEntryTerm
lastLogIndex 14, args.PrevLogIndex 14
getEntryTerm
rf.log.getEntryTerm(args.PrevLogIndex) 4, args.PrevLogTerm 5
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 15 to 15
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 15 to 15
server 1 receives appendEntry from leader 0 prevLogIndex 13
current commitIndex 13 lastIncludedIndex 9 snapshot exists ? true
follower server 1 commit index 14 command 2089342871697397937 
follower server 1 commit index 15 command 1289530834550930647 
update server 1 's matchIndex from 0 to 15
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 15 to 15
server 1 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 1 's matchIndex from 15 to 15
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 15 to 15
server 1 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 1 's matchIndex from 15 to 15
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 1 's matchIndex from 15 to 15
server 2 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 15 to 15
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 1 's matchIndex from 15 to 15
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 1 's matchIndex from 15 to 15
server 2 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 15 to 15
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 1 's matchIndex from 15 to 15
server 2 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 15 to 15
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 15 to 15
server 2 term 7 state 0(leader false)(heartFlag true)
server 1 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 1 's matchIndex from 15 to 15
getEntryTerm
getEntryTerm
server 1 term 7 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 1 's matchIndex from 15 to 15
getEntryTerm
getEntryTerm
server 0 term 7 state 2(leader true)(heartFlag false)
nextIndex
16 || 16 || 16 || 
matchIndex
15 || 15 || 15 || 
server 2 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 15 to 15
server 1 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 1 's matchIndex from 15 to 15
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 15 to 15
server 1 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 1 's matchIndex from 15 to 15
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 1 's matchIndex from 15 to 15
server 2 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 15 to 15
server 2 term 7 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 15 to 15
server 1 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 1 's matchIndex from 15 to 15
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 15 to 15
server 1 term 7 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 1 's matchIndex from 15 to 15
server 2 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 15 to 15
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 15 to 15
server 1 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 1 's matchIndex from 15 to 15
server 0 term 7 state 2(leader true)(heartFlag false)
nextIndex
16 || 16 || 16 || 
matchIndex
15 || 15 || 15 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 15 to 15
server 1 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 1 's matchIndex from 15 to 15
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 1 's matchIndex from 15 to 15
server 2 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 15 to 15
server 1 term 7 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 term 7 state 0(leader false)(heartFlag true)
server 1 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 1 's matchIndex from 15 to 15
server 2 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 15 to 15
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 1 's matchIndex from 15 to 15
server 2 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 15 to 15
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 15 to 15
server 1 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 1 's matchIndex from 15 to 15
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 15 to 15
server 1 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 1 's matchIndex from 15 to 15
server 0 term 7 state 2(leader true)(heartFlag false)
nextIndex
16 || 16 || 16 || 
matchIndex
15 || 15 || 15 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 15 to 15
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 1 's matchIndex from 15 to 15
update server 2 's matchIndex from 15 to 15
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 1 's matchIndex from 15 to 15
server 2 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 15 to 15
server 2 term 7 state 0(leader false)(heartFlag true)
server 1 term 7 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 15 to 15
server 1 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 1 's matchIndex from 15 to 15
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 1 's matchIndex from 15 to 15
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 1 's matchIndex from 15 to 15
server 2 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 15 to 15
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 15 to 15
server 1 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 1 's matchIndex from 15 to 15
server 0 term 7 state 2(leader true)(heartFlag false)
nextIndex
16 || 16 || 16 || 
matchIndex
15 || 15 || 15 || 
append command 4345974338227718777
len(log) = 16
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 1 's matchIndex from 15 to 16
server 2 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
getEntryTerm
leader server 0 commit index 16 command 4345974338227718777
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
follower server 2 commit index 16 command 4345974338227718777 
server 1 receives appendEntry from leader 0 prevLogIndex 16
getEntryTerm
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
follower server 1 commit index 16 command 4345974338227718777 
update server 1 's matchIndex from 16 to 16
server 2 term 7 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 16 lastIncludedIndex 9 snapshot exists ? true
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 15
current commitIndex 16 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 15 to 16
server 1 term 7 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 16
current commitIndex 16 lastIncludedIndex 9 snapshot exists ? true
update server 1 's matchIndex from 16 to 16
server 2 receives appendEntry from leader 0 prevLogIndex 16
current commitIndex 16 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 16 to 16
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 16
current commitIndex 16 lastIncludedIndex 9 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 16
current commitIndex 16 lastIncludedIndex 9 snapshot exists ? true
update server 1 's matchIndex from 16 to 16
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 16
current commitIndex 16 lastIncludedIndex 9 snapshot exists ? true
update server 1 's matchIndex from 16 to 16
server 2 receives appendEntry from leader 0 prevLogIndex 16
current commitIndex 16 lastIncludedIndex 9 snapshot exists ? true
server 0 term 7 state 2(leader true)(heartFlag false)
nextIndex
17 || 17 || 17 || 
matchIndex
16 || 16 || 16 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 16
current commitIndex 16 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 16 to 16
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 16
current commitIndex 16 lastIncludedIndex 9 snapshot exists ? true
update server 1 's matchIndex from 16 to 16
server 1 term 7 state 0(leader false)(heartFlag true)
server 2 receives appendEntry from leader 0 prevLogIndex 16
current commitIndex 16 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 16 to 16
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 16
current commitIndex 16 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 16 to 16
server 1 receives appendEntry from leader 0 prevLogIndex 16
current commitIndex 16 lastIncludedIndex 9 snapshot exists ? true
update server 1 's matchIndex from 16 to 16
server 2 term 7 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 16
current commitIndex 16 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 16 to 16
server 1 receives appendEntry from leader 0 prevLogIndex 16
current commitIndex 16 lastIncludedIndex 9 snapshot exists ? true
update server 1 's matchIndex from 16 to 16
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 16
current commitIndex 16 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 16 to 16
append command 7070506522468256490
len(log) = 17
getEntryTerm
getEntryTerm
server 0 term 7 state 2(leader true)(heartFlag false)
nextIndex
18 || 17 || 17 || 
matchIndex
17 || 16 || 16 || 
server 2 receives appendEntry from leader 0 prevLogIndex 16
current commitIndex 16 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 16 to 17
getEntryTerm
leader server 0 commit index 17 command 7070506522468256490
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 17
getEntryTerm
current commitIndex 16 lastIncludedIndex 9 snapshot exists ? true
follower server 2 commit index 17 command 7070506522468256490 
update server 2 's matchIndex from 17 to 17
append command 123117135889571843
len(log) = 18
append command 4735081414264117840
len(log) = 19
append command 389393896756265370
len(log) = 20
append command 3299724622781332831
len(log) = 21
append command 1696360136901722264
len(log) = 22
append command 4082006125528175554
len(log) = 23
append command 2559146677590636523
len(log) = 24
append command 5411564236056570847
len(log) = 25
append command 5614376542026085714
len(log) = 26
append command 5223076588444209862
len(log) = 27
append command 8516627397633108522
len(log) = 28
append command 4736338056886025947
len(log) = 29
append command 8978053444816437574
len(log) = 30
append command 4437365114123157667
len(log) = 31
append command 4647519396829465056
len(log) = 32
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 17
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 17
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 17 to 32
getEntryTerm
leader server 0 commit index 18 command 123117135889571843
leader server 0 commit index 19 command 4735081414264117840
server 0 takes snopshot and discards logs before index 19
getEntryTerm
discard index before 19(included)
leader server 0 commit index 20 command 389393896756265370
server 0 finished snopshot
leader server 0 commit index 21 command 3299724622781332831
leader server 0 commit index 22 command 1696360136901722264
leader server 0 commit index 23 command 4082006125528175554
leader server 0 commit index 24 command 2559146677590636523
leader server 0 commit index 25 command 5411564236056570847
leader server 0 commit index 26 command 5614376542026085714
leader server 0 commit index 27 command 5223076588444209862
leader server 0 commit index 28 command 8516627397633108522
leader server 0 commit index 29 command 4736338056886025947
leader server 0 commit index 30 command 8978053444816437574
server 0 takes snopshot and discards logs before index 29
getEntryTerm
discard index before 29(included)
server 0 finished snopshot
leader server 0 commit index 31 command 4437365114123157667
leader server 0 commit index 32 command 4647519396829465056
server 1 term 7 state 0(leader false)(heartFlag true)
getEntryTerm
server 2 term 7 state 0(leader false)(heartFlag true)
server 2 receives appendEntry from leader 0 prevLogIndex 32
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
follower server 2 commit index 18 command 123117135889571843 
follower server 2 commit index 19 command 4735081414264117840 
follower server 2 commit index 20 command 389393896756265370 
server 2 takes snopshot and discards logs before index 19
getEntryTerm
discard index before 19(included)
server 2 finished snopshot
follower server 2 commit index 21 command 3299724622781332831 
follower server 2 commit index 22 command 1696360136901722264 
follower server 2 commit index 23 command 4082006125528175554 
follower server 2 commit index 24 command 2559146677590636523 
follower server 2 commit index 25 command 5411564236056570847 
follower server 2 commit index 26 command 5614376542026085714 
follower server 2 commit index 27 command 5223076588444209862 
follower server 2 commit index 28 command 8516627397633108522 
follower server 2 commit index 29 command 4736338056886025947 
follower server 2 commit index 30 command 8978053444816437574 
server 2 takes snopshot and discards logs before index 29
getEntryTerm
discard index before 29(included)
server 2 finished snopshot
follower server 2 commit index 31 command 4437365114123157667 
follower server 2 commit index 32 command 4647519396829465056 
append command 5211157090696110180
len(log) = 33
getEntryTerm
server 1 receives snopshot from leader 0
server 1 commit snopshot to lastIncludedIndex 29
server 2 receives appendEntry from leader 0 prevLogIndex 32
current commitIndex 32 lastIncludedIndex 29 snapshot exists ? true
update server 2 's matchIndex from 32 to 33
getEntryTerm
leader server 0 commit index 33 command 5211157090696110180
server 0 term 7 state 2(leader true)(heartFlag false)
nextIndex
34 || 30 || 34 || 
matchIndex
33 || 29 || 33 || 
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 33
getEntryTerm
current commitIndex 32 lastIncludedIndex 29 snapshot exists ? true
follower server 2 commit index 33 command 5211157090696110180 
update server 2 's matchIndex from 33 to 33
server 1 receives appendEntry from leader 0 prevLogIndex 29
current commitIndex 29 lastIncludedIndex 29 snapshot exists ? true
follower server 1 commit index 30 command 8978053444816437574 
follower server 1 commit index 31 command 4437365114123157667 
follower server 1 commit index 32 command 4647519396829465056 
follower server 1 commit index 33 command 5211157090696110180 
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 29
current commitIndex 33 lastIncludedIndex 29 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 33
current commitIndex 33 lastIncludedIndex 29 snapshot exists ? true
update server 2 's matchIndex from 33 to 33
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 29
current commitIndex 33 lastIncludedIndex 29 snapshot exists ? true
update server 1 's matchIndex from 29 to 33
server 2 receives appendEntry from leader 0 prevLogIndex 33
current commitIndex 33 lastIncludedIndex 29 snapshot exists ? true
update server 2 's matchIndex from 33 to 33
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 33
current commitIndex 33 lastIncludedIndex 29 snapshot exists ? true
update server 1 's matchIndex from 33 to 33
server 2 receives appendEntry from leader 0 prevLogIndex 33
current commitIndex 33 lastIncludedIndex 29 snapshot exists ? true
update server 2 's matchIndex from 33 to 33
server 1 term 7 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 33
current commitIndex 33 lastIncludedIndex 29 snapshot exists ? true
update server 2 's matchIndex from 33 to 33
server 1 receives appendEntry from leader 0 prevLogIndex 33
current commitIndex 33 lastIncludedIndex 29 snapshot exists ? true
update server 1 's matchIndex from 33 to 33
getEntryTerm
getEntryTerm
server 2 term 7 state 0(leader false)(heartFlag true)
server 2 receives appendEntry from leader 0 prevLogIndex 33
current commitIndex 33 lastIncludedIndex 29 snapshot exists ? true
update server 2 's matchIndex from 33 to 33
server 1 receives appendEntry from leader 0 prevLogIndex 33
current commitIndex 33 lastIncludedIndex 29 snapshot exists ? true
update server 1 's matchIndex from 33 to 33
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 33
current commitIndex 33 lastIncludedIndex 29 snapshot exists ? true
update server 2 's matchIndex from 33 to 33
server 1 receives appendEntry from leader 0 prevLogIndex 33
current commitIndex 33 lastIncludedIndex 29 snapshot exists ? true
update server 1 's matchIndex from 33 to 33
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 33
current commitIndex 33 lastIncludedIndex 29 snapshot exists ? true
update server 1 's matchIndex from 33 to 33
server 2 receives appendEntry from leader 0 prevLogIndex 33
current commitIndex 33 lastIncludedIndex 29 snapshot exists ? true
update server 2 's matchIndex from 33 to 33
server 0 term 7 state 2(leader true)(heartFlag false)
nextIndex
34 || 34 || 34 || 
matchIndex
33 || 33 || 33 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 33
current commitIndex 33 lastIncludedIndex 29 snapshot exists ? true
update server 1 's matchIndex from 33 to 33
server 2 receives appendEntry from leader 0 prevLogIndex 33
current commitIndex 33 lastIncludedIndex 29 snapshot exists ? true
update server 2 's matchIndex from 33 to 33
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 33
current commitIndex 33 lastIncludedIndex 29 snapshot exists ? true
update server 1 's matchIndex from 33 to 33
server 2 receives appendEntry from leader 0 prevLogIndex 33
current commitIndex 33 lastIncludedIndex 29 snapshot exists ? true
update server 2 's matchIndex from 33 to 33
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 33
current commitIndex 33 lastIncludedIndex 29 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 33
current commitIndex 33 lastIncludedIndex 29 snapshot exists ? true
update server 2 's matchIndex from 33 to 33
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 33
current commitIndex 33 lastIncludedIndex 29 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 33
current commitIndex 33 lastIncludedIndex 29 snapshot exists ? true
update server 1 's matchIndex from 33 to 33
append command 8888938212861946704
len(log) = 34
server 1 term 7 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 33
current commitIndex 33 lastIncludedIndex 29 snapshot exists ? true
update server 2 's matchIndex from 33 to 34
server 2 term 7 state 0(leader false)(heartFlag true)
getEntryTerm
leader server 0 commit index 34 command 8888938212861946704
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 34
getEntryTerm
current commitIndex 33 lastIncludedIndex 29 snapshot exists ? true
follower server 2 commit index 34 command 8888938212861946704 
update server 2 's matchIndex from 34 to 34
append command 9132309460272685935
len(log) = 35
append command 9092558976877763935
len(log) = 36
append command 5084677352541505302
len(log) = 37
append command 3658081603019464325
len(log) = 38
append command 5568940065052272754
len(log) = 39
append command 4695468247320032107
len(log) = 40
append command 6339873357153737022
len(log) = 41
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 34
current commitIndex 34 lastIncludedIndex 29 snapshot exists ? true
update server 2 's matchIndex from 34 to 41
getEntryTerm
leader server 0 commit index 35 command 9132309460272685935
leader server 0 commit index 36 command 9092558976877763935
leader server 0 commit index 37 command 5084677352541505302
leader server 0 commit index 38 command 3658081603019464325
leader server 0 commit index 39 command 5568940065052272754
leader server 0 commit index 40 command 4695468247320032107
server 0 takes snopshot and discards logs before index 39
getEntryTerm
discard index before 39(included)
server 0 finished snopshot
leader server 0 commit index 41 command 6339873357153737022
server 0 term 7 state 2(leader true)(heartFlag false)
nextIndex
42 || 34 || 42 || 
matchIndex
41 || 33 || 41 || 
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 41
getEntryTerm
current commitIndex 34 lastIncludedIndex 29 snapshot exists ? true
follower server 2 commit index 35 command 9132309460272685935 
follower server 2 commit index 36 command 9092558976877763935 
follower server 2 commit index 37 command 5084677352541505302 
follower server 2 commit index 38 command 3658081603019464325 
follower server 2 commit index 39 command 5568940065052272754 
follower server 2 commit index 40 command 4695468247320032107 
server 2 takes snopshot and discards logs before index 39
getEntryTerm
discard index before 39(included)
server 2 finished snopshot
follower server 2 commit index 41 command 6339873357153737022 
update server 2 's matchIndex from 41 to 41
append command 5470854018693374455
len(log) = 42
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 41
current commitIndex 41 lastIncludedIndex 39 snapshot exists ? true
update server 2 's matchIndex from 41 to 42
getEntryTerm
leader server 0 commit index 42 command 5470854018693374455
server 1 receives snopshot from leader 0
server 1 commit snopshot to lastIncludedIndex 39
server 1 term 7 state 0(leader false)(heartFlag false)
server 1 term 7 doesn't hear any heartbeat
server 1 convert to candidate
server 0 convert to follower
getEntryTerm
server 0 thinks candidate 1 is not up-to-date
server 0 grant false for candidate 1's requestVote
server 2 convert to follower
getEntryTerm
server 2 thinks candidate 1 is not up-to-date
server 2 grant false for candidate 1's requestVote
server 2 term 8 state 0(leader false)(heartFlag true)
server 0 term 8 state 0(leader false)(heartFlag false)
server 0 term 8 doesn't hear any heartbeat
server 0 convert to candidate
getEntryTerm
getEntryTerm
server 1 convert to follower
server 1 grant true for candidate 0's requestVote
server 0 convert to leader
server 0 term 9 send appendEntries
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 42
server 2 convert to follower
getEntryTerm
current commitIndex 41 lastIncludedIndex 39 snapshot exists ? true
follower server 2 commit index 42 command 5470854018693374455 
update server 2 's matchIndex from 0 to 42
server 1 receives appendEntry from leader 0 prevLogIndex 42
lastLogIndex 39, args.PrevLogIndex 42
getEntryTerm
server 2 grant true for candidate 0's requestVote
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 42
current commitIndex 42 lastIncludedIndex 39 snapshot exists ? true
update server 2 's matchIndex from 42 to 42
server 1 receives appendEntry from leader 0 prevLogIndex 39
current commitIndex 39 lastIncludedIndex 39 snapshot exists ? true
follower server 1 commit index 40 command 4695468247320032107 
follower server 1 commit index 41 command 6339873357153737022 
follower server 1 commit index 42 command 5470854018693374455 
update server 1 's matchIndex from 0 to 42
server 2 term 9 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 42
current commitIndex 42 lastIncludedIndex 39 snapshot exists ? true
update server 1 's matchIndex from 42 to 42
server 2 receives appendEntry from leader 0 prevLogIndex 42
current commitIndex 42 lastIncludedIndex 39 snapshot exists ? true
update server 2 's matchIndex from 42 to 42
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 42
current commitIndex 42 lastIncludedIndex 39 snapshot exists ? true
update server 1 's matchIndex from 42 to 42
server 2 receives appendEntry from leader 0 prevLogIndex 42
current commitIndex 42 lastIncludedIndex 39 snapshot exists ? true
update server 2 's matchIndex from 42 to 42
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 42
current commitIndex 42 lastIncludedIndex 39 snapshot exists ? true
update server 1 's matchIndex from 42 to 42
server 2 receives appendEntry from leader 0 prevLogIndex 42
current commitIndex 42 lastIncludedIndex 39 snapshot exists ? true
update server 2 's matchIndex from 42 to 42
server 1 term 9 state 0(leader false)(heartFlag true)
server 2 term 9 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 42
current commitIndex 42 lastIncludedIndex 39 snapshot exists ? true
update server 2 's matchIndex from 42 to 42
server 1 receives appendEntry from leader 0 prevLogIndex 42
current commitIndex 42 lastIncludedIndex 39 snapshot exists ? true
update server 1 's matchIndex from 42 to 42
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 42
current commitIndex 42 lastIncludedIndex 39 snapshot exists ? true
update server 1 's matchIndex from 42 to 42
server 2 receives appendEntry from leader 0 prevLogIndex 42
current commitIndex 42 lastIncludedIndex 39 snapshot exists ? true
update server 2 's matchIndex from 42 to 42
getEntryTerm
getEntryTerm
server 1 term 9 state 0(leader false)(heartFlag true)
server 0 term 9 state 2(leader true)(heartFlag false)
nextIndex
43 || 43 || 43 || 
matchIndex
42 || 42 || 42 || 
getEntryTerm
getEntryTerm
server 2 term 9 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 9 state 0(leader false)(heartFlag false)
server 1 term 9 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
getEntryTerm
server 2 grant true for candidate 1's requestVote
server 1 convert to leader
server 1 term 10 send appendEntries
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 42
current commitIndex 42 lastIncludedIndex 39 snapshot exists ? true
update server 2 's matchIndex from 0 to 42
append command 4532754384019676791
len(log) = 43
server 0 term 9 state 2(leader true)(heartFlag false)
nextIndex
43 || 43 || 43 || 
matchIndex
42 || 42 || 42 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 10 state 0(leader false)(heartFlag true)
server 2 receives appendEntry from leader 1 prevLogIndex 42
current commitIndex 42 lastIncludedIndex 39 snapshot exists ? true
update server 2 's matchIndex from 42 to 43
getEntryTerm
leader server 1 commit index 43 command 4532754384019676791
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 43
getEntryTerm
current commitIndex 42 lastIncludedIndex 39 snapshot exists ? true
follower server 2 commit index 43 command 4532754384019676791 
update server 2 's matchIndex from 43 to 43
append command 6781988236757193956
len(log) = 44
append command 2088210661578365001
len(log) = 45
append command 343322252186074891
len(log) = 46
append command 6403037695505966318
len(log) = 47
append command 566556414648728798
len(log) = 48
append command 2254599831150040504
len(log) = 49
append command 468633265227709977
len(log) = 50
append command 2438947531183521542
len(log) = 51
append command 1356945624401457846
len(log) = 52
append command 7230410813866118109
len(log) = 53
append command 4873991779692512654
len(log) = 54
append command 5475077447285469936
len(log) = 55
append command 4701133823996960290
len(log) = 56
append command 2433733896186912924
len(log) = 57
append command 902319501825505077
len(log) = 58
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 43
current commitIndex 43 lastIncludedIndex 39 snapshot exists ? true
update server 2 's matchIndex from 43 to 58
getEntryTerm
leader server 1 commit index 44 command 6781988236757193956
leader server 1 commit index 45 command 2088210661578365001
leader server 1 commit index 46 command 343322252186074891
leader server 1 commit index 47 command 6403037695505966318
leader server 1 commit index 48 command 566556414648728798
leader server 1 commit index 49 command 2254599831150040504
leader server 1 commit index 50 command 468633265227709977
server 1 takes snopshot and discards logs before index 49
getEntryTerm
discard index before 49(included)
server 1 finished snopshot
leader server 1 commit index 51 command 2438947531183521542
leader server 1 commit index 52 command 1356945624401457846
leader server 1 commit index 53 command 7230410813866118109
leader server 1 commit index 54 command 4873991779692512654
leader server 1 commit index 55 command 5475077447285469936
leader server 1 commit index 56 command 4701133823996960290
leader server 1 commit index 57 command 2433733896186912924
leader server 1 commit index 58 command 902319501825505077
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 58
getEntryTerm
current commitIndex 43 lastIncludedIndex 39 snapshot exists ? true
follower server 2 commit index 44 command 6781988236757193956 
follower server 2 commit index 45 command 2088210661578365001 
follower server 2 commit index 46 command 343322252186074891 
follower server 2 commit index 47 command 6403037695505966318 
follower server 2 commit index 48 command 566556414648728798 
follower server 2 commit index 49 command 2254599831150040504 
server 2 takes snopshot and discards logs before index 49
getEntryTerm
discard index before 49(included)
server 2 finished snopshot
follower server 2 commit index 50 command 468633265227709977 
follower server 2 commit index 51 command 2438947531183521542 
follower server 2 commit index 52 command 1356945624401457846 
follower server 2 commit index 53 command 7230410813866118109 
follower server 2 commit index 54 command 4873991779692512654 
follower server 2 commit index 55 command 5475077447285469936 
follower server 2 commit index 56 command 4701133823996960290 
follower server 2 commit index 57 command 2433733896186912924 
follower server 2 commit index 58 command 902319501825505077 
update server 2 's matchIndex from 58 to 58
server 2 term 10 state 0(leader false)(heartFlag true)
append command 6487506363415797912
len(log) = 59
server 0 term 9 state 2(leader true)(heartFlag false)
nextIndex
43 || 43 || 43 || 
matchIndex
42 || 42 || 42 || 
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives snopshot from leader 1
server 0 convert to follower
server 0 commit snopshot to lastIncludedIndex 49
server 2 receives appendEntry from leader 1 prevLogIndex 58
current commitIndex 58 lastIncludedIndex 49 snapshot exists ? true
update server 2 's matchIndex from 58 to 59
getEntryTerm
leader server 1 commit index 59 command 6487506363415797912
server 1 takes snopshot and discards logs before index 59
getEntryTerm
discard index before 59(included)
server 1 finished snopshot
server 1 receives appendEntry from leader 0 prevLogIndex 42
server 2 receives appendEntry from leader 1 prevLogIndex 59
getEntryTerm
current commitIndex 58 lastIncludedIndex 49 snapshot exists ? true
follower server 2 commit index 59 command 6487506363415797912 
update server 2 's matchIndex from 59 to 59
server 2 takes snopshot and discards logs before index 59
getEntryTerm
discard index before 59(included)
server 2 finished snopshot
server 0 receives snopshot from leader 1
server 0 commit snopshot to lastIncludedIndex 59
server 1 term 10 state 2(leader true)(heartFlag false)
nextIndex
60 || 60 || 60 || 
matchIndex
59 || 59 || 59 || 
server 2 receives appendEntry from leader 1 prevLogIndex 59
current commitIndex 59 lastIncludedIndex 59 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 59
current commitIndex 59 lastIncludedIndex 59 snapshot exists ? true
update server 0 's matchIndex from 59 to 59
server 0 term 10 state 0(leader false)(heartFlag true)
server 2 receives appendEntry from leader 1 prevLogIndex 59
current commitIndex 59 lastIncludedIndex 59 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 59
current commitIndex 59 lastIncludedIndex 59 snapshot exists ? true
update server 0 's matchIndex from 59 to 59
server 2 term 10 state 0(leader false)(heartFlag true)
server 2 receives appendEntry from leader 1 prevLogIndex 59
current commitIndex 59 lastIncludedIndex 59 snapshot exists ? true
update server 2 's matchIndex from 59 to 59
server 0 receives appendEntry from leader 1 prevLogIndex 59
current commitIndex 59 lastIncludedIndex 59 snapshot exists ? true
update server 0 's matchIndex from 59 to 59
server 1 term 10 state 2(leader true)(heartFlag false)
nextIndex
60 || 60 || 60 || 
matchIndex
59 || 59 || 59 || 
server 2 receives appendEntry from leader 1 prevLogIndex 59
current commitIndex 59 lastIncludedIndex 59 snapshot exists ? true
update server 2 's matchIndex from 59 to 59
server 0 term 10 state 0(leader false)(heartFlag true)
server 0 receives appendEntry from leader 1 prevLogIndex 59
current commitIndex 59 lastIncludedIndex 59 snapshot exists ? true
update server 0 's matchIndex from 59 to 59
server 0 receives appendEntry from leader 1 prevLogIndex 59
current commitIndex 59 lastIncludedIndex 59 snapshot exists ? true
update server 0 's matchIndex from 59 to 59
server 2 receives appendEntry from leader 1 prevLogIndex 59
current commitIndex 59 lastIncludedIndex 59 snapshot exists ? true
update server 2 's matchIndex from 59 to 59
append command 7377642430141905916
len(log) = 60
server 2 term 10 state 0(leader false)(heartFlag true)
server 0 receives appendEntry from leader 1 prevLogIndex 59
current commitIndex 59 lastIncludedIndex 59 snapshot exists ? true
update server 0 's matchIndex from 59 to 60
getEntryTerm
leader server 1 commit index 60 command 7377642430141905916
server 0 term 10 state 0(leader false)(heartFlag true)
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 60
getEntryTerm
current commitIndex 59 lastIncludedIndex 59 snapshot exists ? true
follower server 0 commit index 60 command 7377642430141905916 
update server 0 's matchIndex from 60 to 60
append command 1386367399988503184
len(log) = 61
append command 4013905236834036613
len(log) = 62
append command 7037895896192466470
len(log) = 63
append command 5846945022525272861
len(log) = 64
append command 708037589958131190
len(log) = 65
append command 1697500592837532518
len(log) = 66
append command 3077973128984509468
len(log) = 67
append command 3828634707885650805
len(log) = 68
append command 7080718538053078732
len(log) = 69
append command 1290724173784433915
len(log) = 70
append command 7352402147530915474
len(log) = 71
append command 6090694890534364227
len(log) = 72
append command 3596900734309624084
len(log) = 73
append command 3690355427272561786
len(log) = 74
server 1 term 10 state 2(leader true)(heartFlag false)
nextIndex
61 || 61 || 60 || 
matchIndex
60 || 60 || 59 || 
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 60
current commitIndex 60 lastIncludedIndex 59 snapshot exists ? true
update server 0 's matchIndex from 60 to 74
getEntryTerm
leader server 1 commit index 61 command 1386367399988503184
leader server 1 commit index 62 command 4013905236834036613
leader server 1 commit index 63 command 7037895896192466470
leader server 1 commit index 64 command 5846945022525272861
leader server 1 commit index 65 command 708037589958131190
leader server 1 commit index 66 command 1697500592837532518
leader server 1 commit index 67 command 3077973128984509468
leader server 1 commit index 68 command 3828634707885650805
leader server 1 commit index 69 command 7080718538053078732
leader server 1 commit index 70 command 1290724173784433915
server 1 takes snopshot and discards logs before index 69
getEntryTerm
discard index before 69(included)
server 1 finished snopshot
leader server 1 commit index 71 command 7352402147530915474
leader server 1 commit index 72 command 6090694890534364227
leader server 1 commit index 73 command 3596900734309624084
leader server 1 commit index 74 command 3690355427272561786
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 74
getEntryTerm
current commitIndex 60 lastIncludedIndex 59 snapshot exists ? true
follower server 0 commit index 61 command 1386367399988503184 
follower server 0 commit index 62 command 4013905236834036613 
follower server 0 commit index 63 command 7037895896192466470 
follower server 0 commit index 64 command 5846945022525272861 
follower server 0 commit index 65 command 708037589958131190 
follower server 0 commit index 66 command 1697500592837532518 
follower server 0 commit index 67 command 3077973128984509468 
follower server 0 commit index 68 command 3828634707885650805 
follower server 0 commit index 69 command 7080718538053078732 
follower server 0 commit index 70 command 1290724173784433915 
server 0 takes snopshot and discards logs before index 69
getEntryTerm
discard index before 69(included)
server 0 finished snopshot
follower server 0 commit index 71 command 7352402147530915474 
follower server 0 commit index 72 command 6090694890534364227 
follower server 0 commit index 73 command 3596900734309624084 
follower server 0 commit index 74 command 3690355427272561786 
update server 0 's matchIndex from 74 to 74
append command 451826356054899756
len(log) = 75
server 0 term 10 state 0(leader false)(heartFlag true)
server 2 term 10 state 0(leader false)(heartFlag false)
server 2 term 10 doesn't hear any heartbeat
server 2 convert to candidate
server 1 convert to follower
getEntryTerm
server 1 thinks candidate 2 is not up-to-date
server 1 grant false for candidate 2's requestVote
server 0 convert to follower
getEntryTerm
server 0 thinks candidate 2 is not up-to-date
server 0 grant false for candidate 2's requestVote
server 1 term 11 state 0(leader false)(heartFlag false)
server 1 term 11 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
server 2 grant true for candidate 1's requestVote
server 1 convert to leader
server 1 term 12 send appendEntries
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 75
lastLogIndex 59, args.PrevLogIndex 75
server 0 convert to follower
getEntryTerm
server 0 grant true for candidate 1's requestVote
server 0 receives appendEntry from leader 1 prevLogIndex 75
lastLogIndex 74, args.PrevLogIndex 75
getEntryTerm
server 2 receives snopshot from leader 1
server 2 commit snopshot to lastIncludedIndex 69
server 0 receives appendEntry from leader 1 prevLogIndex 74
current commitIndex 74 lastIncludedIndex 69 snapshot exists ? true
update server 0 's matchIndex from 0 to 75
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 69
current commitIndex 69 lastIncludedIndex 69 snapshot exists ? true
follower server 2 commit index 70 command 1290724173784433915 
follower server 2 commit index 71 command 7352402147530915474 
follower server 2 commit index 72 command 6090694890534364227 
follower server 2 commit index 73 command 3596900734309624084 
follower server 2 commit index 74 command 3690355427272561786 
update server 2 's matchIndex from 69 to 75
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 12 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 75
getEntryTerm
current commitIndex 74 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 75 to 75
server 0 receives appendEntry from leader 1 prevLogIndex 75
getEntryTerm
current commitIndex 74 lastIncludedIndex 69 snapshot exists ? true
update server 0 's matchIndex from 75 to 75
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 75
getEntryTerm
current commitIndex 74 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 75 to 75
server 0 receives appendEntry from leader 1 prevLogIndex 75
getEntryTerm
current commitIndex 74 lastIncludedIndex 69 snapshot exists ? true
update server 0 's matchIndex from 75 to 75
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 75
getEntryTerm
current commitIndex 74 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 75 to 75
server 0 receives appendEntry from leader 1 prevLogIndex 75
getEntryTerm
current commitIndex 74 lastIncludedIndex 69 snapshot exists ? true
update server 0 's matchIndex from 75 to 75
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 12 state 0(leader false)(heartFlag true)
getEntryTerm
server 1 term 12 state 2(leader true)(heartFlag false)
nextIndex
76 || 76 || 76 || 
matchIndex
75 || 75 || 75 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 75
getEntryTerm
current commitIndex 74 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 75 to 75
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 75
getEntryTerm
current commitIndex 74 lastIncludedIndex 69 snapshot exists ? true
update server 0 's matchIndex from 75 to 75
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 12 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 75
getEntryTerm
current commitIndex 74 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 75 to 75
server 0 receives appendEntry from leader 1 prevLogIndex 75
getEntryTerm
current commitIndex 74 lastIncludedIndex 69 snapshot exists ? true
update server 0 's matchIndex from 75 to 75
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 75
getEntryTerm
current commitIndex 74 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 75 to 75
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 75
getEntryTerm
current commitIndex 74 lastIncludedIndex 69 snapshot exists ? true
update server 0 's matchIndex from 75 to 75
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 75
getEntryTerm
current commitIndex 74 lastIncludedIndex 69 snapshot exists ? true
update server 0 's matchIndex from 75 to 75
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 75
getEntryTerm
current commitIndex 74 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 75 to 75
getEntryTerm
server 1 term 12 state 2(leader true)(heartFlag false)
nextIndex
76 || 76 || 76 || 
matchIndex
75 || 75 || 75 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 12 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 75
getEntryTerm
current commitIndex 74 lastIncludedIndex 69 snapshot exists ? true
server 2 term 12 state 0(leader false)(heartFlag true)
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 75
getEntryTerm
current commitIndex 74 lastIncludedIndex 69 snapshot exists ? true
getEntryTerm
update server 2 's matchIndex from 75 to 75
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 75
getEntryTerm
current commitIndex 74 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 75 to 75
server 0 receives appendEntry from leader 1 prevLogIndex 75
getEntryTerm
current commitIndex 74 lastIncludedIndex 69 snapshot exists ? true
update server 0 's matchIndex from 75 to 75
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 75
getEntryTerm
current commitIndex 74 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 75 to 75
getEntryTerm
server 1 term 12 state 2(leader true)(heartFlag false)
nextIndex
76 || 76 || 76 || 
matchIndex
75 || 75 || 75 || 
server 0 receives appendEntry from leader 1 prevLogIndex 75
getEntryTerm
current commitIndex 74 lastIncludedIndex 69 snapshot exists ? true
update server 0 's matchIndex from 75 to 75
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 12 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 75
getEntryTerm
current commitIndex 74 lastIncludedIndex 69 snapshot exists ? true
update server 0 's matchIndex from 75 to 75
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 12 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 75
getEntryTerm
current commitIndex 74 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 75 to 75
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 12 state 2(leader true)(heartFlag false)
nextIndex
76 || 76 || 76 || 
matchIndex
75 || 75 || 75 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 75
getEntryTerm
current commitIndex 74 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 75 to 75
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 75
getEntryTerm
current commitIndex 74 lastIncludedIndex 69 snapshot exists ? true
update server 0 's matchIndex from 75 to 75
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 75
getEntryTerm
current commitIndex 74 lastIncludedIndex 69 snapshot exists ? true
server 2 term 12 state 0(leader false)(heartFlag true)
server 2 receives appendEntry from leader 1 prevLogIndex 75
getEntryTerm
current commitIndex 74 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 75 to 75
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 75
getEntryTerm
current commitIndex 74 lastIncludedIndex 69 snapshot exists ? true
update server 0 's matchIndex from 75 to 75
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 75
getEntryTerm
current commitIndex 74 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 75 to 75
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 12 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 75
getEntryTerm
current commitIndex 74 lastIncludedIndex 69 snapshot exists ? true
getEntryTerm
update server 2 's matchIndex from 75 to 75
server 1 term 12 state 2(leader true)(heartFlag false)
nextIndex
76 || 76 || 76 || 
matchIndex
75 || 75 || 75 || 
append command 451826356054899756
len(log) = 76
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 75
getEntryTerm
current commitIndex 74 lastIncludedIndex 69 snapshot exists ? true
update server 0 's matchIndex from 75 to 75
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 75
getEntryTerm
current commitIndex 74 lastIncludedIndex 69 snapshot exists ? true
update server 0 's matchIndex from 75 to 76
getEntryTerm
leader server 1 commit index 75 command 451826356054899756
leader server 1 commit index 76 command 451826356054899756
server 2 receives appendEntry from leader 1 prevLogIndex 75
getEntryTerm
current commitIndex 74 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 75 to 76
server 2 term 12 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 76
getEntryTerm
current commitIndex 74 lastIncludedIndex 69 snapshot exists ? true
follower server 0 commit index 75 command 451826356054899756 
follower server 0 commit index 76 command 451826356054899756 
update server 0 's matchIndex from 76 to 76
server 2 receives appendEntry from leader 1 prevLogIndex 76
getEntryTerm
current commitIndex 74 lastIncludedIndex 69 snapshot exists ? true
follower server 2 commit index 75 command 451826356054899756 
follower server 2 commit index 76 command 451826356054899756 
update server 2 's matchIndex from 76 to 76
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 76
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 76
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 76 to 76
server 0 term 12 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 term 12 state 2(leader true)(heartFlag false)
nextIndex
77 || 77 || 77 || 
matchIndex
76 || 76 || 76 || 
server 0 receives appendEntry from leader 1 prevLogIndex 76
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 0 's matchIndex from 76 to 76
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 76
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 0 's matchIndex from 76 to 76
server 2 receives appendEntry from leader 1 prevLogIndex 76
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 76 to 76
server 2 term 12 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 76
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 0 's matchIndex from 76 to 76
server 1 term 12 state 2(leader true)(heartFlag false)
nextIndex
77 || 77 || 77 || 
matchIndex
76 || 76 || 76 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 76
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 76 to 76
server 0 receives appendEntry from leader 1 prevLogIndex 76
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 0 's matchIndex from 76 to 76
append command 7473476166722110561
len(log) = 77
server 0 term 12 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 76
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 0 's matchIndex from 76 to 77
getEntryTerm
leader server 1 commit index 77 command 7473476166722110561
server 2 term 12 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
follower server 0 commit index 77 command 7473476166722110561 
update server 0 's matchIndex from 77 to 77
append command 2905540734760734383
len(log) = 78
append command 7255994245742781372
len(log) = 79
append command 6383166062655866353
len(log) = 80
append command 8901246369720633131
len(log) = 81
append command 711320443383171238
len(log) = 82
append command 2601297577380782617
len(log) = 83
append command 1581430141006348877
len(log) = 84
append command 8680869997521626246
len(log) = 85
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 77
current commitIndex 77 lastIncludedIndex 69 snapshot exists ? true
update server 0 's matchIndex from 77 to 85
getEntryTerm
leader server 1 commit index 78 command 2905540734760734383
leader server 1 commit index 79 command 7255994245742781372
server 1 takes snopshot and discards logs before index 79
getEntryTerm
discard index before 79(included)
server 1 finished snopshot
leader server 1 commit index 80 command 6383166062655866353
leader server 1 commit index 81 command 8901246369720633131
leader server 1 commit index 82 command 711320443383171238
leader server 1 commit index 83 command 2601297577380782617
leader server 1 commit index 84 command 1581430141006348877
leader server 1 commit index 85 command 8680869997521626246
getEntryTerm
server 1 term 12 state 2(leader true)(heartFlag false)
nextIndex
86 || 86 || 77 || 
matchIndex
85 || 85 || 76 || 
server 0 receives appendEntry from leader 1 prevLogIndex 85
getEntryTerm
current commitIndex 77 lastIncludedIndex 69 snapshot exists ? true
follower server 0 commit index 78 command 2905540734760734383 
follower server 0 commit index 79 command 7255994245742781372 
server 0 takes snopshot and discards logs before index 79
getEntryTerm
discard index before 79(included)
server 0 finished snopshot
follower server 0 commit index 80 command 6383166062655866353 
follower server 0 commit index 81 command 8901246369720633131 
follower server 0 commit index 82 command 711320443383171238 
follower server 0 commit index 83 command 2601297577380782617 
follower server 0 commit index 84 command 1581430141006348877 
follower server 0 commit index 85 command 8680869997521626246 
update server 0 's matchIndex from 85 to 85
append command 6991178387805159079
len(log) = 86
server 0 term 12 state 0(leader false)(heartFlag true)
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 85
current commitIndex 85 lastIncludedIndex 79 snapshot exists ? true
update server 0 's matchIndex from 85 to 86
getEntryTerm
leader server 1 commit index 86 command 6991178387805159079
server 2 term 12 state 0(leader false)(heartFlag false)
server 2 term 12 doesn't hear any heartbeat
server 2 convert to candidate
getEntryTerm
getEntryTerm
server 0 convert to follower
getEntryTerm
server 0 thinks candidate 2 is not up-to-date
server 0 grant false for candidate 2's requestVote
server 1 convert to follower
getEntryTerm
server 1 thinks candidate 2 is not up-to-date
server 1 grant false for candidate 2's requestVote
server 0 term 13 state 0(leader false)(heartFlag true)
server 1 term 13 state 0(leader false)(heartFlag false)
server 1 term 13 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
getEntryTerm
server 2 grant true for candidate 1's requestVote
server 1 convert to leader
server 1 term 14 send appendEntries
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 86
server 0 convert to follower
getEntryTerm
current commitIndex 85 lastIncludedIndex 79 snapshot exists ? true
follower server 0 commit index 86 command 6991178387805159079 
update server 0 's matchIndex from 0 to 86
server 2 receives appendEntry from leader 1 prevLogIndex 86
lastLogIndex 76, args.PrevLogIndex 86
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 86
current commitIndex 86 lastIncludedIndex 79 snapshot exists ? true
update server 0 's matchIndex from 86 to 86
server 2 receives snopshot from leader 1
server 2 commit snopshot to lastIncludedIndex 79
getEntryTerm
server 2 receives snopshot from leader 1
server 2 commit snopshot to lastIncludedIndex 79
server 0 receives appendEntry from leader 1 prevLogIndex 86
current commitIndex 86 lastIncludedIndex 79 snapshot exists ? true
update server 0 's matchIndex from 86 to 86
server 0 term 14 state 0(leader false)(heartFlag true)
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 86
current commitIndex 86 lastIncludedIndex 79 snapshot exists ? true
update server 0 's matchIndex from 86 to 86
server 2 receives appendEntry from leader 1 prevLogIndex 79
current commitIndex 79 lastIncludedIndex 79 snapshot exists ? true
follower server 2 commit index 80 command 6383166062655866353 
follower server 2 commit index 81 command 8901246369720633131 
follower server 2 commit index 82 command 711320443383171238 
follower server 2 commit index 83 command 2601297577380782617 
follower server 2 commit index 84 command 1581430141006348877 
follower server 2 commit index 85 command 8680869997521626246 
follower server 2 commit index 86 command 6991178387805159079 
update server 2 's matchIndex from 79 to 86
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 86
current commitIndex 86 lastIncludedIndex 79 snapshot exists ? true
update server 0 's matchIndex from 86 to 86
server 2 receives appendEntry from leader 1 prevLogIndex 86
current commitIndex 86 lastIncludedIndex 79 snapshot exists ? true
server 2 term 14 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 86
current commitIndex 86 lastIncludedIndex 79 snapshot exists ? true
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 86
current commitIndex 86 lastIncludedIndex 79 snapshot exists ? true
update server 2 's matchIndex from 86 to 86
server 0 receives appendEntry from leader 1 prevLogIndex 86
current commitIndex 86 lastIncludedIndex 79 snapshot exists ? true
update server 0 's matchIndex from 86 to 86
server 0 term 14 state 0(leader false)(heartFlag true)
server 1 term 14 state 2(leader true)(heartFlag false)
nextIndex
87 || 87 || 87 || 
matchIndex
86 || 86 || 86 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 86
current commitIndex 86 lastIncludedIndex 79 snapshot exists ? true
update server 0 's matchIndex from 86 to 86
server 2 receives appendEntry from leader 1 prevLogIndex 86
current commitIndex 86 lastIncludedIndex 79 snapshot exists ? true
update server 2 's matchIndex from 86 to 86
server 2 term 14 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 86
current commitIndex 86 lastIncludedIndex 79 snapshot exists ? true
update server 2 's matchIndex from 86 to 86
getEntryTerm
getEntryTerm
server 1 term 14 state 2(leader true)(heartFlag false)
nextIndex
87 || 87 || 87 || 
matchIndex
86 || 86 || 86 || 
getEntryTerm
getEntryTerm
server 0 term 14 state 0(leader false)(heartFlag true)
server 2 term 14 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 14 state 2(leader true)(heartFlag false)
nextIndex
87 || 87 || 87 || 
matchIndex
86 || 86 || 86 || 
getEntryTerm
getEntryTerm
server 0 term 14 state 0(leader false)(heartFlag false)
server 0 term 14 doesn't hear any heartbeat
server 0 convert to candidate
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 convert to follower
getEntryTerm
server 2 grant true for candidate 0's requestVote
server 0 convert to leader
server 0 term 15 send appendEntries
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 86
current commitIndex 86 lastIncludedIndex 79 snapshot exists ? true
update server 2 's matchIndex from 0 to 86
append command 5598973784458515668
len(log) = 87
server 2 term 15 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 86
current commitIndex 86 lastIncludedIndex 79 snapshot exists ? true
update server 2 's matchIndex from 86 to 87
getEntryTerm
leader server 0 commit index 87 command 5598973784458515668
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 87
getEntryTerm
current commitIndex 86 lastIncludedIndex 79 snapshot exists ? true
follower server 2 commit index 87 command 5598973784458515668 
update server 2 's matchIndex from 87 to 87
append command 7581964581908536700
len(log) = 88
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 87
current commitIndex 87 lastIncludedIndex 79 snapshot exists ? true
update server 2 's matchIndex from 87 to 88
server 1 term 14 state 2(leader true)(heartFlag false)
nextIndex
87 || 87 || 87 || 
matchIndex
86 || 86 || 86 || 
getEntryTerm
leader server 0 commit index 88 command 7581964581908536700
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 88
getEntryTerm
current commitIndex 87 lastIncludedIndex 79 snapshot exists ? true
follower server 2 commit index 88 command 7581964581908536700 
update server 2 's matchIndex from 88 to 88
append command 1585460181416613318
len(log) = 87
server 2 term 15 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 88
current commitIndex 88 lastIncludedIndex 79 snapshot exists ? true
update server 2 's matchIndex from 88 to 88
server 2 receives appendEntry from leader 1 prevLogIndex 86
server 1 convert to follower
server 0 term 15 state 2(leader true)(heartFlag false)
nextIndex
89 || 87 || 89 || 
matchIndex
88 || 0 || 88 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 88
current commitIndex 88 lastIncludedIndex 79 snapshot exists ? true
update server 2 's matchIndex from 88 to 88
server 1 receives appendEntry from leader 0 prevLogIndex 86
current commitIndex 86 lastIncludedIndex 79 snapshot exists ? true
follower server 1 commit index 87 command 5598973784458515668 
follower server 1 commit index 88 command 7581964581908536700 
update server 1 's matchIndex from 0 to 88
server 1 term 15 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 88
current commitIndex 88 lastIncludedIndex 79 snapshot exists ? true
update server 2 's matchIndex from 88 to 88
server 1 receives appendEntry from leader 0 prevLogIndex 88
current commitIndex 88 lastIncludedIndex 79 snapshot exists ? true
update server 1 's matchIndex from 88 to 88
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 88
current commitIndex 88 lastIncludedIndex 79 snapshot exists ? true
update server 2 's matchIndex from 88 to 88
server 1 receives appendEntry from leader 0 prevLogIndex 88
current commitIndex 88 lastIncludedIndex 79 snapshot exists ? true
update server 1 's matchIndex from 88 to 88
server 2 term 15 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 term 15 state 2(leader true)(heartFlag false)
nextIndex
89 || 89 || 89 || 
matchIndex
88 || 88 || 88 || 
server 2 receives appendEntry from leader 0 prevLogIndex 88
current commitIndex 88 lastIncludedIndex 79 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 88
current commitIndex 88 lastIncludedIndex 79 snapshot exists ? true
update server 2 's matchIndex from 88 to 88
update server 1 's matchIndex from 88 to 88
server 1 term 15 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 88
current commitIndex 88 lastIncludedIndex 79 snapshot exists ? true
update server 1 's matchIndex from 88 to 88
server 2 receives appendEntry from leader 0 prevLogIndex 88
current commitIndex 88 lastIncludedIndex 79 snapshot exists ? true
update server 2 's matchIndex from 88 to 88
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 88
current commitIndex 88 lastIncludedIndex 79 snapshot exists ? true
update server 2 's matchIndex from 88 to 88
server 2 term 15 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 88
current commitIndex 88 lastIncludedIndex 79 snapshot exists ? true
update server 2 's matchIndex from 88 to 88
server 1 receives appendEntry from leader 0 prevLogIndex 88
current commitIndex 88 lastIncludedIndex 79 snapshot exists ? true
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 88
current commitIndex 88 lastIncludedIndex 79 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 88
current commitIndex 88 lastIncludedIndex 79 snapshot exists ? true
update server 2 's matchIndex from 88 to 88
server 1 term 15 state 0(leader false)(heartFlag true)
server 0 term 15 state 2(leader true)(heartFlag false)
nextIndex
89 || 89 || 89 || 
matchIndex
88 || 88 || 88 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 88
current commitIndex 88 lastIncludedIndex 79 snapshot exists ? true
update server 2 's matchIndex from 88 to 88
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 88
current commitIndex 88 lastIncludedIndex 79 snapshot exists ? true
update server 1 's matchIndex from 88 to 88
server 2 term 15 state 0(leader false)(heartFlag true)
server 2 receives appendEntry from leader 0 prevLogIndex 88
current commitIndex 88 lastIncludedIndex 79 snapshot exists ? true
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 88
current commitIndex 88 lastIncludedIndex 79 snapshot exists ? true
update server 1 's matchIndex from 88 to 88
server 1 term 15 state 0(leader false)(heartFlag true)
server 2 receives appendEntry from leader 0 prevLogIndex 88
current commitIndex 88 lastIncludedIndex 79 snapshot exists ? true
update server 2 's matchIndex from 88 to 88
server 0 term 15 state 2(leader true)(heartFlag false)
nextIndex
89 || 89 || 89 || 
matchIndex
88 || 88 || 88 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 88
current commitIndex 88 lastIncludedIndex 79 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 88
current commitIndex 88 lastIncludedIndex 79 snapshot exists ? true
update server 1 's matchIndex from 88 to 88
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 88
current commitIndex 88 lastIncludedIndex 79 snapshot exists ? true
update server 2 's matchIndex from 88 to 88
server 2 term 15 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 88
current commitIndex 88 lastIncludedIndex 79 snapshot exists ? true
update server 2 's matchIndex from 88 to 88
server 1 receives appendEntry from leader 0 prevLogIndex 88
current commitIndex 88 lastIncludedIndex 79 snapshot exists ? true
update server 1 's matchIndex from 88 to 88
server 1 term 15 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 term 15 state 2(leader true)(heartFlag false)
nextIndex
89 || 89 || 89 || 
matchIndex
88 || 88 || 88 || 
server 2 receives appendEntry from leader 0 prevLogIndex 88
current commitIndex 88 lastIncludedIndex 79 snapshot exists ? true
update server 2 's matchIndex from 88 to 88
server 1 receives appendEntry from leader 0 prevLogIndex 88
current commitIndex 88 lastIncludedIndex 79 snapshot exists ? true
update server 1 's matchIndex from 88 to 88
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 88
current commitIndex 88 lastIncludedIndex 79 snapshot exists ? true
update server 1 's matchIndex from 88 to 88
server 2 receives appendEntry from leader 0 prevLogIndex 88
current commitIndex 88 lastIncludedIndex 79 snapshot exists ? true
update server 2 's matchIndex from 88 to 88
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 88
current commitIndex 88 lastIncludedIndex 79 snapshot exists ? true
update server 2 's matchIndex from 88 to 88
server 1 receives appendEntry from leader 0 prevLogIndex 88
current commitIndex 88 lastIncludedIndex 79 snapshot exists ? true
update server 1 's matchIndex from 88 to 88
server 2 term 15 state 0(leader false)(heartFlag true)
server 0 term 15 state 2(leader true)(heartFlag false)
nextIndex
89 || 89 || 89 || 
matchIndex
88 || 88 || 88 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 88
current commitIndex 88 lastIncludedIndex 79 snapshot exists ? true
update server 1 's matchIndex from 88 to 88
server 2 receives appendEntry from leader 0 prevLogIndex 88
current commitIndex 88 lastIncludedIndex 79 snapshot exists ? true
update server 2 's matchIndex from 88 to 88
server 1 term 15 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
append command 1585460181416613318
len(log) = 89
server 2 receives appendEntry from leader 0 prevLogIndex 88
current commitIndex 88 lastIncludedIndex 79 snapshot exists ? true
update server 2 's matchIndex from 88 to 88
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 88
current commitIndex 88 lastIncludedIndex 79 snapshot exists ? true
update server 2 's matchIndex from 88 to 89
getEntryTerm
leader server 0 commit index 89 command 1585460181416613318
server 0 takes snopshot and discards logs before index 89
getEntryTerm
discard index before 89(included)
server 0 finished snopshot
server 0 term 15 state 2(leader true)(heartFlag false)
nextIndex
90 || 89 || 90 || 
matchIndex
89 || 88 || 89 || 
server 2 term 15 state 0(leader false)(heartFlag true)
server 1 receives snopshot from leader 0
server 1 commit snopshot to lastIncludedIndex 89
server 2 receives appendEntry from leader 0 prevLogIndex 89
getEntryTerm
current commitIndex 88 lastIncludedIndex 79 snapshot exists ? true
follower server 2 commit index 89 command 1585460181416613318 
update server 2 's matchIndex from 89 to 89
server 2 takes snopshot and discards logs before index 89
getEntryTerm
discard index before 89(included)
server 2 finished snopshot
server 1 term 15 state 0(leader false)(heartFlag false)
server 1 term 15 doesn't hear any heartbeat
server 1 convert to candidate
server 2 convert to follower
server 2 grant true for candidate 1's requestVote
server 1 convert to leader
server 1 term 16 send appendEntries
server 2 receives appendEntry from leader 1 prevLogIndex 89
current commitIndex 89 lastIncludedIndex 89 snapshot exists ? true
update server 2 's matchIndex from 0 to 89
server 0 convert to follower
server 0 grant true for candidate 1's requestVote
server 0 receives appendEntry from leader 1 prevLogIndex 89
current commitIndex 89 lastIncludedIndex 89 snapshot exists ? true
update server 0 's matchIndex from 0 to 89
server 2 receives appendEntry from leader 1 prevLogIndex 89
current commitIndex 89 lastIncludedIndex 89 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 89
current commitIndex 89 lastIncludedIndex 89 snapshot exists ? true
update server 0 's matchIndex from 89 to 89
server 2 term 16 state 0(leader false)(heartFlag true)
server 0 term 16 state 0(leader false)(heartFlag true)
server 2 receives appendEntry from leader 1 prevLogIndex 89
current commitIndex 89 lastIncludedIndex 89 snapshot exists ? true
update server 2 's matchIndex from 89 to 89
server 0 receives appendEntry from leader 1 prevLogIndex 89
current commitIndex 89 lastIncludedIndex 89 snapshot exists ? true
update server 0 's matchIndex from 89 to 89
server 0 receives appendEntry from leader 1 prevLogIndex 89
current commitIndex 89 lastIncludedIndex 89 snapshot exists ? true
update server 0 's matchIndex from 89 to 89
server 2 receives appendEntry from leader 1 prevLogIndex 89
current commitIndex 89 lastIncludedIndex 89 snapshot exists ? true
update server 2 's matchIndex from 89 to 89
server 2 term 16 state 0(leader false)(heartFlag true)
server 0 receives appendEntry from leader 1 prevLogIndex 89
current commitIndex 89 lastIncludedIndex 89 snapshot exists ? true
update server 0 's matchIndex from 89 to 89
server 2 receives appendEntry from leader 1 prevLogIndex 89
current commitIndex 89 lastIncludedIndex 89 snapshot exists ? true
update server 2 's matchIndex from 89 to 89
server 0 term 16 state 0(leader false)(heartFlag true)
append command 1396583120524007876
len(log) = 90
server 0 receives appendEntry from leader 1 prevLogIndex 89
current commitIndex 89 lastIncludedIndex 89 snapshot exists ? true
update server 0 's matchIndex from 89 to 90
getEntryTerm
leader server 1 commit index 90 command 1396583120524007876
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 90
getEntryTerm
current commitIndex 89 lastIncludedIndex 89 snapshot exists ? true
follower server 0 commit index 90 command 1396583120524007876 
update server 0 's matchIndex from 90 to 90
append command 880506872079485022
len(log) = 91
append command 480641454961636733
len(log) = 92
append command 4328308251237229659
len(log) = 93
append command 3753244177745645776
len(log) = 94
append command 1780817823643175815
len(log) = 95
append command 1204804726344768884
len(log) = 96
append command 4123145416712308835
len(log) = 97
append command 1696574093738502434
len(log) = 98
append command 823670352919409152
len(log) = 99
append command 4965392044865031269
len(log) = 100
append command 7461684431339469374
len(log) = 101
append command 6921796189873049739
len(log) = 102
append command 5159897886461404112
len(log) = 103
append command 5039620523528772028
len(log) = 104
append command 701540092876879825
len(log) = 105
server 1 term 16 state 2(leader true)(heartFlag false)
nextIndex
91 || 106 || 90 || 
matchIndex
90 || 105 || 89 || 
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 90
current commitIndex 90 lastIncludedIndex 89 snapshot exists ? true
update server 0 's matchIndex from 90 to 105
getEntryTerm
leader server 1 commit index 91 command 880506872079485022
leader server 1 commit index 92 command 480641454961636733
leader server 1 commit index 93 command 4328308251237229659
leader server 1 commit index 94 command 3753244177745645776
leader server 1 commit index 95 command 1780817823643175815
leader server 1 commit index 96 command 1204804726344768884
leader server 1 commit index 97 command 4123145416712308835
leader server 1 commit index 98 command 1696574093738502434
leader server 1 commit index 99 command 823670352919409152
leader server 1 commit index 100 command 4965392044865031269
server 1 takes snopshot and discards logs before index 99
getEntryTerm
discard index before 99(included)
server 1 finished snopshot
leader server 1 commit index 101 command 7461684431339469374
leader server 1 commit index 102 command 6921796189873049739
leader server 1 commit index 103 command 5159897886461404112
leader server 1 commit index 104 command 5039620523528772028
leader server 1 commit index 105 command 701540092876879825
server 2 term 16 state 0(leader false)(heartFlag true)
server 0 term 16 state 0(leader false)(heartFlag true)
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 105
getEntryTerm
current commitIndex 90 lastIncludedIndex 89 snapshot exists ? true
follower server 0 commit index 91 command 880506872079485022 
follower server 0 commit index 92 command 480641454961636733 
follower server 0 commit index 93 command 4328308251237229659 
follower server 0 commit index 94 command 3753244177745645776 
follower server 0 commit index 95 command 1780817823643175815 
follower server 0 commit index 96 command 1204804726344768884 
follower server 0 commit index 97 command 4123145416712308835 
follower server 0 commit index 98 command 1696574093738502434 
follower server 0 commit index 99 command 823670352919409152 
follower server 0 commit index 100 command 4965392044865031269 
server 0 takes snopshot and discards logs before index 99
getEntryTerm
discard index before 99(included)
server 0 finished snopshot
follower server 0 commit index 101 command 7461684431339469374 
follower server 0 commit index 102 command 6921796189873049739 
follower server 0 commit index 103 command 5159897886461404112 
follower server 0 commit index 104 command 5039620523528772028 
follower server 0 commit index 105 command 701540092876879825 
update server 0 's matchIndex from 105 to 105
append command 4857701142833536028
len(log) = 106
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 105
current commitIndex 105 lastIncludedIndex 99 snapshot exists ? true
update server 0 's matchIndex from 105 to 106
getEntryTerm
leader server 1 commit index 106 command 4857701142833536028
server 2 receives snopshot from leader 1
server 2 commit snopshot to lastIncludedIndex 99
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 99
current commitIndex 99 lastIncludedIndex 99 snapshot exists ? true
follower server 2 commit index 100 command 4965392044865031269 
follower server 2 commit index 101 command 7461684431339469374 
follower server 2 commit index 102 command 6921796189873049739 
follower server 2 commit index 103 command 5159897886461404112 
follower server 2 commit index 104 command 5039620523528772028 
follower server 2 commit index 105 command 701540092876879825 
follower server 2 commit index 106 command 4857701142833536028 
update server 2 's matchIndex from 99 to 106
server 1 term 16 state 2(leader true)(heartFlag false)
nextIndex
107 || 107 || 107 || 
matchIndex
106 || 106 || 106 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 106
current commitIndex 106 lastIncludedIndex 99 snapshot exists ? true
update server 2 's matchIndex from 106 to 106
server 0 term 16 state 0(leader false)(heartFlag true)
server 2 term 16 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 106
current commitIndex 106 lastIncludedIndex 99 snapshot exists ? true
update server 2 's matchIndex from 106 to 106
server 0 receives appendEntry from leader 1 prevLogIndex 106
getEntryTerm
current commitIndex 105 lastIncludedIndex 99 snapshot exists ? true
follower server 0 commit index 106 command 4857701142833536028 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 106
current commitIndex 106 lastIncludedIndex 99 snapshot exists ? true
update server 0 's matchIndex from 106 to 106
server 2 receives appendEntry from leader 1 prevLogIndex 106
current commitIndex 106 lastIncludedIndex 99 snapshot exists ? true
update server 2 's matchIndex from 106 to 106
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 106
current commitIndex 106 lastIncludedIndex 99 snapshot exists ? true
update server 2 's matchIndex from 106 to 106
server 0 receives appendEntry from leader 1 prevLogIndex 106
current commitIndex 106 lastIncludedIndex 99 snapshot exists ? true
update server 0 's matchIndex from 106 to 106
server 2 term 16 state 0(leader false)(heartFlag true)
server 0 term 16 state 0(leader false)(heartFlag true)
server 1 term 16 state 2(leader true)(heartFlag false)
nextIndex
107 || 107 || 107 || 
matchIndex
106 || 106 || 106 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 106
current commitIndex 106 lastIncludedIndex 99 snapshot exists ? true
update server 0 's matchIndex from 106 to 106
server 2 receives appendEntry from leader 1 prevLogIndex 106
current commitIndex 106 lastIncludedIndex 99 snapshot exists ? true
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 106
current commitIndex 106 lastIncludedIndex 99 snapshot exists ? true
update server 2 's matchIndex from 106 to 106
server 0 receives appendEntry from leader 1 prevLogIndex 106
current commitIndex 106 lastIncludedIndex 99 snapshot exists ? true
update server 0 's matchIndex from 106 to 106
getEntryTerm
getEntryTerm
server 2 term 16 state 0(leader false)(heartFlag true)
server 0 receives appendEntry from leader 1 prevLogIndex 106
current commitIndex 106 lastIncludedIndex 99 snapshot exists ? true
update server 0 's matchIndex from 106 to 106
server 2 receives appendEntry from leader 1 prevLogIndex 106
current commitIndex 106 lastIncludedIndex 99 snapshot exists ? true
update server 2 's matchIndex from 106 to 106
append command 2947864543768001765
len(log) = 107
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 106
current commitIndex 106 lastIncludedIndex 99 snapshot exists ? true
update server 0 's matchIndex from 106 to 107
getEntryTerm
leader server 1 commit index 107 command 2947864543768001765
server 0 term 16 state 0(leader false)(heartFlag true)
server 1 term 16 state 2(leader true)(heartFlag false)
nextIndex
108 || 108 || 107 || 
matchIndex
107 || 107 || 106 || 
getEntryTerm
getEntryTerm
server 2 term 16 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 107
getEntryTerm
current commitIndex 106 lastIncludedIndex 99 snapshot exists ? true
follower server 0 commit index 107 command 2947864543768001765 
update server 0 's matchIndex from 107 to 107
append command 8104763680450036166
len(log) = 108
append command 2043633651547408041
len(log) = 109
append command 5410054949830747843
len(log) = 110
append command 4507987593713598955
len(log) = 111
append command 3115226022823806402
len(log) = 112
append command 5500281595664931719
len(log) = 113
append command 7861586046493146165
len(log) = 114
append command 3813404135210044073
len(log) = 115
append command 6006537554380391202
len(log) = 116
append command 8415542722585849804
len(log) = 117
append command 1473585929083120878
len(log) = 118
getEntryTerm
getEntryTerm
server 0 term 16 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 107
current commitIndex 107 lastIncludedIndex 99 snapshot exists ? true
update server 0 's matchIndex from 107 to 118
getEntryTerm
leader server 1 commit index 108 command 8104763680450036166
leader server 1 commit index 109 command 2043633651547408041
leader server 1 commit index 110 command 5410054949830747843
server 1 takes snopshot and discards logs before index 109
getEntryTerm
discard index before 109(included)
server 1 finished snopshot
leader server 1 commit index 111 command 4507987593713598955
leader server 1 commit index 112 command 3115226022823806402
leader server 1 commit index 113 command 5500281595664931719
leader server 1 commit index 114 command 7861586046493146165
leader server 1 commit index 115 command 3813404135210044073
leader server 1 commit index 116 command 6006537554380391202
leader server 1 commit index 117 command 8415542722585849804
leader server 1 commit index 118 command 1473585929083120878
server 1 term 16 state 2(leader true)(heartFlag false)
nextIndex
119 || 119 || 107 || 
matchIndex
118 || 118 || 106 || 
server 2 term 16 state 0(leader false)(heartFlag false)
server 2 term 16 doesn't hear any heartbeat
server 2 convert to candidate
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 118
getEntryTerm
current commitIndex 107 lastIncludedIndex 99 snapshot exists ? true
follower server 0 commit index 108 command 8104763680450036166 
follower server 0 commit index 109 command 2043633651547408041 
follower server 0 commit index 110 command 5410054949830747843 
server 0 takes snopshot and discards logs before index 109
getEntryTerm
discard index before 109(included)
server 0 finished snopshot
follower server 0 commit index 111 command 4507987593713598955 
follower server 0 commit index 112 command 3115226022823806402 
follower server 0 commit index 113 command 5500281595664931719 
follower server 0 commit index 114 command 7861586046493146165 
follower server 0 commit index 115 command 3813404135210044073 
follower server 0 commit index 116 command 6006537554380391202 
follower server 0 commit index 117 command 8415542722585849804 
follower server 0 commit index 118 command 1473585929083120878 
update server 0 's matchIndex from 118 to 118
append command 8985650516810013370
len(log) = 119
getEntryTerm
server 2 receives snopshot from leader 1
server 1 convert to follower
server 0 term 16 state 0(leader false)(heartFlag true)
server 0 receives appendEntry from leader 1 prevLogIndex 118
current commitIndex 118 lastIncludedIndex 109 snapshot exists ? true
server 1 term 17 state 0(leader false)(heartFlag false)
server 1 term 17 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
getEntryTerm
server 0 convert to follower
getEntryTerm
server 2 grant true for candidate 1's requestVote
server 0 grant true for candidate 1's requestVote
server 1 convert to leader
server 1 term 18 send appendEntries
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 119
lastLogIndex 106, args.PrevLogIndex 119
server 0 receives appendEntry from leader 1 prevLogIndex 119
getEntryTerm
current commitIndex 118 lastIncludedIndex 109 snapshot exists ? true
getEntryTerm
server 2 receives snopshot from leader 1
server 2 commit snopshot to lastIncludedIndex 109
server 0 receives appendEntry from leader 1 prevLogIndex 119
getEntryTerm
current commitIndex 118 lastIncludedIndex 109 snapshot exists ? true
server 0 term 18 state 0(leader false)(heartFlag true)
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 119
getEntryTerm
current commitIndex 118 lastIncludedIndex 109 snapshot exists ? true
update server 0 's matchIndex from 0 to 119
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 109
current commitIndex 109 lastIncludedIndex 109 snapshot exists ? true
follower server 2 commit index 110 command 5410054949830747843 
follower server 2 commit index 111 command 4507987593713598955 
follower server 2 commit index 112 command 3115226022823806402 
follower server 2 commit index 113 command 5500281595664931719 
follower server 2 commit index 114 command 7861586046493146165 
follower server 2 commit index 115 command 3813404135210044073 
follower server 2 commit index 116 command 6006537554380391202 
follower server 2 commit index 117 command 8415542722585849804 
follower server 2 commit index 118 command 1473585929083120878 
update server 2 's matchIndex from 109 to 119
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 119
getEntryTerm
current commitIndex 118 lastIncludedIndex 109 snapshot exists ? true
update server 0 's matchIndex from 119 to 119
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 18 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 119
getEntryTerm
current commitIndex 118 lastIncludedIndex 109 snapshot exists ? true
update server 0 's matchIndex from 119 to 119
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 119
getEntryTerm
current commitIndex 118 lastIncludedIndex 109 snapshot exists ? true
update server 2 's matchIndex from 119 to 119
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 119
getEntryTerm
current commitIndex 118 lastIncludedIndex 109 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 119
getEntryTerm
current commitIndex 118 lastIncludedIndex 109 snapshot exists ? true
update server 2 's matchIndex from 119 to 119
update server 0 's matchIndex from 119 to 119
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 119
getEntryTerm
current commitIndex 118 lastIncludedIndex 109 snapshot exists ? true
update server 2 's matchIndex from 119 to 119
server 0 term 18 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 18 state 0(leader false)(heartFlag true)
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 119
getEntryTerm
current commitIndex 118 lastIncludedIndex 109 snapshot exists ? true
update server 0 's matchIndex from 119 to 119
server 2 receives appendEntry from leader 1 prevLogIndex 119
getEntryTerm
current commitIndex 118 lastIncludedIndex 109 snapshot exists ? true
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 18 state 2(leader true)(heartFlag false)
nextIndex
120 || 120 || 120 || 
matchIndex
119 || 119 || 119 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 119
getEntryTerm
current commitIndex 118 lastIncludedIndex 109 snapshot exists ? true
update server 0 's matchIndex from 119 to 119
server 2 receives appendEntry from leader 1 prevLogIndex 119
getEntryTerm
current commitIndex 118 lastIncludedIndex 109 snapshot exists ? true
update server 2 's matchIndex from 119 to 119
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 119
getEntryTerm
current commitIndex 118 lastIncludedIndex 109 snapshot exists ? true
update server 0 's matchIndex from 119 to 119
server 2 receives appendEntry from leader 1 prevLogIndex 119
getEntryTerm
current commitIndex 118 lastIncludedIndex 109 snapshot exists ? true
update server 2 's matchIndex from 119 to 119
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 18 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 18 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 119
getEntryTerm
current commitIndex 118 lastIncludedIndex 109 snapshot exists ? true
update server 2 's matchIndex from 119 to 119
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 119
getEntryTerm
current commitIndex 118 lastIncludedIndex 109 snapshot exists ? true
update server 0 's matchIndex from 119 to 119
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 119
getEntryTerm
current commitIndex 118 lastIncludedIndex 109 snapshot exists ? true
update server 2 's matchIndex from 119 to 119
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 119
getEntryTerm
current commitIndex 118 lastIncludedIndex 109 snapshot exists ? true
update server 0 's matchIndex from 119 to 119
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 18 state 2(leader true)(heartFlag false)
nextIndex
120 || 120 || 120 || 
matchIndex
119 || 119 || 119 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 119
getEntryTerm
current commitIndex 118 lastIncludedIndex 109 snapshot exists ? true
update server 2 's matchIndex from 119 to 119
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 18 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 119
getEntryTerm
current commitIndex 118 lastIncludedIndex 109 snapshot exists ? true
update server 0 's matchIndex from 119 to 119
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 119
getEntryTerm
current commitIndex 118 lastIncludedIndex 109 snapshot exists ? true
update server 2 's matchIndex from 119 to 119
getEntryTerm
server 2 term 18 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 119
getEntryTerm
current commitIndex 118 lastIncludedIndex 109 snapshot exists ? true
update server 0 's matchIndex from 119 to 119
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 119
getEntryTerm
current commitIndex 118 lastIncludedIndex 109 snapshot exists ? true
update server 2 's matchIndex from 119 to 119
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 119
getEntryTerm
current commitIndex 118 lastIncludedIndex 109 snapshot exists ? true
update server 2 's matchIndex from 119 to 119
server 0 receives appendEntry from leader 1 prevLogIndex 119
getEntryTerm
current commitIndex 118 lastIncludedIndex 109 snapshot exists ? true
getEntryTerm
update server 0 's matchIndex from 119 to 119
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 18 state 2(leader true)(heartFlag false)
nextIndex
120 || 120 || 120 || 
matchIndex
119 || 119 || 119 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 119
getEntryTerm
current commitIndex 118 lastIncludedIndex 109 snapshot exists ? true
update server 0 's matchIndex from 119 to 119
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 18 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 119
getEntryTerm
current commitIndex 118 lastIncludedIndex 109 snapshot exists ? true
update server 2 's matchIndex from 119 to 119
server 2 term 18 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
append command 8985650516810013370
len(log) = 120
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 119
getEntryTerm
current commitIndex 118 lastIncludedIndex 109 snapshot exists ? true
update server 0 's matchIndex from 119 to 120
getEntryTerm
leader server 1 commit index 119 command 8985650516810013370
leader server 1 commit index 120 command 8985650516810013370
server 1 takes snopshot and discards logs before index 119
getEntryTerm
discard index before 119(included)
server 1 finished snopshot
getEntryTerm
server 0 term 18 state 0(leader false)(heartFlag true)
server 0 receives appendEntry from leader 1 prevLogIndex 120
getEntryTerm
current commitIndex 118 lastIncludedIndex 109 snapshot exists ? true
follower server 0 commit index 119 command 8985650516810013370 
follower server 0 commit index 120 command 8985650516810013370 
server 0 takes snopshot and discards logs before index 119
getEntryTerm
discard index before 119(included)
server 0 finished snopshot
update server 0 's matchIndex from 120 to 120
server 2 receives appendEntry from leader 1 prevLogIndex 119
getEntryTerm
current commitIndex 118 lastIncludedIndex 109 snapshot exists ? true
follower server 2 commit index 119 command 8985650516810013370 
follower server 2 commit index 120 command 8985650516810013370 
server 2 takes snopshot and discards logs before index 119
getEntryTerm
discard index before 119(included)
server 2 finished snopshot
update server 2 's matchIndex from 119 to 120
server 1 term 18 state 2(leader true)(heartFlag false)
nextIndex
121 || 121 || 121 || 
matchIndex
120 || 120 || 120 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 120
current commitIndex 120 lastIncludedIndex 119 snapshot exists ? true
update server 2 's matchIndex from 120 to 120
server 0 receives appendEntry from leader 1 prevLogIndex 120
current commitIndex 120 lastIncludedIndex 119 snapshot exists ? true
update server 0 's matchIndex from 120 to 120
server 2 term 18 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 120
current commitIndex 120 lastIncludedIndex 119 snapshot exists ? true
update server 2 's matchIndex from 120 to 120
server 0 receives appendEntry from leader 1 prevLogIndex 120
current commitIndex 120 lastIncludedIndex 119 snapshot exists ? true
update server 0 's matchIndex from 120 to 120
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 120
current commitIndex 120 lastIncludedIndex 119 snapshot exists ? true
update server 2 's matchIndex from 120 to 120
server 0 receives appendEntry from leader 1 prevLogIndex 120
current commitIndex 120 lastIncludedIndex 119 snapshot exists ? true
update server 0 's matchIndex from 120 to 120
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 120
current commitIndex 120 lastIncludedIndex 119 snapshot exists ? true
update server 2 's matchIndex from 120 to 120
server 0 term 18 state 0(leader false)(heartFlag true)
server 0 receives appendEntry from leader 1 prevLogIndex 120
current commitIndex 120 lastIncludedIndex 119 snapshot exists ? true
update server 0 's matchIndex from 120 to 120
server 2 term 18 state 0(leader false)(heartFlag true)
server 1 term 18 state 2(leader true)(heartFlag false)
nextIndex
121 || 121 || 121 || 
matchIndex
120 || 120 || 120 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 18 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 18 state 2(leader true)(heartFlag false)
nextIndex
121 || 121 || 121 || 
matchIndex
120 || 120 || 120 || 
server 2 term 18 state 0(leader false)(heartFlag false)
server 2 term 18 doesn't hear any heartbeat
server 2 convert to candidate
getEntryTerm
getEntryTerm
server 0 convert to follower
getEntryTerm
server 0 grant true for candidate 2's requestVote
server 2 convert to leader
server 2 term 19 send appendEntries
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 120
current commitIndex 120 lastIncludedIndex 119 snapshot exists ? true
update server 0 's matchIndex from 0 to 120
append command 1063375473484346969
len(log) = 121
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 120
current commitIndex 120 lastIncludedIndex 119 snapshot exists ? true
server 0 term 19 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 120
current commitIndex 120 lastIncludedIndex 119 snapshot exists ? true
update server 0 's matchIndex from 120 to 121
getEntryTerm
leader server 2 commit index 121 command 1063375473484346969
server 1 term 18 state 2(leader true)(heartFlag false)
nextIndex
121 || 121 || 121 || 
matchIndex
120 || 120 || 120 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 121
getEntryTerm
current commitIndex 120 lastIncludedIndex 119 snapshot exists ? true
follower server 0 commit index 121 command 1063375473484346969 
update server 0 's matchIndex from 121 to 121
append command 280220527562432128
len(log) = 122
append command 8616133445219347968
len(log) = 123
append command 7357874603379266867
len(log) = 124
append command 4162636686793277701
len(log) = 125
append command 6129913646533623570
len(log) = 126
append command 6447365755690628982
len(log) = 127
append command 8611688907552029791
len(log) = 128
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 121
current commitIndex 121 lastIncludedIndex 119 snapshot exists ? true
update server 0 's matchIndex from 121 to 128
getEntryTerm
leader server 2 commit index 122 command 280220527562432128
leader server 2 commit index 123 command 8616133445219347968
leader server 2 commit index 124 command 7357874603379266867
leader server 2 commit index 125 command 4162636686793277701
leader server 2 commit index 126 command 6129913646533623570
leader server 2 commit index 127 command 6447365755690628982
leader server 2 commit index 128 command 8611688907552029791
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 128
getEntryTerm
current commitIndex 121 lastIncludedIndex 119 snapshot exists ? true
follower server 0 commit index 122 command 280220527562432128 
follower server 0 commit index 123 command 8616133445219347968 
follower server 0 commit index 124 command 7357874603379266867 
follower server 0 commit index 125 command 4162636686793277701 
follower server 0 commit index 126 command 6129913646533623570 
follower server 0 commit index 127 command 6447365755690628982 
follower server 0 commit index 128 command 8611688907552029791 
update server 0 's matchIndex from 128 to 128
server 2 term 19 state 2(leader true)(heartFlag false)
nextIndex
129 || 121 || 129 || 
matchIndex
128 || 0 || 128 || 
append command 1773262674268757899
len(log) = 121
server 0 term 19 state 0(leader false)(heartFlag true)
server 1 term 18 state 2(leader true)(heartFlag false)
nextIndex
121 || 122 || 121 || 
matchIndex
120 || 121 || 120 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 128
current commitIndex 128 lastIncludedIndex 119 snapshot exists ? true
update server 0 's matchIndex from 128 to 128
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 120
server 1 convert to follower
current commitIndex 120 lastIncludedIndex 119 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 120
follower server 1 commit index 121 command 1063375473484346969 
follower server 1 commit index 122 command 280220527562432128 
follower server 1 commit index 123 command 8616133445219347968 
follower server 1 commit index 124 command 7357874603379266867 
follower server 1 commit index 125 command 4162636686793277701 
follower server 1 commit index 126 command 6129913646533623570 
follower server 1 commit index 127 command 6447365755690628982 
follower server 1 commit index 128 command 8611688907552029791 
update server 1 's matchIndex from 0 to 128
server 0 receives appendEntry from leader 1 prevLogIndex 120
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 128
current commitIndex 128 lastIncludedIndex 119 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 128
current commitIndex 128 lastIncludedIndex 119 snapshot exists ? true
update server 1 's matchIndex from 128 to 128
update server 0 's matchIndex from 128 to 128
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 128
current commitIndex 128 lastIncludedIndex 119 snapshot exists ? true
update server 0 's matchIndex from 128 to 128
server 0 term 19 state 0(leader false)(heartFlag true)
server 1 term 19 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 128
current commitIndex 128 lastIncludedIndex 119 snapshot exists ? true
update server 1 's matchIndex from 128 to 128
server 0 receives appendEntry from leader 2 prevLogIndex 128
current commitIndex 128 lastIncludedIndex 119 snapshot exists ? true
update server 0 's matchIndex from 128 to 128
server 2 term 19 state 2(leader true)(heartFlag false)
nextIndex
129 || 129 || 129 || 
matchIndex
128 || 128 || 128 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 128
current commitIndex 128 lastIncludedIndex 119 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 128
current commitIndex 128 lastIncludedIndex 119 snapshot exists ? true
update server 0 's matchIndex from 128 to 128
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 128
current commitIndex 128 lastIncludedIndex 119 snapshot exists ? true
update server 1 's matchIndex from 128 to 128
server 0 receives appendEntry from leader 2 prevLogIndex 128
current commitIndex 128 lastIncludedIndex 119 snapshot exists ? true
update server 0 's matchIndex from 128 to 128
getEntryTerm
getEntryTerm
server 0 term 19 state 0(leader false)(heartFlag true)
server 1 receives appendEntry from leader 2 prevLogIndex 128
current commitIndex 128 lastIncludedIndex 119 snapshot exists ? true
update server 1 's matchIndex from 128 to 128
server 1 term 19 state 0(leader false)(heartFlag true)
server 2 term 19 state 2(leader true)(heartFlag false)
nextIndex
129 || 129 || 129 || 
matchIndex
128 || 128 || 128 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 128
current commitIndex 128 lastIncludedIndex 119 snapshot exists ? true
update server 0 's matchIndex from 128 to 128
server 1 receives appendEntry from leader 2 prevLogIndex 128
current commitIndex 128 lastIncludedIndex 119 snapshot exists ? true
update server 1 's matchIndex from 128 to 128
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 128
current commitIndex 128 lastIncludedIndex 119 snapshot exists ? true
update server 1 's matchIndex from 128 to 128
server 0 receives appendEntry from leader 2 prevLogIndex 128
current commitIndex 128 lastIncludedIndex 119 snapshot exists ? true
update server 0 's matchIndex from 128 to 128
getEntryTerm
getEntryTerm
server 0 term 19 state 0(leader false)(heartFlag true)
server 1 receives appendEntry from leader 2 prevLogIndex 128
current commitIndex 128 lastIncludedIndex 119 snapshot exists ? true
update server 1 's matchIndex from 128 to 128
server 0 receives appendEntry from leader 2 prevLogIndex 128
current commitIndex 128 lastIncludedIndex 119 snapshot exists ? true
update server 0 's matchIndex from 128 to 128
server 2 term 19 state 2(leader true)(heartFlag false)
nextIndex
129 || 129 || 129 || 
matchIndex
128 || 128 || 128 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 128
current commitIndex 128 lastIncludedIndex 119 snapshot exists ? true
update server 0 's matchIndex from 128 to 128
server 1 receives appendEntry from leader 2 prevLogIndex 128
current commitIndex 128 lastIncludedIndex 119 snapshot exists ? true
update server 1 's matchIndex from 128 to 128
server 1 term 19 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 128
current commitIndex 128 lastIncludedIndex 119 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 128
current commitIndex 128 lastIncludedIndex 119 snapshot exists ? true
update server 0 's matchIndex from 128 to 128
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 128
current commitIndex 128 lastIncludedIndex 119 snapshot exists ? true
update server 0 's matchIndex from 128 to 128
server 1 receives appendEntry from leader 2 prevLogIndex 128
current commitIndex 128 lastIncludedIndex 119 snapshot exists ? true
server 0 term 19 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 128
current commitIndex 128 lastIncludedIndex 119 snapshot exists ? true
update server 1 's matchIndex from 128 to 128
server 0 receives appendEntry from leader 2 prevLogIndex 128
current commitIndex 128 lastIncludedIndex 119 snapshot exists ? true
update server 0 's matchIndex from 128 to 128
server 1 term 19 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 128
current commitIndex 128 lastIncludedIndex 119 snapshot exists ? true
update server 0 's matchIndex from 128 to 128
server 2 term 19 state 2(leader true)(heartFlag false)
nextIndex
129 || 129 || 129 || 
matchIndex
128 || 128 || 128 || 
server 1 receives appendEntry from leader 2 prevLogIndex 128
current commitIndex 128 lastIncludedIndex 119 snapshot exists ? true
update server 1 's matchIndex from 128 to 128
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 128
current commitIndex 128 lastIncludedIndex 119 snapshot exists ? true
update server 1 's matchIndex from 128 to 128
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 128
current commitIndex 128 lastIncludedIndex 119 snapshot exists ? true
update server 0 's matchIndex from 128 to 128
server 1 receives appendEntry from leader 2 prevLogIndex 128
current commitIndex 128 lastIncludedIndex 119 snapshot exists ? true
update server 1 's matchIndex from 128 to 128
server 0 term 19 state 0(leader false)(heartFlag true)
server 2 term 19 state 2(leader true)(heartFlag false)
nextIndex
129 || 129 || 129 || 
matchIndex
128 || 128 || 128 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 128
current commitIndex 128 lastIncludedIndex 119 snapshot exists ? true
update server 1 's matchIndex from 128 to 128
server 0 receives appendEntry from leader 2 prevLogIndex 128
current commitIndex 128 lastIncludedIndex 119 snapshot exists ? true
server 1 term 19 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 128
current commitIndex 128 lastIncludedIndex 119 snapshot exists ? true
update server 1 's matchIndex from 128 to 128
getEntryTerm
getEntryTerm
append command 1773262674268757899
len(log) = 129
server 0 receives appendEntry from leader 2 prevLogIndex 128
current commitIndex 128 lastIncludedIndex 119 snapshot exists ? true
update server 0 's matchIndex from 128 to 128
server 1 receives appendEntry from leader 2 prevLogIndex 128
current commitIndex 128 lastIncludedIndex 119 snapshot exists ? true
update server 1 's matchIndex from 128 to 128
server 0 term 19 state 0(leader false)(heartFlag true)
server 2 term 19 state 2(leader true)(heartFlag false)
nextIndex
129 || 129 || 130 || 
matchIndex
128 || 128 || 129 || 
server 1 term 19 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 128
current commitIndex 128 lastIncludedIndex 119 snapshot exists ? true
update server 1 's matchIndex from 128 to 129
getEntryTerm
leader server 2 commit index 129 command 1773262674268757899
server 0 receives appendEntry from leader 2 prevLogIndex 128
current commitIndex 128 lastIncludedIndex 119 snapshot exists ? true
server 2 takes snopshot and discards logs before index 129
getEntryTerm
discard index before 129(included)
server 2 finished snopshot
update server 0 's matchIndex from 128 to 129
server 0 receives appendEntry from leader 2 prevLogIndex 129
getEntryTerm
current commitIndex 128 lastIncludedIndex 119 snapshot exists ? true
follower server 0 commit index 129 command 1773262674268757899 
update server 0 's matchIndex from 129 to 129
server 0 takes snopshot and discards logs before index 129
getEntryTerm
discard index before 129(included)
server 0 finished snopshot
server 1 receives appendEntry from leader 2 prevLogIndex 129
getEntryTerm
current commitIndex 128 lastIncludedIndex 119 snapshot exists ? true
follower server 1 commit index 129 command 1773262674268757899 
update server 1 's matchIndex from 129 to 129
server 1 takes snopshot and discards logs before index 129
getEntryTerm
discard index before 129(included)
server 1 finished snopshot
server 1 receives appendEntry from leader 2 prevLogIndex 129
current commitIndex 129 lastIncludedIndex 129 snapshot exists ? true
update server 1 's matchIndex from 129 to 129
server 0 receives appendEntry from leader 2 prevLogIndex 129
current commitIndex 129 lastIncludedIndex 129 snapshot exists ? true
update server 0 's matchIndex from 129 to 129
server 1 receives appendEntry from leader 2 prevLogIndex 129
current commitIndex 129 lastIncludedIndex 129 snapshot exists ? true
server 2 term 19 state 2(leader true)(heartFlag false)
nextIndex
130 || 130 || 130 || 
matchIndex
129 || 129 || 129 || 
update server 1 's matchIndex from 129 to 129
server 1 term 19 state 0(leader false)(heartFlag true)
server 0 term 19 state 0(leader false)(heartFlag true)
server 0 receives appendEntry from leader 2 prevLogIndex 129
current commitIndex 129 lastIncludedIndex 129 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 129
current commitIndex 129 lastIncludedIndex 129 snapshot exists ? true
update server 0 's matchIndex from 129 to 129
server 1 receives appendEntry from leader 2 prevLogIndex 129
current commitIndex 129 lastIncludedIndex 129 snapshot exists ? true
update server 1 's matchIndex from 129 to 129
server 0 receives appendEntry from leader 2 prevLogIndex 129
current commitIndex 129 lastIncludedIndex 129 snapshot exists ? true
update server 0 's matchIndex from 129 to 129
server 2 term 19 state 2(leader true)(heartFlag false)
nextIndex
130 || 130 || 130 || 
matchIndex
129 || 129 || 129 || 
server 1 term 19 state 0(leader false)(heartFlag true)
append command 5412898596766243344
len(log) = 130
server 0 term 19 state 0(leader false)(heartFlag true)
server 1 receives appendEntry from leader 2 prevLogIndex 129
current commitIndex 129 lastIncludedIndex 129 snapshot exists ? true
update server 1 's matchIndex from 129 to 130
getEntryTerm
leader server 2 commit index 130 command 5412898596766243344
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 130
getEntryTerm
current commitIndex 129 lastIncludedIndex 129 snapshot exists ? true
follower server 1 commit index 130 command 5412898596766243344 
append command 5580745427844856567
len(log) = 131
append command 5193372776859447183
len(log) = 132
append command 7038124913849288299
len(log) = 133
append command 6294522293238992171
len(log) = 134
append command 8877389067023837300
len(log) = 135
append command 6362001502332235162
len(log) = 136
append command 8267129620243649880
len(log) = 137
append command 1690463211276108307
len(log) = 138
append command 2089257917224859286
len(log) = 139
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 130
current commitIndex 130 lastIncludedIndex 129 snapshot exists ? true
update server 1 's matchIndex from 130 to 139
getEntryTerm
leader server 2 commit index 131 command 5580745427844856567
leader server 2 commit index 132 command 5193372776859447183
leader server 2 commit index 133 command 7038124913849288299
leader server 2 commit index 134 command 6294522293238992171
leader server 2 commit index 135 command 8877389067023837300
leader server 2 commit index 136 command 6362001502332235162
leader server 2 commit index 137 command 8267129620243649880
leader server 2 commit index 138 command 1690463211276108307
leader server 2 commit index 139 command 2089257917224859286
server 2 takes snopshot and discards logs before index 139
getEntryTerm
discard index before 139(included)
server 2 finished snopshot
server 0 term 19 state 0(leader false)(heartFlag false)
server 0 term 19 doesn't hear any heartbeat
server 0 convert to candidate
server 1 term 19 state 0(leader false)(heartFlag true)
server 1 receives appendEntry from leader 2 prevLogIndex 139
getEntryTerm
current commitIndex 130 lastIncludedIndex 129 snapshot exists ? true
follower server 1 commit index 131 command 5580745427844856567 
follower server 1 commit index 132 command 5193372776859447183 
follower server 1 commit index 133 command 7038124913849288299 
follower server 1 commit index 134 command 6294522293238992171 
follower server 1 commit index 135 command 8877389067023837300 
follower server 1 commit index 136 command 6362001502332235162 
follower server 1 commit index 137 command 8267129620243649880 
follower server 1 commit index 138 command 1690463211276108307 
follower server 1 commit index 139 command 2089257917224859286 
update server 1 's matchIndex from 139 to 139
server 1 takes snopshot and discards logs before index 139
getEntryTerm
discard index before 139(included)
server 1 finished snopshot
append command 876182539556033002
len(log) = 140
server 2 term 19 state 2(leader true)(heartFlag false)
nextIndex
130 || 140 || 141 || 
matchIndex
129 || 139 || 140 || 
server 1 receives appendEntry from leader 2 prevLogIndex 139
current commitIndex 139 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 139 to 140
server 0 receives snopshot from leader 2
server 2 convert to follower
server 1 term 19 state 0(leader false)(heartFlag true)
server 0 term 20 ElectionTimeOut
server 0 convert to candidate
server 2 convert to follower
getEntryTerm
server 2 thinks candidate 0 is not up-to-date
server 2 grant false for candidate 0's requestVote
server 1 convert to follower
getEntryTerm
server 1 thinks candidate 0 is not up-to-date
server 1 grant false for candidate 0's requestVote
server 2 term 21 state 0(leader false)(heartFlag false)
server 2 term 21 doesn't hear any heartbeat
server 2 convert to candidate
getEntryTerm
getEntryTerm
server 0 convert to follower
server 0 grant true for candidate 2's requestVote
server 2 convert to leader
server 2 term 22 send appendEntries
getEntryTerm
getEntryTerm
server 1 convert to follower
getEntryTerm
server 1 grant true for candidate 2's requestVote
server 0 receives appendEntry from leader 2 prevLogIndex 140
lastLogIndex 129, args.PrevLogIndex 140
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 140
getEntryTerm
current commitIndex 139 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 0 to 140
getEntryTerm
server 0 receives snopshot from leader 2
server 0 commit snopshot to lastIncludedIndex 139
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives snopshot from leader 2
server 0 commit snopshot to lastIncludedIndex 139
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 140
getEntryTerm
current commitIndex 139 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 140 to 140
getEntryTerm
getEntryTerm
server 1 term 22 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 139
current commitIndex 139 lastIncludedIndex 139 snapshot exists ? true
update server 0 's matchIndex from 139 to 140
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 140
getEntryTerm
current commitIndex 139 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 140 to 140
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 140
getEntryTerm
current commitIndex 139 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 140 to 140
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 140
getEntryTerm
current commitIndex 139 lastIncludedIndex 139 snapshot exists ? true
update server 0 's matchIndex from 140 to 140
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 140
getEntryTerm
current commitIndex 139 lastIncludedIndex 139 snapshot exists ? true
update server 0 's matchIndex from 140 to 140
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 140
getEntryTerm
current commitIndex 139 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 140 to 140
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 22 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 140
getEntryTerm
current commitIndex 139 lastIncludedIndex 139 snapshot exists ? true
update server 0 's matchIndex from 140 to 140
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 140
getEntryTerm
current commitIndex 139 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 140 to 140
getEntryTerm
getEntryTerm
server 0 term 22 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 140
getEntryTerm
current commitIndex 139 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 140 to 140
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 140
getEntryTerm
current commitIndex 139 lastIncludedIndex 139 snapshot exists ? true
update server 0 's matchIndex from 140 to 140
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 140
getEntryTerm
current commitIndex 139 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 140 to 140
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 140
getEntryTerm
current commitIndex 139 lastIncludedIndex 139 snapshot exists ? true
update server 0 's matchIndex from 140 to 140
getEntryTerm
getEntryTerm
server 2 term 22 state 2(leader true)(heartFlag false)
nextIndex
141 || 141 || 141 || 
matchIndex
140 || 140 || 140 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 140
getEntryTerm
current commitIndex 139 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 140 to 140
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 140
getEntryTerm
current commitIndex 139 lastIncludedIndex 139 snapshot exists ? true
update server 0 's matchIndex from 140 to 140
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 22 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 term 22 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 140
getEntryTerm
current commitIndex 139 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 140 to 140
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 140
getEntryTerm
current commitIndex 139 lastIncludedIndex 139 snapshot exists ? true
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 140
getEntryTerm
current commitIndex 139 lastIncludedIndex 139 snapshot exists ? true
update server 0 's matchIndex from 140 to 140
server 1 receives appendEntry from leader 2 prevLogIndex 140
getEntryTerm
current commitIndex 139 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 140 to 140
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 22 state 2(leader true)(heartFlag false)
nextIndex
141 || 141 || 141 || 
matchIndex
140 || 140 || 140 || 
server 0 receives appendEntry from leader 2 prevLogIndex 140
getEntryTerm
current commitIndex 139 lastIncludedIndex 139 snapshot exists ? true
update server 0 's matchIndex from 140 to 140
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 140
getEntryTerm
current commitIndex 139 lastIncludedIndex 139 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 140
getEntryTerm
current commitIndex 139 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 140 to 140
getEntryTerm
getEntryTerm
server 1 term 22 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 term 22 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 140
getEntryTerm
current commitIndex 139 lastIncludedIndex 139 snapshot exists ? true
update server 0 's matchIndex from 140 to 140
server 1 receives appendEntry from leader 2 prevLogIndex 140
getEntryTerm
current commitIndex 139 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 140 to 140
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 22 state 2(leader true)(heartFlag false)
nextIndex
141 || 141 || 141 || 
matchIndex
140 || 140 || 140 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 140
getEntryTerm
current commitIndex 139 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 140 to 140
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 140
getEntryTerm
current commitIndex 139 lastIncludedIndex 139 snapshot exists ? true
update server 0 's matchIndex from 140 to 140
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
append command 876182539556033002
len(log) = 141
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 140
getEntryTerm
current commitIndex 139 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 140 to 141
getEntryTerm
leader server 2 commit index 140 command 876182539556033002
leader server 2 commit index 141 command 876182539556033002
server 0 receives appendEntry from leader 2 prevLogIndex 140
getEntryTerm
current commitIndex 139 lastIncludedIndex 139 snapshot exists ? true
update server 0 's matchIndex from 140 to 141
server 1 term 22 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 141
getEntryTerm
current commitIndex 139 lastIncludedIndex 139 snapshot exists ? true
follower server 0 commit index 140 command 876182539556033002 
follower server 0 commit index 141 command 876182539556033002 
update server 0 's matchIndex from 141 to 141
server 0 term 22 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 term 22 state 2(leader true)(heartFlag false)
nextIndex
142 || 142 || 142 || 
matchIndex
141 || 141 || 141 || 
server 0 receives appendEntry from leader 2 prevLogIndex 141
current commitIndex 141 lastIncludedIndex 139 snapshot exists ? true
update server 0 's matchIndex from 141 to 141
server 1 receives appendEntry from leader 2 prevLogIndex 141
getEntryTerm
current commitIndex 139 lastIncludedIndex 139 snapshot exists ? true
follower server 1 commit index 140 command 876182539556033002 
follower server 1 commit index 141 command 876182539556033002 
update server 1 's matchIndex from 141 to 141
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 141
current commitIndex 141 lastIncludedIndex 139 snapshot exists ? true
update server 0 's matchIndex from 141 to 141
server 1 receives appendEntry from leader 2 prevLogIndex 141
current commitIndex 141 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 141 to 141
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 141
current commitIndex 141 lastIncludedIndex 139 snapshot exists ? true
server 1 term 22 state 0(leader false)(heartFlag true)
update server 1 's matchIndex from 141 to 141
server 0 receives appendEntry from leader 2 prevLogIndex 141
current commitIndex 141 lastIncludedIndex 139 snapshot exists ? true
update server 0 's matchIndex from 141 to 141
server 0 term 22 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 141
current commitIndex 141 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 141 to 141
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 141
current commitIndex 141 lastIncludedIndex 139 snapshot exists ? true
update server 0 's matchIndex from 141 to 141
server 2 term 22 state 2(leader true)(heartFlag false)
nextIndex
142 || 142 || 142 || 
matchIndex
141 || 141 || 141 || 
server 1 receives appendEntry from leader 2 prevLogIndex 141
current commitIndex 141 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 141 to 141
server 1 term 22 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 141
current commitIndex 141 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 141 to 141
server 0 receives appendEntry from leader 2 prevLogIndex 141
current commitIndex 141 lastIncludedIndex 139 snapshot exists ? true
update server 0 's matchIndex from 141 to 141
append command 5267265484423507844
len(log) = 142
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 141
current commitIndex 141 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 141 to 142
getEntryTerm
leader server 2 commit index 142 command 5267265484423507844
server 0 term 22 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 142
getEntryTerm
current commitIndex 141 lastIncludedIndex 139 snapshot exists ? true
follower server 1 commit index 142 command 5267265484423507844 
append command 3051469013931915908
len(log) = 143
append command 4901231997218355399
len(log) = 144
append command 5882374583844788409
len(log) = 145
append command 4472537822802311000
len(log) = 146
append command 4183507221047794237
len(log) = 147
append command 8550906404030405500
len(log) = 148
append command 4173177953310753277
len(log) = 149
append command 1254139884063941871
len(log) = 150
append command 2189273407878472202
len(log) = 151
append command 6978945952230813714
len(log) = 152
append command 318472578189343125
len(log) = 153
append command 4195858617363969516
len(log) = 154
append command 1633611350438965472
len(log) = 155
server 1 term 22 state 0(leader false)(heartFlag true)
server 2 term 22 state 2(leader true)(heartFlag false)
nextIndex
142 || 143 || 156 || 
getEntryTerm
matchIndex
getEntryTerm
141 || 142 || 155 || 
server 1 receives appendEntry from leader 2 prevLogIndex 142
current commitIndex 142 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 142 to 155
getEntryTerm
leader server 2 commit index 143 command 3051469013931915908
leader server 2 commit index 144 command 4901231997218355399
leader server 2 commit index 145 command 5882374583844788409
leader server 2 commit index 146 command 4472537822802311000
leader server 2 commit index 147 command 4183507221047794237
leader server 2 commit index 148 command 8550906404030405500
leader server 2 commit index 149 command 4173177953310753277
leader server 2 commit index 150 command 1254139884063941871
server 2 takes snopshot and discards logs before index 149
getEntryTerm
discard index before 149(included)
server 2 finished snopshot
leader server 2 commit index 151 command 2189273407878472202
leader server 2 commit index 152 command 6978945952230813714
leader server 2 commit index 153 command 318472578189343125
leader server 2 commit index 154 command 4195858617363969516
leader server 2 commit index 155 command 1633611350438965472
getEntryTerm
getEntryTerm
server 0 term 22 state 0(leader false)(heartFlag false)
server 0 term 22 doesn't hear any heartbeat
server 0 convert to candidate
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 155
getEntryTerm
current commitIndex 142 lastIncludedIndex 139 snapshot exists ? true
follower server 1 commit index 143 command 3051469013931915908 
follower server 1 commit index 144 command 4901231997218355399 
follower server 1 commit index 145 command 5882374583844788409 
follower server 1 commit index 146 command 4472537822802311000 
follower server 1 commit index 147 command 4183507221047794237 
follower server 1 commit index 148 command 8550906404030405500 
follower server 1 commit index 149 command 4173177953310753277 
follower server 1 commit index 150 command 1254139884063941871 
server 1 takes snopshot and discards logs before index 149
getEntryTerm
discard index before 149(included)
server 1 finished snopshot
follower server 1 commit index 151 command 2189273407878472202 
follower server 1 commit index 152 command 6978945952230813714 
follower server 1 commit index 153 command 318472578189343125 
follower server 1 commit index 154 command 4195858617363969516 
follower server 1 commit index 155 command 1633611350438965472 
update server 1 's matchIndex from 155 to 155
append command 3826398977901861932
len(log) = 156
server 1 term 22 state 0(leader false)(heartFlag true)
getEntryTerm
server 0 receives snopshot from leader 2
server 2 convert to follower
server 2 term 23 state 0(leader false)(heartFlag false)
server 2 term 23 doesn't hear any heartbeat
server 2 convert to candidate
getEntryTerm
getEntryTerm
server 1 convert to follower
getEntryTerm
server 1 grant true for candidate 2's requestVote
server 2 convert to leader
server 2 term 24 send appendEntries
getEntryTerm
getEntryTerm
server 0 convert to follower
getEntryTerm
server 0 grant true for candidate 2's requestVote
server 1 receives appendEntry from leader 2 prevLogIndex 156
lastLogIndex 155, args.PrevLogIndex 156
server 0 receives appendEntry from leader 2 prevLogIndex 156
lastLogIndex 141, args.PrevLogIndex 156
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 155
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 1 's matchIndex from 0 to 156
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives snopshot from leader 2
server 0 commit snopshot to lastIncludedIndex 149
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 1 's matchIndex from 156 to 156
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 1 's matchIndex from 156 to 156
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 149
current commitIndex 149 lastIncludedIndex 149 snapshot exists ? true
follower server 0 commit index 150 command 1254139884063941871 
follower server 0 commit index 151 command 2189273407878472202 
follower server 0 commit index 152 command 6978945952230813714 
follower server 0 commit index 153 command 318472578189343125 
follower server 0 commit index 154 command 4195858617363969516 
follower server 0 commit index 155 command 1633611350438965472 
update server 0 's matchIndex from 149 to 156
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 156 to 156
server 1 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 1 's matchIndex from 156 to 156
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 1 's matchIndex from 156 to 156
server 0 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 156 to 156
getEntryTerm
server 1 term 24 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 1 's matchIndex from 156 to 156
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 156 to 156
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 1 's matchIndex from 156 to 156
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 156 to 156
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 24 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 156 to 156
server 1 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 1 's matchIndex from 156 to 156
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 1 's matchIndex from 156 to 156
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 156 to 156
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 1 's matchIndex from 156 to 156
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 1 's matchIndex from 156 to 156
update server 0 's matchIndex from 156 to 156
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 156 to 156
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 1 's matchIndex from 156 to 156
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 24 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 1 's matchIndex from 156 to 156
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 156 to 156
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 156 to 156
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 1 's matchIndex from 156 to 156
server 0 term 24 state 0(leader false)(heartFlag true)
getEntryTerm
server 2 term 24 state 2(leader true)(heartFlag false)
nextIndex
157 || 157 || getEntryTerm
157 || 
matchIndex
156 || 156 || 156 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 156 to 156
server 1 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 1 's matchIndex from 156 to 156
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 156 to 156
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 1 's matchIndex from 156 to 156
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 156 to 156
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 1 's matchIndex from 156 to 156
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 1 's matchIndex from 156 to 156
getEntryTerm
server 1 term 24 state 0(leader false)(heartFlag true)
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 156 to 156
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 156 to 156
server 1 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 1 's matchIndex from 156 to 156
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 156 to 156
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 1 's matchIndex from 156 to 156
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 156 to 156
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 1 's matchIndex from 156 to 156
getEntryTerm
server 0 term 24 state 0(leader false)(heartFlag true)
server 0 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 156 to 156
getEntryTerm
getEntryTerm
server 2 term 24 state 2(leader true)(heartFlag false)
nextIndex
157 || 157 || 157 || 
matchIndex
156 || 156 || 156 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 156 to 156
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 1 's matchIndex from 156 to 156
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 156 to 156
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 1 's matchIndex from 156 to 156
server 1 term 24 state 0(leader false)(heartFlag true)
server 0 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 156 to 156
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
getEntryTerm
update server 1 's matchIndex from 156 to 156
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 24 state 0(leader false)(heartFlag true)
server 0 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 156 to 156
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 156 to 156
server 1 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 1 's matchIndex from 156 to 156
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 1 's matchIndex from 156 to 156
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 156 to 156
server 0 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 156 to 156
getEntryTerm
server 2 term 24 state 2(leader true)(heartFlag false)
nextIndex
157 || 157 || 157 || 
matchIndex
156 || 156 || 156 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 1 's matchIndex from 156 to 156
server 1 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 1 's matchIndex from 156 to 156
server 1 term 24 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 156 to 156
server 1 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 156 to 156
server 1 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 1 's matchIndex from 156 to 156
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 1 's matchIndex from 156 to 156
server 0 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 156 to 156
server 0 term 24 state 0(leader false)(heartFlag true)
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 1 's matchIndex from 156 to 156
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 156 to 156
getEntryTerm
getEntryTerm
append command 3826398977901861932
len(log) = 157
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 1 's matchIndex from 156 to 157
getEntryTerm
leader server 2 commit index 156 command 3826398977901861932
leader server 2 commit index 157 command 3826398977901861932
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 157
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
follower server 1 commit index 156 command 3826398977901861932 
follower server 1 commit index 157 command 3826398977901861932 
update server 1 's matchIndex from 157 to 157
server 2 term 24 state 2(leader true)(heartFlag false)
nextIndex
157 || 158 || 158 || 
matchIndex
156 || 157 || 157 || 
server 1 term 24 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 157
current commitIndex 157 lastIncludedIndex 149 snapshot exists ? true
update server 1 's matchIndex from 157 to 157
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
follower server 0 commit index 156 command 3826398977901861932 
follower server 0 commit index 157 command 3826398977901861932 
update server 0 's matchIndex from 156 to 157
server 0 receives appendEntry from leader 2 prevLogIndex 156
current commitIndex 157 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 157 to 157
server 1 receives appendEntry from leader 2 prevLogIndex 157
current commitIndex 157 lastIncludedIndex 149 snapshot exists ? true
update server 1 's matchIndex from 157 to 157
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 157
current commitIndex 157 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 157 to 157
server 1 receives appendEntry from leader 2 prevLogIndex 157
current commitIndex 157 lastIncludedIndex 149 snapshot exists ? true
update server 1 's matchIndex from 157 to 157
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 157
current commitIndex 157 lastIncludedIndex 149 snapshot exists ? true
update server 1 's matchIndex from 157 to 157
server 0 receives appendEntry from leader 2 prevLogIndex 157
current commitIndex 157 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 157 to 157
getEntryTerm
getEntryTerm
server 0 term 24 state 0(leader false)(heartFlag true)
server 0 receives appendEntry from leader 2 prevLogIndex 157
current commitIndex 157 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 157 to 157
server 2 term 24 state 2(leader true)(heartFlag false)
nextIndex
158 || 158 || 158 || 
matchIndex
157 || 157 || 157 || 
server 1 receives appendEntry from leader 2 prevLogIndex 157
current commitIndex 157 lastIncludedIndex 149 snapshot exists ? true
update server 1 's matchIndex from 157 to 157
server 1 term 24 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 157
current commitIndex 157 lastIncludedIndex 149 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 157
current commitIndex 157 lastIncludedIndex 149 snapshot exists ? true
update server 1 's matchIndex from 157 to 157
server 0 receives appendEntry from leader 2 prevLogIndex 157
current commitIndex 157 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 157 to 157
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 157
current commitIndex 157 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 157 to 157
server 1 receives appendEntry from leader 2 prevLogIndex 157
current commitIndex 157 lastIncludedIndex 149 snapshot exists ? true
update server 1 's matchIndex from 157 to 157
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 157
current commitIndex 157 lastIncludedIndex 149 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 157
current commitIndex 157 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 157 to 157
server 0 term 24 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 157
current commitIndex 157 lastIncludedIndex 149 snapshot exists ? true
server 2 term 24 state 2(leader true)(heartFlag false)
nextIndex
158 || 158 || 158 || 
matchIndex
157 || 157 || 157 || 
server 1 receives appendEntry from leader 2 prevLogIndex 157
current commitIndex 157 lastIncludedIndex 149 snapshot exists ? true
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 24 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 24 state 0(leader false)(heartFlag true)
server 2 term 24 state 2(leader true)(heartFlag false)
nextIndex
158 || 158 || 158 || 
matchIndex
157 || 157 || 157 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 24 state 0(leader false)(heartFlag false)
server 1 term 24 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 0 convert to follower
getEntryTerm
server 0 grant true for candidate 1's requestVote
server 1 convert to leader
server 1 term 25 send appendEntries
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 157
current commitIndex 157 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 0 to 157
getEntryTerm
getEntryTerm
append command 6814235950777186795
len(log) = 158
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 157
current commitIndex 157 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 157 to 158
getEntryTerm
leader server 1 commit index 158 command 6814235950777186795
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 158
getEntryTerm
current commitIndex 157 lastIncludedIndex 149 snapshot exists ? true
follower server 0 commit index 158 command 6814235950777186795 
update server 0 's matchIndex from 158 to 158
append command 2380429935406201666
len(log) = 159
server 0 term 25 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 term 24 state 2(leader true)(heartFlag false)
nextIndex
158 || 158 || 158 || 
matchIndex
157 || 157 || 157 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 158
current commitIndex 158 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 158 to 159
getEntryTerm
leader server 1 commit index 159 command 2380429935406201666
server 1 takes snopshot and discards logs before index 159
getEntryTerm
discard index before 159(included)
server 1 finished snopshot
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 159
getEntryTerm
current commitIndex 158 lastIncludedIndex 149 snapshot exists ? true
follower server 0 commit index 159 command 2380429935406201666 
update server 0 's matchIndex from 159 to 159
server 0 takes snopshot and discards logs before index 159
getEntryTerm
discard index before 159(included)
server 0 finished snopshot
append command 7756092299754468495
len(log) = 160
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 157
server 2 convert to follower
server 1 receives appendEntry from leader 2 prevLogIndex 157
server 2 receives snopshot from leader 1
server 2 commit snopshot to lastIncludedIndex 159
server 0 receives appendEntry from leader 1 prevLogIndex 159
current commitIndex 159 lastIncludedIndex 159 snapshot exists ? true
update server 0 's matchIndex from 159 to 160
getEntryTerm
leader server 1 commit index 160 command 7756092299754468495
server 2 term 25 state 0(leader false)(heartFlag false)
server 2 term 25 doesn't hear any heartbeat
server 2 convert to candidate
server 0 convert to follower
getEntryTerm
server 0 thinks candidate 2 is not up-to-date
server 0 grant false for candidate 2's requestVote
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 159
server 1 convert to follower
server 0 receives appendEntry from leader 1 prevLogIndex 160
server 0 term 26 state 0(leader false)(heartFlag true)
server 1 term 26 state 0(leader false)(heartFlag false)
server 1 term 26 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 0 convert to follower
getEntryTerm
server 0 grant true for candidate 1's requestVote
server 1 convert to leader
server 1 term 27 send appendEntries
getEntryTerm
getEntryTerm
server 2 convert to follower
server 2 grant true for candidate 1's requestVote
server 0 receives appendEntry from leader 1 prevLogIndex 160
getEntryTerm
current commitIndex 159 lastIncludedIndex 159 snapshot exists ? true
follower server 0 commit index 160 command 7756092299754468495 
update server 0 's matchIndex from 0 to 160
server 2 receives appendEntry from leader 1 prevLogIndex 160
lastLogIndex 159, args.PrevLogIndex 160
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 160
current commitIndex 160 lastIncludedIndex 159 snapshot exists ? true
update server 0 's matchIndex from 160 to 160
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 159
current commitIndex 159 lastIncludedIndex 159 snapshot exists ? true
follower server 2 commit index 160 command 7756092299754468495 
update server 2 's matchIndex from 0 to 160
server 0 receives appendEntry from leader 1 prevLogIndex 160
current commitIndex 160 lastIncludedIndex 159 snapshot exists ? true
update server 0 's matchIndex from 160 to 160
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 160
current commitIndex 160 lastIncludedIndex 159 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 160
current commitIndex 160 lastIncludedIndex 159 snapshot exists ? true
update server 2 's matchIndex from 160 to 160
update server 0 's matchIndex from 160 to 160
server 0 term 27 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 160
current commitIndex 160 lastIncludedIndex 159 snapshot exists ? true
update server 0 's matchIndex from 160 to 160
server 2 receives appendEntry from leader 1 prevLogIndex 160
current commitIndex 160 lastIncludedIndex 159 snapshot exists ? true
update server 2 's matchIndex from 160 to 160
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 160
current commitIndex 160 lastIncludedIndex 159 snapshot exists ? true
update server 2 's matchIndex from 160 to 160
server 0 receives appendEntry from leader 1 prevLogIndex 160
current commitIndex 160 lastIncludedIndex 159 snapshot exists ? true
update server 0 's matchIndex from 160 to 160
server 2 term 27 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 160
current commitIndex 160 lastIncludedIndex 159 snapshot exists ? true
update server 2 's matchIndex from 160 to 160
server 1 term 27 state 2(leader true)(heartFlag false)
nextIndex
161 || 161 || 161 || 
matchIndex
160 || 160 || 160 || 
getEntryTerm
getEntryTerm
server 0 term 27 state 0(leader false)(heartFlag true)
server 0 receives appendEntry from leader 1 prevLogIndex 160
current commitIndex 160 lastIncludedIndex 159 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 160
current commitIndex 160 lastIncludedIndex 159 snapshot exists ? true
update server 2 's matchIndex from 160 to 160
append command 2072755132419373287
len(log) = 161
getEntryTerm
getEntryTerm
server 2 term 27 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 160
current commitIndex 160 lastIncludedIndex 159 snapshot exists ? true
update server 0 's matchIndex from 160 to 161
getEntryTerm
leader server 1 commit index 161 command 2072755132419373287
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 161
getEntryTerm
current commitIndex 160 lastIncludedIndex 159 snapshot exists ? true
follower server 0 commit index 161 command 2072755132419373287 
update server 0 's matchIndex from 161 to 161
append command 6166517050314752201
len(log) = 162
append command 744990250341165414
len(log) = 163
append command 1705928746868853028
len(log) = 164
append command 2997949535749712199
len(log) = 165
append command 6159707134629905289
len(log) = 166
append command 4383964270676106675
len(log) = 167
append command 5646130918777143319
len(log) = 168
append command 284560407210082021
len(log) = 169
append command 207533238573685574
len(log) = 170
append command 6184091506214277094
len(log) = 171
append command 3569247585014578377
len(log) = 172
getEntryTerm
getEntryTerm
server 0 term 27 state 0(leader false)(heartFlag true)
server 1 term 27 state 2(leader true)(heartFlag false)
nextIndex
162 || 173 || 161 || 
matchIndex
161 || 172 || 160 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 161
current commitIndex 161 lastIncludedIndex 159 snapshot exists ? true
update server 0 's matchIndex from 161 to 172
getEntryTerm
leader server 1 commit index 162 command 6166517050314752201
leader server 1 commit index 163 command 744990250341165414
leader server 1 commit index 164 command 1705928746868853028
leader server 1 commit index 165 command 2997949535749712199
leader server 1 commit index 166 command 6159707134629905289
leader server 1 commit index 167 command 4383964270676106675
leader server 1 commit index 168 command 5646130918777143319
leader server 1 commit index 169 command 284560407210082021
leader server 1 commit index 170 command 207533238573685574
server 1 takes snopshot and discards logs before index 169
getEntryTerm
discard index before 169(included)
server 1 finished snopshot
leader server 1 commit index 171 command 6184091506214277094
leader server 1 commit index 172 command 3569247585014578377
server 2 term 27 state 0(leader false)(heartFlag false)
server 2 term 27 doesn't hear any heartbeat
server 2 convert to candidate
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 172
getEntryTerm
current commitIndex 161 lastIncludedIndex 159 snapshot exists ? true
follower server 0 commit index 162 command 6166517050314752201 
follower server 0 commit index 163 command 744990250341165414 
follower server 0 commit index 164 command 1705928746868853028 
follower server 0 commit index 165 command 2997949535749712199 
follower server 0 commit index 166 command 6159707134629905289 
follower server 0 commit index 167 command 4383964270676106675 
follower server 0 commit index 168 command 5646130918777143319 
follower server 0 commit index 169 command 284560407210082021 
follower server 0 commit index 170 command 207533238573685574 
server 0 takes snopshot and discards logs before index 169
getEntryTerm
discard index before 169(included)
server 0 finished snopshot
follower server 0 commit index 171 command 6184091506214277094 
follower server 0 commit index 172 command 3569247585014578377 
update server 0 's matchIndex from 172 to 172
append command 3567389720522520426
len(log) = 173
getEntryTerm
server 0 term 27 state 0(leader false)(heartFlag true)
server 0 receives appendEntry from leader 1 prevLogIndex 172
current commitIndex 172 lastIncludedIndex 169 snapshot exists ? true
update server 0 's matchIndex from 172 to 173
server 2 receives snopshot from leader 1
server 1 convert to follower
server 1 term 28 state 0(leader false)(heartFlag false)
server 1 term 28 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 0 convert to follower
getEntryTerm
server 0 grant true for candidate 1's requestVote
server 1 convert to leader
server 1 term 29 send appendEntries
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 173
server 2 convert to follower
lastLogIndex 160, args.PrevLogIndex 173
server 0 receives appendEntry from leader 1 prevLogIndex 173
getEntryTerm
current commitIndex 172 lastIncludedIndex 169 snapshot exists ? true
update server 0 's matchIndex from 0 to 173
getEntryTerm
getEntryTerm
server 2 grant true for candidate 1's requestVote
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 173
getEntryTerm
current commitIndex 172 lastIncludedIndex 169 snapshot exists ? true
update server 0 's matchIndex from 173 to 173
server 2 receives appendEntry from leader 1 prevLogIndex 173
lastLogIndex 160, args.PrevLogIndex 173
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 173
getEntryTerm
current commitIndex 172 lastIncludedIndex 169 snapshot exists ? true
update server 0 's matchIndex from 173 to 173
getEntryTerm
server 2 receives snopshot from leader 1
server 2 commit snopshot to lastIncludedIndex 169
getEntryTerm
server 0 term 29 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 169
current commitIndex 169 lastIncludedIndex 169 snapshot exists ? true
follower server 2 commit index 170 command 207533238573685574 
follower server 2 commit index 171 command 6184091506214277094 
server 0 receives appendEntry from leader 1 prevLogIndex 173
getEntryTerm
current commitIndex 172 lastIncludedIndex 169 snapshot exists ? true
follower server 2 commit index 172 command 3569247585014578377 
update server 0 's matchIndex from 173 to 173
update server 2 's matchIndex from 169 to 173
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 29 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 173
getEntryTerm
current commitIndex 172 lastIncludedIndex 169 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 173
getEntryTerm
current commitIndex 172 lastIncludedIndex 169 snapshot exists ? true
update server 2 's matchIndex from 173 to 173
update server 0 's matchIndex from 173 to 173
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 173
getEntryTerm
current commitIndex 172 lastIncludedIndex 169 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 173
getEntryTerm
current commitIndex 172 lastIncludedIndex 169 snapshot exists ? true
update server 0 's matchIndex from 173 to 173
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 29 state 2(leader true)(heartFlag false)
nextIndex
174 || 174 || 174 || 
matchIndex
173 || 173 || 173 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 173
getEntryTerm
current commitIndex 172 lastIncludedIndex 169 snapshot exists ? true
update server 2 's matchIndex from 173 to 173
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 29 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 173
getEntryTerm
current commitIndex 172 lastIncludedIndex 169 snapshot exists ? true
update server 2 's matchIndex from 173 to 173
server 0 receives appendEntry from leader 1 prevLogIndex 173
getEntryTerm
current commitIndex 172 lastIncludedIndex 169 snapshot exists ? true
update server 0 's matchIndex from 173 to 173
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 29 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 173
getEntryTerm
current commitIndex 172 lastIncludedIndex 169 snapshot exists ? true
update server 2 's matchIndex from 173 to 173
server 0 receives appendEntry from leader 1 prevLogIndex 173
getEntryTerm
current commitIndex 172 lastIncludedIndex 169 snapshot exists ? true
update server 0 's matchIndex from 173 to 173
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 29 state 2(leader true)(heartFlag false)
nextIndex
174 || 174 || 174 || 
matchIndex
173 || 173 || 173 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 173
getEntryTerm
current commitIndex 172 lastIncludedIndex 169 snapshot exists ? true
update server 0 's matchIndex from 173 to 173
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 173
getEntryTerm
current commitIndex 172 lastIncludedIndex 169 snapshot exists ? true
update server 2 's matchIndex from 173 to 173
server 0 term 29 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 173
getEntryTerm
current commitIndex 172 lastIncludedIndex 169 snapshot exists ? true
update server 2 's matchIndex from 173 to 173
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 173
getEntryTerm
current commitIndex 172 lastIncludedIndex 169 snapshot exists ? true
update server 0 's matchIndex from 173 to 173
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 173
getEntryTerm
current commitIndex 172 lastIncludedIndex 169 snapshot exists ? true
update server 2 's matchIndex from 173 to 173
getEntryTerm
getEntryTerm
server 2 term 29 state 0(leader false)(heartFlag true)
server 1 term 29 state 2(leader true)(heartFlag false)
nextIndex
174 || 174 || 174 || 
matchIndex
173 || 173 || 173 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 173
getEntryTerm
current commitIndex 172 lastIncludedIndex 169 snapshot exists ? true
update server 2 's matchIndex from 173 to 173
getEntryTerm
server 0 term 29 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 173
getEntryTerm
current commitIndex 172 lastIncludedIndex 169 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 173
getEntryTerm
current commitIndex 172 lastIncludedIndex 169 snapshot exists ? true
update server 0 's matchIndex from 173 to 173
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 29 state 2(leader true)(heartFlag false)
nextIndex
174 || 174 || 174 || 
matchIndex
173 || 173 || 173 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 29 state 0(leader false)(heartFlag true)
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 173
getEntryTerm
current commitIndex 172 lastIncludedIndex 169 snapshot exists ? true
update server 0 's matchIndex from 173 to 173
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 173
getEntryTerm
current commitIndex 172 lastIncludedIndex 169 snapshot exists ? true
update server 2 's matchIndex from 173 to 173
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 29 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 173
getEntryTerm
current commitIndex 172 lastIncludedIndex 169 snapshot exists ? true
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 173
getEntryTerm
current commitIndex 172 lastIncludedIndex 169 snapshot exists ? true
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 173
getEntryTerm
current commitIndex 172 lastIncludedIndex 169 snapshot exists ? true
update server 2 's matchIndex from 173 to 173
getEntryTerm
server 1 term 29 state 2(leader true)(heartFlag false)
nextIndex
174 || 174 || 174 || getEntryTerm

matchIndex
173 || 173 || 173 || 
getEntryTerm
getEntryTerm
getEntryTerm
append command 3567389720522520426
len(log) = 174
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 173
getEntryTerm
current commitIndex 172 lastIncludedIndex 169 snapshot exists ? true
update server 0 's matchIndex from 173 to 174
getEntryTerm
leader server 1 commit index 173 command 3567389720522520426
leader server 1 commit index 174 command 3567389720522520426
server 2 receives appendEntry from leader 1 prevLogIndex 173
getEntryTerm
current commitIndex 172 lastIncludedIndex 169 snapshot exists ? true
update server 2 's matchIndex from 173 to 174
server 2 term 29 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 term 29 state 0(leader false)(heartFlag true)
server 0 receives appendEntry from leader 1 prevLogIndex 174
getEntryTerm
current commitIndex 172 lastIncludedIndex 169 snapshot exists ? true
follower server 0 commit index 173 command 3567389720522520426 
follower server 0 commit index 174 command 3567389720522520426 
update server 0 's matchIndex from 174 to 174
server 2 receives appendEntry from leader 1 prevLogIndex 174
getEntryTerm
current commitIndex 172 lastIncludedIndex 169 snapshot exists ? true
follower server 2 commit index 173 command 3567389720522520426 
follower server 2 commit index 174 command 3567389720522520426 
update server 2 's matchIndex from 174 to 174
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 174
current commitIndex 174 lastIncludedIndex 169 snapshot exists ? true
update server 0 's matchIndex from 174 to 174
server 2 receives appendEntry from leader 1 prevLogIndex 174
current commitIndex 174 lastIncludedIndex 169 snapshot exists ? true
update server 2 's matchIndex from 174 to 174
server 1 term 29 state 2(leader true)(heartFlag false)
nextIndex
175 || 175 || 175 || 
matchIndex
174 || 174 || 174 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 174
current commitIndex 174 lastIncludedIndex 169 snapshot exists ? true
update server 0 's matchIndex from 174 to 174
server 2 receives appendEntry from leader 1 prevLogIndex 174
current commitIndex 174 lastIncludedIndex 169 snapshot exists ? true
update server 2 's matchIndex from 174 to 174
server 2 term 29 state 0(leader false)(heartFlag true)
server 0 term 29 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 174
current commitIndex 174 lastIncludedIndex 169 snapshot exists ? true
update server 2 's matchIndex from 174 to 174
server 0 receives appendEntry from leader 1 prevLogIndex 174
current commitIndex 174 lastIncludedIndex 169 snapshot exists ? true
update server 0 's matchIndex from 174 to 174
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 174
current commitIndex 174 lastIncludedIndex 169 snapshot exists ? true
update server 0 's matchIndex from 174 to 174
server 2 receives appendEntry from leader 1 prevLogIndex 174
current commitIndex 174 lastIncludedIndex 169 snapshot exists ? true
append command 139024381411657232
len(log) = 175
server 1 term 29 state 2(leader true)(heartFlag false)
nextIndex
175 || 176 || 175 || 
matchIndex
174 || 175 || 174 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 174
current commitIndex 174 lastIncludedIndex 169 snapshot exists ? true
update server 0 's matchIndex from 174 to 175
server 2 term 29 state 0(leader false)(heartFlag true)
getEntryTerm
leader server 1 commit index 175 command 139024381411657232
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 175
getEntryTerm
current commitIndex 174 lastIncludedIndex 169 snapshot exists ? true
follower server 0 commit index 175 command 139024381411657232 
update server 0 's matchIndex from 175 to 175
append command 6910937604425815473
len(log) = 176
append command 8825336753471404427
len(log) = 177
append command 1858878377628816869
len(log) = 178
append command 2177159176050525266
len(log) = 179
append command 7862058390904463793
len(log) = 180
append command 4260193565597179481
len(log) = 181
append command 651924205603065739
len(log) = 182
append command 8076604778563962469
len(log) = 183
getEntryTerm
getEntryTerm
server 0 term 29 state 0(leader false)(heartFlag true)
server 0 receives appendEntry from leader 1 prevLogIndex 175
current commitIndex 175 lastIncludedIndex 169 snapshot exists ? true
update server 0 's matchIndex from 175 to 183
getEntryTerm
leader server 1 commit index 176 command 6910937604425815473
leader server 1 commit index 177 command 8825336753471404427
leader server 1 commit index 178 command 1858878377628816869
leader server 1 commit index 179 command 2177159176050525266
leader server 1 commit index 180 command 7862058390904463793
server 1 takes snopshot and discards logs before index 179
getEntryTerm
discard index before 179(included)
server 1 finished snopshot
leader server 1 commit index 181 command 4260193565597179481
leader server 1 commit index 182 command 651924205603065739
leader server 1 commit index 183 command 8076604778563962469
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 183
getEntryTerm
current commitIndex 175 lastIncludedIndex 169 snapshot exists ? true
follower server 0 commit index 176 command 6910937604425815473 
follower server 0 commit index 177 command 8825336753471404427 
follower server 0 commit index 178 command 1858878377628816869 
follower server 0 commit index 179 command 2177159176050525266 
follower server 0 commit index 180 command 7862058390904463793 
server 0 takes snopshot and discards logs before index 179
getEntryTerm
discard index before 179(included)
server 0 finished snopshot
follower server 0 commit index 181 command 4260193565597179481 
follower server 0 commit index 182 command 651924205603065739 
follower server 0 commit index 183 command 8076604778563962469 
update server 0 's matchIndex from 183 to 183
append command 8865256853650619212
len(log) = 184
getEntryTerm
server 2 receives snopshot from leader 1
server 2 commit snopshot to lastIncludedIndex 179
server 0 receives appendEntry from leader 1 prevLogIndex 183
current commitIndex 183 lastIncludedIndex 179 snapshot exists ? true
update server 0 's matchIndex from 183 to 184
getEntryTerm
leader server 1 commit index 184 command 8865256853650619212
server 2 term 29 state 0(leader false)(heartFlag false)
server 2 term 29 doesn't hear any heartbeat
server 2 convert to candidate
server 1 term 29 state 2(leader true)(heartFlag false)
nextIndex
185 || 185 || 180 || 
matchIndex
184 || 184 || 179 || 
server 0 convert to follower
getEntryTerm
server 0 thinks candidate 2 is not up-to-date
server 0 grant false for candidate 2's requestVote
server 1 convert to follower
getEntryTerm
server 1 thinks candidate 2 is not up-to-date
server 1 grant false for candidate 2's requestVote
server 0 term 30 state 0(leader false)(heartFlag true)
server 1 term 30 state 0(leader false)(heartFlag false)
server 1 term 30 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
server 2 grant true for candidate 1's requestVote
server 1 convert to leader
server 1 term 31 send appendEntries
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 184
server 0 convert to follower
getEntryTerm
current commitIndex 183 lastIncludedIndex 179 snapshot exists ? true
follower server 0 commit index 184 command 8865256853650619212 
update server 0 's matchIndex from 0 to 184
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 184
lastLogIndex 179, args.PrevLogIndex 184
server 0 receives appendEntry from leader 1 prevLogIndex 184
current commitIndex 184 lastIncludedIndex 179 snapshot exists ? true
update server 0 's matchIndex from 184 to 184
server 0 term 31 state 0(leader false)(heartFlag true)
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 184
current commitIndex 184 lastIncludedIndex 179 snapshot exists ? true
update server 0 's matchIndex from 184 to 184
server 2 receives appendEntry from leader 1 prevLogIndex 179
current commitIndex 179 lastIncludedIndex 179 snapshot exists ? true
follower server 2 commit index 180 command 7862058390904463793 
follower server 2 commit index 181 command 4260193565597179481 
follower server 2 commit index 182 command 651924205603065739 
follower server 2 commit index 183 command 8076604778563962469 
follower server 2 commit index 184 command 8865256853650619212 
update server 2 's matchIndex from 0 to 184
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 184
current commitIndex 184 lastIncludedIndex 179 snapshot exists ? true
update server 0 's matchIndex from 184 to 184
server 2 term 31 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 184
current commitIndex 184 lastIncludedIndex 179 snapshot exists ? true
update server 0 's matchIndex from 184 to 184
server 2 receives appendEntry from leader 1 prevLogIndex 184
current commitIndex 184 lastIncludedIndex 179 snapshot exists ? true
update server 2 's matchIndex from 184 to 184
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 184
current commitIndex 184 lastIncludedIndex 179 snapshot exists ? true
update server 0 's matchIndex from 184 to 184
server 2 receives appendEntry from leader 1 prevLogIndex 184
current commitIndex 184 lastIncludedIndex 179 snapshot exists ? true
update server 2 's matchIndex from 184 to 184
server 0 term 31 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 184
current commitIndex 184 lastIncludedIndex 179 snapshot exists ? true
update server 0 's matchIndex from 184 to 184
server 2 receives appendEntry from leader 1 prevLogIndex 184
current commitIndex 184 lastIncludedIndex 179 snapshot exists ? true
update server 2 's matchIndex from 184 to 184
server 2 term 31 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 term 31 state 2(leader true)(heartFlag false)
nextIndex
185 || 185 || 185 || 
matchIndex
184 || 184 || 184 || 
getEntryTerm
getEntryTerm
server 0 term 31 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 term 31 state 0(leader false)(heartFlag false)
server 2 term 31 doesn't hear any heartbeat
server 2 convert to candidate
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 31 state 0(leader false)(heartFlag false)
server 0 term 31 doesn't hear any heartbeat
server 0 convert to candidate
getEntryTerm
getEntryTerm
getEntryTerm
server 2 already has a voteFor 2 but not candidate 0
server 2 grant false for candidate 0's requestVote
server 1 term 31 state 2(leader true)(heartFlag false)
nextIndex
185 || 185 || 185 || 
matchIndex
184 || 184 || 184 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 32 ElectionTimeOut
server 2 convert to candidate
getEntryTerm
getEntryTerm
server 0 convert to follower
getEntryTerm
server 0 grant true for candidate 2's requestVote
server 2 convert to leader
server 2 term 33 send appendEntries
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 184
current commitIndex 184 lastIncludedIndex 179 snapshot exists ? true
update server 0 's matchIndex from 0 to 184
append command 4124376267279204324
len(log) = 185
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 184
current commitIndex 184 lastIncludedIndex 179 snapshot exists ? true
update server 0 's matchIndex from 184 to 185
getEntryTerm
leader server 2 commit index 185 command 4124376267279204324
getEntryTerm
getEntryTerm
server 1 term 31 state 2(leader true)(heartFlag false)
nextIndex
185 || 185 || 185 || 
matchIndex
184 || 184 || 184 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 185
getEntryTerm
current commitIndex 184 lastIncludedIndex 179 snapshot exists ? true
follower server 0 commit index 185 command 4124376267279204324 
update server 0 's matchIndex from 185 to 185
append command 7488374627866675897
len(log) = 186
append command 5730614524965638471
len(log) = 187
append command 6522435810962864993
len(log) = 188
append command 4116040074548987362
len(log) = 189
append command 305430826965068373
len(log) = 190
append command 5747924497207940881
len(log) = 191
append command 1191065779848591225
len(log) = 192
append command 1363498187946961499
len(log) = 193
append command 5158952707487678541
len(log) = 194
append command 7972077955238777174
len(log) = 195
append command 8168494674859190168
len(log) = 196
append command 6586304857917545148
len(log) = 197
append command 6423201187557672743
len(log) = 198
append command 3871761923508244845
len(log) = 199
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 185
current commitIndex 185 lastIncludedIndex 179 snapshot exists ? true
update server 0 's matchIndex from 185 to 199
getEntryTerm
leader server 2 commit index 186 command 7488374627866675897
leader server 2 commit index 187 command 5730614524965638471
leader server 2 commit index 188 command 6522435810962864993
leader server 2 commit index 189 command 4116040074548987362
leader server 2 commit index 190 command 305430826965068373
server 2 takes snopshot and discards logs before index 189
getEntryTerm
discard index before 189(included)
server 2 finished snopshot
leader server 2 commit index 191 command 5747924497207940881
leader server 2 commit index 192 command 1191065779848591225
leader server 2 commit index 193 command 1363498187946961499
leader server 2 commit index 194 command 5158952707487678541
leader server 2 commit index 195 command 7972077955238777174
leader server 2 commit index 196 command 8168494674859190168
leader server 2 commit index 197 command 6586304857917545148
leader server 2 commit index 198 command 6423201187557672743
leader server 2 commit index 199 command 3871761923508244845
server 2 takes snopshot and discards logs before index 199
getEntryTerm
discard index before 199(included)
server 2 finished snopshot
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 199
getEntryTerm
current commitIndex 185 lastIncludedIndex 179 snapshot exists ? true
follower server 0 commit index 186 command 7488374627866675897 
follower server 0 commit index 187 command 5730614524965638471 
follower server 0 commit index 188 command 6522435810962864993 
follower server 0 commit index 189 command 4116040074548987362 
follower server 0 commit index 190 command 305430826965068373 
server 0 takes snopshot and discards logs before index 189
getEntryTerm
discard index before 189(included)
server 0 finished snopshot
follower server 0 commit index 191 command 5747924497207940881 
follower server 0 commit index 192 command 1191065779848591225 
follower server 0 commit index 193 command 1363498187946961499 
follower server 0 commit index 194 command 5158952707487678541 
follower server 0 commit index 195 command 7972077955238777174 
follower server 0 commit index 196 command 8168494674859190168 
follower server 0 commit index 197 command 6586304857917545148 
follower server 0 commit index 198 command 6423201187557672743 
follower server 0 commit index 199 command 3871761923508244845 
update server 0 's matchIndex from 199 to 199
server 0 takes snopshot and discards logs before index 199
getEntryTerm
discard index before 199(included)
server 0 finished snopshot
append command 6488804723987454999
len(log) = 185
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 184
server 1 convert to follower
server 2 receives appendEntry from leader 1 prevLogIndex 184
server 0 term 33 state 0(leader false)(heartFlag true)
server 1 receives snopshot from leader 2
server 1 commit snopshot to lastIncludedIndex 199
server 1 term 33 state 0(leader false)(heartFlag false)
server 1 term 33 doesn't hear any heartbeat
server 1 convert to candidate
server 0 convert to follower
server 0 grant true for candidate 1's requestVote
server 1 convert to leader
server 1 term 34 send appendEntries
server 2 convert to follower
server 2 grant true for candidate 1's requestVote
server 0 receives appendEntry from leader 1 prevLogIndex 199
current commitIndex 199 lastIncludedIndex 199 snapshot exists ? true
update server 0 's matchIndex from 0 to 199
server 2 receives appendEntry from leader 1 prevLogIndex 199
current commitIndex 199 lastIncludedIndex 199 snapshot exists ? true
update server 2 's matchIndex from 0 to 199
server 2 term 34 state 0(leader false)(heartFlag true)
server 0 receives appendEntry from leader 1 prevLogIndex 199
current commitIndex 199 lastIncludedIndex 199 snapshot exists ? true
update server 0 's matchIndex from 199 to 199
server 2 receives appendEntry from leader 1 prevLogIndex 199
current commitIndex 199 lastIncludedIndex 199 snapshot exists ? true
update server 2 's matchIndex from 199 to 199
server 0 term 34 state 0(leader false)(heartFlag true)
server 2 receives appendEntry from leader 1 prevLogIndex 199
current commitIndex 199 lastIncludedIndex 199 snapshot exists ? true
update server 2 's matchIndex from 199 to 199
server 0 receives appendEntry from leader 1 prevLogIndex 199
current commitIndex 199 lastIncludedIndex 199 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 199
current commitIndex 199 lastIncludedIndex 199 snapshot exists ? true
update server 2 's matchIndex from 199 to 199
server 0 receives appendEntry from leader 1 prevLogIndex 199
current commitIndex 199 lastIncludedIndex 199 snapshot exists ? true
update server 0 's matchIndex from 199 to 199
server 2 term 34 state 0(leader false)(heartFlag true)
server 2 receives appendEntry from leader 1 prevLogIndex 199
current commitIndex 199 lastIncludedIndex 199 snapshot exists ? true
update server 2 's matchIndex from 199 to 199
server 0 receives appendEntry from leader 1 prevLogIndex 199
current commitIndex 199 lastIncludedIndex 199 snapshot exists ? true
update server 0 's matchIndex from 199 to 199
server 0 term 34 state 0(leader false)(heartFlag true)
server 0 receives appendEntry from leader 1 prevLogIndex 199
current commitIndex 199 lastIncludedIndex 199 snapshot exists ? true
update server 0 's matchIndex from 199 to 199
server 2 receives appendEntry from leader 1 prevLogIndex 199
current commitIndex 199 lastIncludedIndex 199 snapshot exists ? true
update server 2 's matchIndex from 199 to 199
server 0 receives appendEntry from leader 1 prevLogIndex 199
current commitIndex 199 lastIncludedIndex 199 snapshot exists ? true
update server 0 's matchIndex from 199 to 199
server 2 receives appendEntry from leader 1 prevLogIndex 199
current commitIndex 199 lastIncludedIndex 199 snapshot exists ? true
update server 2 's matchIndex from 199 to 199
server 1 term 34 state 2(leader true)(heartFlag false)
nextIndex
200 || 200 || 200 || 
matchIndex
199 || 199 || 199 || 
server 0 receives appendEntry from leader 1 prevLogIndex 199
current commitIndex 199 lastIncludedIndex 199 snapshot exists ? true
update server 0 's matchIndex from 199 to 199
server 2 receives appendEntry from leader 1 prevLogIndex 199
current commitIndex 199 lastIncludedIndex 199 snapshot exists ? true
update server 2 's matchIndex from 199 to 199
server 0 term 34 state 0(leader false)(heartFlag true)
server 2 term 34 state 0(leader false)(heartFlag true)
server 2 receives appendEntry from leader 1 prevLogIndex 199
current commitIndex 199 lastIncludedIndex 199 snapshot exists ? true
update server 2 's matchIndex from 199 to 199
server 0 receives appendEntry from leader 1 prevLogIndex 199
current commitIndex 199 lastIncludedIndex 199 snapshot exists ? true
update server 0 's matchIndex from 199 to 199
server 2 receives appendEntry from leader 1 prevLogIndex 199
current commitIndex 199 lastIncludedIndex 199 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 199
update server 2 's matchIndex from 199 to 199
current commitIndex 199 lastIncludedIndex 199 snapshot exists ? true
update server 0 's matchIndex from 199 to 199
server 1 term 34 state 2(leader true)(heartFlag false)
nextIndex
200 || 200 || 200 || 
matchIndex
199 || 199 || 199 || 
server 0 receives appendEntry from leader 1 prevLogIndex 199
current commitIndex 199 lastIncludedIndex 199 snapshot exists ? true
update server 0 's matchIndex from 199 to 199
server 2 receives appendEntry from leader 1 prevLogIndex 199
current commitIndex 199 lastIncludedIndex 199 snapshot exists ? true
update server 2 's matchIndex from 199 to 199
server 2 term 34 state 0(leader false)(heartFlag true)
server 2 receives appendEntry from leader 1 prevLogIndex 199
current commitIndex 199 lastIncludedIndex 199 snapshot exists ? true
update server 2 's matchIndex from 199 to 199
server 0 receives appendEntry from leader 1 prevLogIndex 199
current commitIndex 199 lastIncludedIndex 199 snapshot exists ? true
server 0 term 34 state 0(leader false)(heartFlag true)
server 0 receives appendEntry from leader 1 prevLogIndex 199
current commitIndex 199 lastIncludedIndex 199 snapshot exists ? true
update server 0 's matchIndex from 199 to 199
server 2 receives appendEntry from leader 1 prevLogIndex 199
current commitIndex 199 lastIncludedIndex 199 snapshot exists ? true
update server 2 's matchIndex from 199 to 199
server 2 receives appendEntry from leader 1 prevLogIndex 199
current commitIndex 199 lastIncludedIndex 199 snapshot exists ? true
update server 2 's matchIndex from 199 to 199
server 0 receives appendEntry from leader 1 prevLogIndex 199
current commitIndex 199 lastIncludedIndex 199 snapshot exists ? true
update server 0 's matchIndex from 199 to 199
server 1 term 34 state 2(leader true)(heartFlag false)
nextIndex
200 || 200 || 200 || 
matchIndex
199 || 199 || 199 || 
server 2 receives appendEntry from leader 1 prevLogIndex 199
current commitIndex 199 lastIncludedIndex 199 snapshot exists ? true
update server 2 's matchIndex from 199 to 199
server 0 receives appendEntry from leader 1 prevLogIndex 199
current commitIndex 199 lastIncludedIndex 199 snapshot exists ? true
update server 0 's matchIndex from 199 to 199
server 2 term 34 state 0(leader false)(heartFlag true)
server 0 term 34 state 0(leader false)(heartFlag true)
server 0 receives appendEntry from leader 1 prevLogIndex 199
current commitIndex 199 lastIncludedIndex 199 snapshot exists ? true
update server 0 's matchIndex from 199 to 199
server 2 receives appendEntry from leader 1 prevLogIndex 199
current commitIndex 199 lastIncludedIndex 199 snapshot exists ? true
update server 2 's matchIndex from 199 to 199
server 0 receives appendEntry from leader 1 prevLogIndex 199
current commitIndex 199 lastIncludedIndex 199 snapshot exists ? true
update server 0 's matchIndex from 199 to 199
server 2 term 34 state 0(leader false)(heartFlag true)
server 2 receives appendEntry from leader 1 prevLogIndex 199
current commitIndex 199 lastIncludedIndex 199 snapshot exists ? true
update server 2 's matchIndex from 199 to 199
server 0 receives appendEntry from leader 1 prevLogIndex 199
current commitIndex 199 lastIncludedIndex 199 snapshot exists ? true
update server 0 's matchIndex from 199 to 199
append command 6488804723987454999
len(log) = 200
server 0 term 34 state 0(leader false)(heartFlag true)
server 1 term 34 state 2(leader true)(heartFlag false)
nextIndex
200 || 201 || 200 || 
matchIndex
199 || 200 || 199 || 
server 2 receives appendEntry from leader 1 prevLogIndex 199
current commitIndex 199 lastIncludedIndex 199 snapshot exists ? true
update server 2 's matchIndex from 199 to 200
getEntryTerm
leader server 1 commit index 200 command 6488804723987454999
server 0 receives appendEntry from leader 1 prevLogIndex 199
current commitIndex 199 lastIncludedIndex 199 snapshot exists ? true
update server 0 's matchIndex from 199 to 200
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 200
getEntryTerm
current commitIndex 199 lastIncludedIndex 199 snapshot exists ? true
follower server 0 commit index 200 command 6488804723987454999 
update server 0 's matchIndex from 200 to 200
server 2 receives appendEntry from leader 1 prevLogIndex 200
getEntryTerm
current commitIndex 199 lastIncludedIndex 199 snapshot exists ? true
follower server 2 commit index 200 command 6488804723987454999 
update server 2 's matchIndex from 200 to 200
server 2 term 34 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 200
current commitIndex 200 lastIncludedIndex 199 snapshot exists ? true
update server 0 's matchIndex from 200 to 200
server 2 receives appendEntry from leader 1 prevLogIndex 200
current commitIndex 200 lastIncludedIndex 199 snapshot exists ? true
update server 2 's matchIndex from 200 to 200
server 0 term 34 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 200
current commitIndex 200 lastIncludedIndex 199 snapshot exists ? true
update server 0 's matchIndex from 200 to 200
server 2 receives appendEntry from leader 1 prevLogIndex 200
current commitIndex 200 lastIncludedIndex 199 snapshot exists ? true
update server 2 's matchIndex from 200 to 200
server 1 term 34 state 2(leader true)(heartFlag false)
nextIndex
201 || 201 || 201 || 
matchIndex
200 || 200 || 200 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 200
current commitIndex 200 lastIncludedIndex 199 snapshot exists ? true
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 200
current commitIndex 200 lastIncludedIndex 199 snapshot exists ? true
update server 0 's matchIndex from 200 to 200
server 2 receives appendEntry from leader 1 prevLogIndex 200
current commitIndex 200 lastIncludedIndex 199 snapshot exists ? true
update server 2 's matchIndex from 200 to 200
server 2 term 34 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 200
current commitIndex 200 lastIncludedIndex 199 snapshot exists ? true
update server 2 's matchIndex from 200 to 200
server 0 receives appendEntry from leader 1 prevLogIndex 200
current commitIndex 200 lastIncludedIndex 199 snapshot exists ? true
update server 0 's matchIndex from 200 to 200
server 1 term 34 state 2(leader true)(heartFlag false)
nextIndex
201 || 201 || 201 || 
matchIndex
200 || 200 || 200 || 
append command 4950254557293168192
len(log) = 201
server 0 term 34 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 200
current commitIndex 200 lastIncludedIndex 199 snapshot exists ? true
update server 0 's matchIndex from 200 to 201
getEntryTerm
leader server 1 commit index 201 command 4950254557293168192
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 201
getEntryTerm
current commitIndex 200 lastIncludedIndex 199 snapshot exists ? true
follower server 0 commit index 201 command 4950254557293168192 
update server 0 's matchIndex from 201 to 201
append command 5191722172255993758
len(log) = 202
append command 1384895974544938916
len(log) = 203
append command 7722299430393201590
len(log) = 204
append command 7271102752118679590
len(log) = 205
append command 2205892722028777957
len(log) = 206
append command 6794600589750000038
len(log) = 207
append command 5657824424570081139
len(log) = 208
append command 4158793707312847886
len(log) = 209
append command 7171991080851173932
len(log) = 210
append command 7702239061541612184
len(log) = 211
server 1 term 34 state 2(leader true)(heartFlag false)
nextIndex
202 || 212 || 201 || 
matchIndex
201 || 211 || 200 || 
getEntryTerm
getEntryTerm
server 0 term 34 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 term 34 state 0(leader false)(heartFlag true)
server 0 receives appendEntry from leader 1 prevLogIndex 201
current commitIndex 201 lastIncludedIndex 199 snapshot exists ? true
update server 0 's matchIndex from 201 to 211
getEntryTerm
leader server 1 commit index 202 command 5191722172255993758
leader server 1 commit index 203 command 1384895974544938916
leader server 1 commit index 204 command 7722299430393201590
leader server 1 commit index 205 command 7271102752118679590
leader server 1 commit index 206 command 2205892722028777957
leader server 1 commit index 207 command 6794600589750000038
leader server 1 commit index 208 command 5657824424570081139
leader server 1 commit index 209 command 4158793707312847886
leader server 1 commit index 210 command 7171991080851173932
server 1 takes snopshot and discards logs before index 209
getEntryTerm
discard index before 209(included)
server 1 finished snopshot
leader server 1 commit index 211 command 7702239061541612184
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 211
getEntryTerm
current commitIndex 201 lastIncludedIndex 199 snapshot exists ? true
follower server 0 commit index 202 command 5191722172255993758 
follower server 0 commit index 203 command 1384895974544938916 
follower server 0 commit index 204 command 7722299430393201590 
follower server 0 commit index 205 command 7271102752118679590 
follower server 0 commit index 206 command 2205892722028777957 
follower server 0 commit index 207 command 6794600589750000038 
follower server 0 commit index 208 command 5657824424570081139 
follower server 0 commit index 209 command 4158793707312847886 
follower server 0 commit index 210 command 7171991080851173932 
server 0 takes snopshot and discards logs before index 209
getEntryTerm
discard index before 209(included)
server 0 finished snopshot
follower server 0 commit index 211 command 7702239061541612184 
update server 0 's matchIndex from 211 to 211
append command 1960050399023454004
len(log) = 212
server 1 term 34 state 2(leader true)(heartFlag false)
nextIndex
212 || 213 || 201 || 
matchIndex
211 || 212 || 200 || 
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 211
current commitIndex 211 lastIncludedIndex 209 snapshot exists ? true
update server 0 's matchIndex from 211 to 212
getEntryTerm
leader server 1 commit index 212 command 1960050399023454004
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 212
getEntryTerm
current commitIndex 211 lastIncludedIndex 209 snapshot exists ? true
follower server 0 commit index 212 command 1960050399023454004 
update server 0 's matchIndex from 212 to 212
server 2 receives snopshot from leader 1
server 2 commit snopshot to lastIncludedIndex 209
server 0 term 34 state 0(leader false)(heartFlag true)
server 2 term 34 state 0(leader false)(heartFlag false)
server 2 term 34 doesn't hear any heartbeat
server 2 convert to candidate
getEntryTerm
server 1 convert to follower
getEntryTerm
server 1 thinks candidate 2 is not up-to-date
server 1 grant false for candidate 2's requestVote
server 0 convert to follower
getEntryTerm
server 0 thinks candidate 2 is not up-to-date
server 0 grant false for candidate 2's requestVote
server 0 receives appendEntry from leader 1 prevLogIndex 212
server 1 term 35 state 0(leader false)(heartFlag false)
server 1 term 35 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
server 2 grant true for candidate 1's requestVote
server 1 convert to leader
server 1 term 36 send appendEntries
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 212
lastLogIndex 209, args.PrevLogIndex 212
server 0 convert to follower
getEntryTerm
server 0 grant true for candidate 1's requestVote
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 209
current commitIndex 209 lastIncludedIndex 209 snapshot exists ? true
follower server 2 commit index 210 command 7171991080851173932 
follower server 2 commit index 211 command 7702239061541612184 
follower server 2 commit index 212 command 1960050399023454004 
update server 2 's matchIndex from 0 to 212
server 0 receives appendEntry from leader 1 prevLogIndex 212
current commitIndex 212 lastIncludedIndex 209 snapshot exists ? true
update server 0 's matchIndex from 0 to 212
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 212
current commitIndex 212 lastIncludedIndex 209 snapshot exists ? true
update server 2 's matchIndex from 212 to 212
server 0 receives appendEntry from leader 1 prevLogIndex 212
current commitIndex 212 lastIncludedIndex 209 snapshot exists ? true
update server 0 's matchIndex from 212 to 212
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 212
current commitIndex 212 lastIncludedIndex 209 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 212
current commitIndex 212 lastIncludedIndex 209 snapshot exists ? true
update server 2 's matchIndex from 212 to 212
server 0 term 36 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 212
current commitIndex 212 lastIncludedIndex 209 snapshot exists ? true
update server 0 's matchIndex from 212 to 212
server 2 receives appendEntry from leader 1 prevLogIndex 212
current commitIndex 212 lastIncludedIndex 209 snapshot exists ? true
update server 2 's matchIndex from 212 to 212
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 212
current commitIndex 212 lastIncludedIndex 209 snapshot exists ? true
update server 0 's matchIndex from 212 to 212
server 2 receives appendEntry from leader 1 prevLogIndex 212
current commitIndex 212 lastIncludedIndex 209 snapshot exists ? true
update server 2 's matchIndex from 212 to 212
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 212
current commitIndex 212 lastIncludedIndex 209 snapshot exists ? true
update server 2 's matchIndex from 212 to 212
server 0 receives appendEntry from leader 1 prevLogIndex 212
current commitIndex 212 lastIncludedIndex 209 snapshot exists ? true
update server 0 's matchIndex from 212 to 212
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 212
current commitIndex 212 lastIncludedIndex 209 snapshot exists ? true
update server 0 's matchIndex from 212 to 212
server 2 receives appendEntry from leader 1 prevLogIndex 212
current commitIndex 212 lastIncludedIndex 209 snapshot exists ? true
update server 2 's matchIndex from 212 to 212
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 212
current commitIndex 212 lastIncludedIndex 209 snapshot exists ? true
update server 2 's matchIndex from 212 to 212
server 0 receives appendEntry from leader 1 prevLogIndex 212
current commitIndex 212 lastIncludedIndex 209 snapshot exists ? true
update server 0 's matchIndex from 212 to 212
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 212
current commitIndex 212 lastIncludedIndex 209 snapshot exists ? true
update server 2 's matchIndex from 212 to 212
server 0 receives appendEntry from leader 1 prevLogIndex 212
current commitIndex 212 lastIncludedIndex 209 snapshot exists ? true
update server 0 's matchIndex from 212 to 212
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 212
current commitIndex 212 lastIncludedIndex 209 snapshot exists ? true
update server 0 's matchIndex from 212 to 212
server 2 receives appendEntry from leader 1 prevLogIndex 212
current commitIndex 212 lastIncludedIndex 209 snapshot exists ? true
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 212
current commitIndex 212 lastIncludedIndex 209 snapshot exists ? true
update server 2 's matchIndex from 212 to 212
append command 6203556752452817334
len(log) = 213
server 0 receives appendEntry from leader 1 prevLogIndex 212
current commitIndex 212 lastIncludedIndex 209 snapshot exists ? true
update server 0 's matchIndex from 212 to 212
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 212
current commitIndex 212 lastIncludedIndex 209 snapshot exists ? true
update server 0 's matchIndex from 212 to 213
getEntryTerm
leader server 1 commit index 213 command 6203556752452817334
server 0 term 36 state 0(leader false)(heartFlag true)
server 2 term 36 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 213
getEntryTerm
current commitIndex 212 lastIncludedIndex 209 snapshot exists ? true
follower server 0 commit index 213 command 6203556752452817334 
append command 860988049962773206
len(log) = 214
append command 4680263734926459463
len(log) = 215
append command 777194570337378559
len(log) = 216
append command 3740573642521170695
len(log) = 217
append command 2049927047254203397
len(log) = 218
append command 7175969580279127685
len(log) = 219
append command 457780978109958427
len(log) = 220
append command 1552119544096824453
len(log) = 221
server 1 term 36 state 2(leader true)(heartFlag false)
nextIndex
214 || 222 || 213 || 
matchIndex
213 || 221 || 212 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 213
current commitIndex 213 lastIncludedIndex 209 snapshot exists ? true
update server 0 's matchIndex from 213 to 221
getEntryTerm
leader server 1 commit index 214 command 860988049962773206
leader server 1 commit index 215 command 4680263734926459463
leader server 1 commit index 216 command 777194570337378559
leader server 1 commit index 217 command 3740573642521170695
leader server 1 commit index 218 command 2049927047254203397
leader server 1 commit index 219 command 7175969580279127685
leader server 1 commit index 220 command 457780978109958427
server 1 takes snopshot and discards logs before index 219
getEntryTerm
discard index before 219(included)
server 1 finished snopshot
leader server 1 commit index 221 command 1552119544096824453
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 213 lastIncludedIndex 209 snapshot exists ? true
follower server 0 commit index 214 command 860988049962773206 
follower server 0 commit index 215 command 4680263734926459463 
follower server 0 commit index 216 command 777194570337378559 
follower server 0 commit index 217 command 3740573642521170695 
follower server 0 commit index 218 command 2049927047254203397 
follower server 0 commit index 219 command 7175969580279127685 
follower server 0 commit index 220 command 457780978109958427 
server 0 takes snopshot and discards logs before index 219
getEntryTerm
discard index before 219(included)
server 0 finished snopshot
follower server 0 commit index 221 command 1552119544096824453 
update server 0 's matchIndex from 221 to 221
append command 5511997132489246454
len(log) = 222
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 221
current commitIndex 221 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 221 to 222
getEntryTerm
leader server 1 commit index 222 command 5511997132489246454
server 2 receives snopshot from leader 1
server 2 commit snopshot to lastIncludedIndex 219
server 2 term 36 state 0(leader false)(heartFlag false)
server 2 term 36 doesn't hear any heartbeat
server 2 convert to candidate
server 0 convert to follower
getEntryTerm
server 0 thinks candidate 2 is not up-to-date
server 0 grant false for candidate 2's requestVote
getEntryTerm
server 1 convert to follower
getEntryTerm
server 1 thinks candidate 2 is not up-to-date
server 1 grant false for candidate 2's requestVote
server 2 receives snopshot from leader 1
server 0 term 37 state 0(leader false)(heartFlag true)
server 1 term 37 state 0(leader false)(heartFlag false)
server 1 term 37 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
server 2 grant true for candidate 1's requestVote
server 1 convert to leader
server 1 term 38 send appendEntries
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 222
lastLogIndex 219, args.PrevLogIndex 222
server 0 receives appendEntry from leader 1 prevLogIndex 222
server 0 convert to follower
getEntryTerm
current commitIndex 221 lastIncludedIndex 219 snapshot exists ? true
follower server 0 commit index 222 command 5511997132489246454 
getEntryTerm
update server 0 's matchIndex from 0 to 222
server 0 grant true for candidate 1's requestVote
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 222
current commitIndex 222 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 222 to 222
server 2 receives appendEntry from leader 1 prevLogIndex 219
current commitIndex 219 lastIncludedIndex 219 snapshot exists ? true
follower server 2 commit index 220 command 457780978109958427 
follower server 2 commit index 221 command 1552119544096824453 
follower server 2 commit index 222 command 5511997132489246454 
update server 2 's matchIndex from 0 to 222
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 222
current commitIndex 222 lastIncludedIndex 219 snapshot exists ? true
update server 2 's matchIndex from 222 to 222
server 0 receives appendEntry from leader 1 prevLogIndex 222
current commitIndex 222 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 222 to 222
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 222
current commitIndex 222 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 222 to 222
server 2 receives appendEntry from leader 1 prevLogIndex 222
current commitIndex 222 lastIncludedIndex 219 snapshot exists ? true
update server 2 's matchIndex from 222 to 222
server 0 term 38 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 222
current commitIndex 222 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 222 to 222
server 2 receives appendEntry from leader 1 prevLogIndex 222
current commitIndex 222 lastIncludedIndex 219 snapshot exists ? true
update server 2 's matchIndex from 222 to 222
server 2 term 38 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 222
current commitIndex 222 lastIncludedIndex 219 snapshot exists ? true
update server 2 's matchIndex from 222 to 222
server 0 receives appendEntry from leader 1 prevLogIndex 222
current commitIndex 222 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 222 to 222
getEntryTerm
getEntryTerm
server 1 term 38 state 2(leader true)(heartFlag false)
nextIndex
223 || 223 || 223 || 
matchIndex
222 || 222 || 222 || 
server 0 term 38 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 term 38 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 38 state 2(leader true)(heartFlag false)
nextIndex
223 || 223 || 223 || 
matchIndex
222 || 222 || 222 || 
server 2 term 38 state 0(leader false)(heartFlag false)
server 2 term 38 doesn't hear any heartbeat
server 2 convert to candidate
server 0 term 38 state 0(leader false)(heartFlag false)
server 0 term 38 doesn't hear any heartbeat
server 0 convert to candidate
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 already has a voteFor 0 but not candidate 2
server 0 grant false for candidate 2's requestVote
getEntryTerm
server 2 already has a voteFor 2 but not candidate 0
server 2 grant false for candidate 0's requestVote
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 39 ElectionTimeOut
server 2 convert to candidate
getEntryTerm
getEntryTerm
server 0 convert to follower
getEntryTerm
server 0 grant true for candidate 2's requestVote
server 2 convert to leader
server 2 term 40 send appendEntries
getEntryTerm
getEntryTerm
server 1 term 38 state 2(leader true)(heartFlag false)
nextIndex
223 || 223 || 223 || 
matchIndex
222 || 222 || 222 || 
server 0 receives appendEntry from leader 2 prevLogIndex 222
current commitIndex 222 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 0 to 222
append command 354786119094485787
len(log) = 223
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 222
current commitIndex 222 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 222 to 223
getEntryTerm
leader server 2 commit index 223 command 354786119094485787
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 223
getEntryTerm
current commitIndex 222 lastIncludedIndex 219 snapshot exists ? true
follower server 0 commit index 223 command 354786119094485787 
update server 0 's matchIndex from 223 to 223
append command 3841745329822634422
len(log) = 224
append command 4360562583144747357
len(log) = 225
append command 2060054436437443268
len(log) = 226
append command 5582768295111722349
len(log) = 227
append command 5737360107321230747
len(log) = 228
append command 6510402286782985949
len(log) = 229
append command 1096381934884958562
len(log) = 230
append command 1790974162039071664
len(log) = 231
append command 9000278329375895160
len(log) = 232
append command 1681611598958946125
len(log) = 233
append command 2512788148568531500
len(log) = 234
append command 6625386511534738818
len(log) = 235
append command 7294056059473807945
len(log) = 236
append command 4395246222820984306
len(log) = 237
append command 5897227690024571981
len(log) = 238
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 223
current commitIndex 223 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 223 to 238
getEntryTerm
leader server 2 commit index 224 command 3841745329822634422
leader server 2 commit index 225 command 4360562583144747357
leader server 2 commit index 226 command 2060054436437443268
leader server 2 commit index 227 command 5582768295111722349
leader server 2 commit index 228 command 5737360107321230747
leader server 2 commit index 229 command 6510402286782985949
leader server 2 commit index 230 command 1096381934884958562
server 2 takes snopshot and discards logs before index 229
getEntryTerm
discard index before 229(included)
server 2 finished snopshot
leader server 2 commit index 231 command 1790974162039071664
leader server 2 commit index 232 command 9000278329375895160
leader server 2 commit index 233 command 1681611598958946125
leader server 2 commit index 234 command 2512788148568531500
leader server 2 commit index 235 command 6625386511534738818
leader server 2 commit index 236 command 7294056059473807945
leader server 2 commit index 237 command 4395246222820984306
leader server 2 commit index 238 command 5897227690024571981
getEntryTerm
getEntryTerm
server 1 term 38 state 2(leader true)(heartFlag false)
nextIndex
223 || 223 || 223 || 
matchIndex
222 || 222 || 222 || 
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 238
getEntryTerm
current commitIndex 223 lastIncludedIndex 219 snapshot exists ? true
follower server 0 commit index 224 command 3841745329822634422 
follower server 0 commit index 225 command 4360562583144747357 
follower server 0 commit index 226 command 2060054436437443268 
follower server 0 commit index 227 command 5582768295111722349 
follower server 0 commit index 228 command 5737360107321230747 
follower server 0 commit index 229 command 6510402286782985949 
follower server 0 commit index 230 command 1096381934884958562 
server 0 takes snopshot and discards logs before index 229
getEntryTerm
discard index before 229(included)
server 0 finished snopshot
follower server 0 commit index 231 command 1790974162039071664 
follower server 0 commit index 232 command 9000278329375895160 
follower server 0 commit index 233 command 1681611598958946125 
follower server 0 commit index 234 command 2512788148568531500 
follower server 0 commit index 235 command 6625386511534738818 
follower server 0 commit index 236 command 7294056059473807945 
follower server 0 commit index 237 command 4395246222820984306 
follower server 0 commit index 238 command 5897227690024571981 
update server 0 's matchIndex from 238 to 238
append command 6808309252378522659
len(log) = 223
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 222
server 1 convert to follower
server 0 receives appendEntry from leader 1 prevLogIndex 222
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 238
current commitIndex 238 lastIncludedIndex 229 snapshot exists ? true
update server 0 's matchIndex from 238 to 238
server 1 receives snopshot from leader 2
server 1 commit snopshot to lastIncludedIndex 229
server 0 term 40 state 0(leader false)(heartFlag true)
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 238
current commitIndex 238 lastIncludedIndex 229 snapshot exists ? true
update server 0 's matchIndex from 238 to 238
server 1 receives appendEntry from leader 2 prevLogIndex 229
current commitIndex 229 lastIncludedIndex 229 snapshot exists ? true
follower server 1 commit index 230 command 1096381934884958562 
follower server 1 commit index 231 command 1790974162039071664 
follower server 1 commit index 232 command 9000278329375895160 
follower server 1 commit index 233 command 1681611598958946125 
follower server 1 commit index 234 command 2512788148568531500 
follower server 1 commit index 235 command 6625386511534738818 
follower server 1 commit index 236 command 7294056059473807945 
follower server 1 commit index 237 command 4395246222820984306 
follower server 1 commit index 238 command 5897227690024571981 
server 1 term 40 state 0(leader false)(heartFlag true)
getEntryTerm
server 2 term 40 state 2(leader true)(heartFlag false)
nextIndex
239 || 230 || 239 || 
matchIndex
238 || 229 || 238 || 
server 1 receives appendEntry from leader 2 prevLogIndex 229
current commitIndex 238 lastIncludedIndex 229 snapshot exists ? true
update server 1 's matchIndex from 229 to 238
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 238
current commitIndex 238 lastIncludedIndex 229 snapshot exists ? true
update server 0 's matchIndex from 238 to 238
server 1 receives appendEntry from leader 2 prevLogIndex 238
current commitIndex 238 lastIncludedIndex 229 snapshot exists ? true
update server 1 's matchIndex from 238 to 238
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 238
current commitIndex 238 lastIncludedIndex 229 snapshot exists ? true
update server 0 's matchIndex from 238 to 238
server 1 receives appendEntry from leader 2 prevLogIndex 238
current commitIndex 238 lastIncludedIndex 229 snapshot exists ? true
update server 1 's matchIndex from 238 to 238
server 0 term 40 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 term 40 state 0(leader false)(heartFlag true)
server 1 receives appendEntry from leader 2 prevLogIndex 238
current commitIndex 238 lastIncludedIndex 229 snapshot exists ? true
update server 1 's matchIndex from 238 to 238
server 0 receives appendEntry from leader 2 prevLogIndex 238
current commitIndex 238 lastIncludedIndex 229 snapshot exists ? true
update server 0 's matchIndex from 238 to 238
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 238
current commitIndex 238 lastIncludedIndex 229 snapshot exists ? true
update server 0 's matchIndex from 238 to 238
server 1 receives appendEntry from leader 2 prevLogIndex 238
current commitIndex 238 lastIncludedIndex 229 snapshot exists ? true
update server 1 's matchIndex from 238 to 238
server 2 term 40 state 2(leader true)(heartFlag false)
nextIndex
239 || 239 || 239 || 
matchIndex
238 || 238 || 238 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 238
current commitIndex 238 lastIncludedIndex 229 snapshot exists ? true
update server 0 's matchIndex from 238 to 238
server 1 receives appendEntry from leader 2 prevLogIndex 238
current commitIndex 238 lastIncludedIndex 229 snapshot exists ? true
update server 1 's matchIndex from 238 to 238
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 238
current commitIndex 238 lastIncludedIndex 229 snapshot exists ? true
update server 1 's matchIndex from 238 to 238
server 0 receives appendEntry from leader 2 prevLogIndex 238
current commitIndex 238 lastIncludedIndex 229 snapshot exists ? true
update server 0 's matchIndex from 238 to 238
server 1 term 40 state 0(leader false)(heartFlag true)
server 0 term 40 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 238
current commitIndex 238 lastIncludedIndex 229 snapshot exists ? true
update server 0 's matchIndex from 238 to 238
server 2 term 40 state 2(leader true)(heartFlag false)
nextIndex
239 || 239 || 239 || 
matchIndex
238 || 238 || 238 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 238
current commitIndex 238 lastIncludedIndex 229 snapshot exists ? true
update server 1 's matchIndex from 238 to 238
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 238
current commitIndex 238 lastIncludedIndex 229 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 238
current commitIndex 238 lastIncludedIndex 229 snapshot exists ? true
update server 1 's matchIndex from 238 to 238
update server 0 's matchIndex from 238 to 238
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 238
current commitIndex 238 lastIncludedIndex 229 snapshot exists ? true
update server 1 's matchIndex from 238 to 238
server 0 receives appendEntry from leader 2 prevLogIndex 238
current commitIndex 238 lastIncludedIndex 229 snapshot exists ? true
update server 0 's matchIndex from 238 to 238
server 1 term 40 state 0(leader false)(heartFlag true)
server 0 term 40 state 0(leader false)(heartFlag true)
server 2 term 40 state 2(leader true)(heartFlag false)
nextIndex
239 || 239 || 239 || 
matchIndex
238 || 238 || 238 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 238
current commitIndex 238 lastIncludedIndex 229 snapshot exists ? true
update server 1 's matchIndex from 238 to 238
server 0 receives appendEntry from leader 2 prevLogIndex 238
current commitIndex 238 lastIncludedIndex 229 snapshot exists ? true
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 238
current commitIndex 238 lastIncludedIndex 229 snapshot exists ? true
update server 0 's matchIndex from 238 to 238
server 1 receives appendEntry from leader 2 prevLogIndex 238
current commitIndex 238 lastIncludedIndex 229 snapshot exists ? true
update server 1 's matchIndex from 238 to 238
getEntryTerm
getEntryTerm
server 0 term 40 state 0(leader false)(heartFlag true)
server 1 receives appendEntry from leader 2 prevLogIndex 238
current commitIndex 238 lastIncludedIndex 229 snapshot exists ? true
update server 1 's matchIndex from 238 to 238
server 0 receives appendEntry from leader 2 prevLogIndex 238
current commitIndex 238 lastIncludedIndex 229 snapshot exists ? true
update server 0 's matchIndex from 238 to 238
server 1 term 40 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 238
current commitIndex 238 lastIncludedIndex 229 snapshot exists ? true
update server 0 's matchIndex from 238 to 238
server 2 term 40 state 2(leader true)(heartFlag false)
nextIndex
239 || 239 || 239 || 
matchIndex
238 || 238 || 238 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 238
current commitIndex 238 lastIncludedIndex 229 snapshot exists ? true
update server 0 's matchIndex from 238 to 238
server 1 receives appendEntry from leader 2 prevLogIndex 238
current commitIndex 238 lastIncludedIndex 229 snapshot exists ? true
update server 1 's matchIndex from 238 to 238
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 238
current commitIndex 238 lastIncludedIndex 229 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 238
current commitIndex 238 lastIncludedIndex 229 snapshot exists ? true
update server 1 's matchIndex from 238 to 238
update server 0 's matchIndex from 238 to 238
server 1 term 40 state 0(leader false)(heartFlag true)
server 0 term 40 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 238
current commitIndex 238 lastIncludedIndex 229 snapshot exists ? true
update server 0 's matchIndex from 238 to 238
append command 6808309252378522659
len(log) = 239
server 1 receives appendEntry from leader 2 prevLogIndex 238
current commitIndex 238 lastIncludedIndex 229 snapshot exists ? true
update server 1 's matchIndex from 238 to 238
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 238
current commitIndex 238 lastIncludedIndex 229 snapshot exists ? true
update server 1 's matchIndex from 238 to 239
getEntryTerm
leader server 2 commit index 239 command 6808309252378522659
server 2 takes snopshot and discards logs before index 239
getEntryTerm
discard index before 239(included)
server 2 finished snopshot
server 0 receives appendEntry from leader 2 prevLogIndex 238
current commitIndex 238 lastIncludedIndex 229 snapshot exists ? true
update server 0 's matchIndex from 238 to 239
server 2 term 40 state 2(leader true)(heartFlag false)
nextIndex
240 || 240 || 240 || 
matchIndex
239 || 239 || 239 || 
server 1 receives appendEntry from leader 2 prevLogIndex 239
getEntryTerm
current commitIndex 238 lastIncludedIndex 229 snapshot exists ? true
follower server 1 commit index 239 command 6808309252378522659 
update server 1 's matchIndex from 239 to 239
server 1 takes snopshot and discards logs before index 239
getEntryTerm
discard index before 239(included)
server 1 finished snopshot
server 0 receives appendEntry from leader 2 prevLogIndex 239
getEntryTerm
current commitIndex 238 lastIncludedIndex 229 snapshot exists ? true
follower server 0 commit index 239 command 6808309252378522659 
update server 0 's matchIndex from 239 to 239
server 0 takes snopshot and discards logs before index 239
getEntryTerm
discard index before 239(included)
server 0 finished snopshot
server 1 receives appendEntry from leader 2 prevLogIndex 239
current commitIndex 239 lastIncludedIndex 239 snapshot exists ? true
update server 1 's matchIndex from 239 to 239
server 1 term 40 state 0(leader false)(heartFlag true)
server 0 receives appendEntry from leader 2 prevLogIndex 239
current commitIndex 239 lastIncludedIndex 239 snapshot exists ? true
update server 0 's matchIndex from 239 to 239
server 0 term 40 state 0(leader false)(heartFlag true)
server 1 receives appendEntry from leader 2 prevLogIndex 239
current commitIndex 239 lastIncludedIndex 239 snapshot exists ? true
update server 1 's matchIndex from 239 to 239
server 0 receives appendEntry from leader 2 prevLogIndex 239
current commitIndex 239 lastIncludedIndex 239 snapshot exists ? true
update server 0 's matchIndex from 239 to 239
server 0 receives appendEntry from leader 2 prevLogIndex 239
current commitIndex 239 lastIncludedIndex 239 snapshot exists ? true
update server 0 's matchIndex from 239 to 239
server 1 receives appendEntry from leader 2 prevLogIndex 239
current commitIndex 239 lastIncludedIndex 239 snapshot exists ? true
update server 1 's matchIndex from 239 to 239
server 2 term 40 state 2(leader true)(heartFlag false)
nextIndex
240 || 240 || 240 || 
matchIndex
239 || 239 || 239 || 
server 1 receives appendEntry from leader 2 prevLogIndex 239
current commitIndex 239 lastIncludedIndex 239 snapshot exists ? true
update server 1 's matchIndex from 239 to 239
server 0 receives appendEntry from leader 2 prevLogIndex 239
current commitIndex 239 lastIncludedIndex 239 snapshot exists ? true
update server 0 's matchIndex from 239 to 239
server 1 receives appendEntry from leader 2 prevLogIndex 239
current commitIndex 239 lastIncludedIndex 239 snapshot exists ? true
update server 1 's matchIndex from 239 to 239
server 0 receives appendEntry from leader 2 prevLogIndex 239
current commitIndex 239 lastIncludedIndex 239 snapshot exists ? true
update server 0 's matchIndex from 239 to 239
server 1 term 40 state 0(leader false)(heartFlag true)
append command 6503595483967633793
len(log) = 240
server 0 term 40 state 0(leader false)(heartFlag true)
server 1 receives appendEntry from leader 2 prevLogIndex 239
current commitIndex 239 lastIncludedIndex 239 snapshot exists ? true
update server 1 's matchIndex from 239 to 240
getEntryTerm
leader server 2 commit index 240 command 6503595483967633793
server 2 term 40 state 2(leader true)(heartFlag false)
nextIndex
240 || 241 || 241 || 
matchIndex
239 || 240 || 240 || 
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 240
getEntryTerm
current commitIndex 239 lastIncludedIndex 239 snapshot exists ? true
follower server 1 commit index 240 command 6503595483967633793 
update server 1 's matchIndex from 240 to 240
server 1 term 40 state 0(leader false)(heartFlag true)
append command 5813441337799993737
len(log) = 241
append command 6921000176533614770
len(log) = 242
append command 7326217432581642567
len(log) = 243
append command 610978134897475212
len(log) = 244
append command 6882523046122345239
len(log) = 245
append command 5555305037594543363
len(log) = 246
append command 7370987020095043341
len(log) = 247
append command 9065468881896380659
len(log) = 248
append command 333413860720162957
len(log) = 249
append command 4834858844632009970
len(log) = 250
append command 1250958365077362496
len(log) = 251
append command 8672382780563416300
len(log) = 252
append command 7716590791569448061
len(log) = 253
append command 3315361213463715565
len(log) = 254
append command 7527776517674967975
len(log) = 255
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 240
current commitIndex 240 lastIncludedIndex 239 snapshot exists ? true
update server 1 's matchIndex from 240 to 255
getEntryTerm
leader server 2 commit index 241 command 5813441337799993737
leader server 2 commit index 242 command 6921000176533614770
leader server 2 commit index 243 command 7326217432581642567
leader server 2 commit index 244 command 610978134897475212
leader server 2 commit index 245 command 6882523046122345239
leader server 2 commit index 246 command 5555305037594543363
leader server 2 commit index 247 command 7370987020095043341
leader server 2 commit index 248 command 9065468881896380659
leader server 2 commit index 249 command 333413860720162957
leader server 2 commit index 250 command 4834858844632009970
server 2 takes snopshot and discards logs before index 249
getEntryTerm
discard index before 249(included)
server 2 finished snopshot
leader server 2 commit index 251 command 1250958365077362496
leader server 2 commit index 252 command 8672382780563416300
leader server 2 commit index 253 command 7716590791569448061
leader server 2 commit index 254 command 3315361213463715565
leader server 2 commit index 255 command 7527776517674967975
server 0 term 40 state 0(leader false)(heartFlag false)
server 0 term 40 doesn't hear any heartbeat
server 0 convert to candidate
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 255
getEntryTerm
current commitIndex 240 lastIncludedIndex 239 snapshot exists ? true
follower server 1 commit index 241 command 5813441337799993737 
follower server 1 commit index 242 command 6921000176533614770 
follower server 1 commit index 243 command 7326217432581642567 
follower server 1 commit index 244 command 610978134897475212 
follower server 1 commit index 245 command 6882523046122345239 
follower server 1 commit index 246 command 5555305037594543363 
follower server 1 commit index 247 command 7370987020095043341 
follower server 1 commit index 248 command 9065468881896380659 
follower server 1 commit index 249 command 333413860720162957 
follower server 1 commit index 250 command 4834858844632009970 
server 1 takes snopshot and discards logs before index 249
getEntryTerm
discard index before 249(included)
server 1 finished snopshot
follower server 1 commit index 251 command 1250958365077362496 
follower server 1 commit index 252 command 8672382780563416300 
follower server 1 commit index 253 command 7716590791569448061 
follower server 1 commit index 254 command 3315361213463715565 
follower server 1 commit index 255 command 7527776517674967975 
update server 1 's matchIndex from 255 to 255
append command 1508297271375232816
len(log) = 256
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 255
current commitIndex 255 lastIncludedIndex 249 snapshot exists ? true
update server 1 's matchIndex from 255 to 256
getEntryTerm
leader server 2 commit index 256 command 1508297271375232816
server 2 term 40 state 2(leader true)(heartFlag false)
nextIndex
240 || 257 || 257 || 
matchIndex
239 || 256 || 256 || 
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 256
getEntryTerm
current commitIndex 255 lastIncludedIndex 249 snapshot exists ? true
follower server 1 commit index 256 command 1508297271375232816 
update server 1 's matchIndex from 256 to 256
server 0 receives snopshot from leader 2
server 2 convert to follower
server 1 term 40 state 0(leader false)(heartFlag true)
server 0 term 41 ElectionTimeOut
server 0 convert to candidate
server 1 convert to follower
getEntryTerm
server 1 thinks candidate 0 is not up-to-date
server 1 grant false for candidate 0's requestVote
server 2 term 41 state 0(leader false)(heartFlag false)
server 2 term 41 doesn't hear any heartbeat
server 2 convert to candidate
getEntryTerm
getEntryTerm
server 0 already has a voteFor 0 but not candidate 2
server 0 grant false for candidate 2's requestVote
getEntryTerm
server 1 grant true for candidate 2's requestVote
server 2 convert to leader
server 2 term 42 send appendEntries
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 256
server 0 convert to follower
lastLogIndex 239, args.PrevLogIndex 256
server 1 receives appendEntry from leader 2 prevLogIndex 256
current commitIndex 256 lastIncludedIndex 249 snapshot exists ? true
update server 1 's matchIndex from 0 to 256
server 1 term 42 state 0(leader false)(heartFlag true)
getEntryTerm
server 0 receives snopshot from leader 2
server 0 commit snopshot to lastIncludedIndex 249
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 256
current commitIndex 256 lastIncludedIndex 249 snapshot exists ? true
update server 1 's matchIndex from 256 to 256
getEntryTerm
server 0 receives snopshot from leader 2
server 0 commit snopshot to lastIncludedIndex 249
server 1 receives appendEntry from leader 2 prevLogIndex 256
current commitIndex 256 lastIncludedIndex 249 snapshot exists ? true
update server 1 's matchIndex from 256 to 256
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 256
current commitIndex 256 lastIncludedIndex 249 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 249
current commitIndex 249 lastIncludedIndex 249 snapshot exists ? true
follower server 0 commit index 250 command 4834858844632009970 
follower server 0 commit index 251 command 1250958365077362496 
follower server 0 commit index 252 command 8672382780563416300 
follower server 0 commit index 253 command 7716590791569448061 
follower server 0 commit index 254 command 3315361213463715565 
follower server 0 commit index 255 command 7527776517674967975 
follower server 0 commit index 256 command 1508297271375232816 
update server 1 's matchIndex from 256 to 256
update server 0 's matchIndex from 249 to 256
server 0 term 42 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 256
current commitIndex 256 lastIncludedIndex 249 snapshot exists ? true
update server 0 's matchIndex from 256 to 256
server 1 receives appendEntry from leader 2 prevLogIndex 256
current commitIndex 256 lastIncludedIndex 249 snapshot exists ? true
update server 1 's matchIndex from 256 to 256
server 1 term 42 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 256
current commitIndex 256 lastIncludedIndex 249 snapshot exists ? true
update server 1 's matchIndex from 256 to 256
server 0 receives appendEntry from leader 2 prevLogIndex 256
current commitIndex 256 lastIncludedIndex 249 snapshot exists ? true
update server 0 's matchIndex from 256 to 256
server 0 term 42 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 256
current commitIndex 256 lastIncludedIndex 249 snapshot exists ? true
update server 1 's matchIndex from 256 to 256
server 0 receives appendEntry from leader 2 prevLogIndex 256
current commitIndex 256 lastIncludedIndex 249 snapshot exists ? true
getEntryTerm
getEntryTerm
server 2 term 42 state 2(leader true)(heartFlag false)
nextIndex
257 || 257 || 257 || 
matchIndex
256 || 256 || 256 || 
server 0 receives appendEntry from leader 2 prevLogIndex 256
current commitIndex 256 lastIncludedIndex 249 snapshot exists ? true
update server 0 's matchIndex from 256 to 256
append command 3335595547075381749
len(log) = 257
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 256
current commitIndex 256 lastIncludedIndex 249 snapshot exists ? true
update server 1 's matchIndex from 256 to 257
server 1 term 42 state 0(leader false)(heartFlag true)
getEntryTerm
leader server 2 commit index 257 command 3335595547075381749
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 257
getEntryTerm
current commitIndex 256 lastIncludedIndex 249 snapshot exists ? true
follower server 1 commit index 257 command 3335595547075381749 
update server 1 's matchIndex from 257 to 257
append command 3595681462355278981
len(log) = 258
append command 2339024935131478834
len(log) = 259
append command 2818983912936426697
len(log) = 260
append command 3902514052805330488
len(log) = 261
append command 3225615577814446269
len(log) = 262
append command 5004248349229245884
len(log) = 263
append command 5930047924789362385
len(log) = 264
append command 6736526312490047111
len(log) = 265
append command 8745599431845936649
len(log) = 266
append command 6264043729909153715
len(log) = 267
server 0 term 42 state 0(leader false)(heartFlag true)
server 2 term 42 state 2(leader true)(heartFlag false)
nextIndex
257 || 258 || 268 || 
matchIndex
256 || 257 || 267 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 42 state 0(leader false)(heartFlag true)
server 1 receives appendEntry from leader 2 prevLogIndex 257
current commitIndex 257 lastIncludedIndex 249 snapshot exists ? true
update server 1 's matchIndex from 257 to 267
getEntryTerm
leader server 2 commit index 258 command 3595681462355278981
leader server 2 commit index 259 command 2339024935131478834
leader server 2 commit index 260 command 2818983912936426697
server 2 takes snopshot and discards logs before index 259
getEntryTerm
discard index before 259(included)
server 2 finished snopshot
leader server 2 commit index 261 command 3902514052805330488
leader server 2 commit index 262 command 3225615577814446269
leader server 2 commit index 263 command 5004248349229245884
leader server 2 commit index 264 command 5930047924789362385
leader server 2 commit index 265 command 6736526312490047111
leader server 2 commit index 266 command 8745599431845936649
leader server 2 commit index 267 command 6264043729909153715
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 267
getEntryTerm
current commitIndex 257 lastIncludedIndex 249 snapshot exists ? true
follower server 1 commit index 258 command 3595681462355278981 
follower server 1 commit index 259 command 2339024935131478834 
follower server 1 commit index 260 command 2818983912936426697 
server 1 takes snopshot and discards logs before index 259
getEntryTerm
discard index before 259(included)
server 1 finished snopshot
follower server 1 commit index 261 command 3902514052805330488 
follower server 1 commit index 262 command 3225615577814446269 
follower server 1 commit index 263 command 5004248349229245884 
follower server 1 commit index 264 command 5930047924789362385 
follower server 1 commit index 265 command 6736526312490047111 
follower server 1 commit index 266 command 8745599431845936649 
follower server 1 commit index 267 command 6264043729909153715 
append command 9108268622693248564
len(log) = 268
server 0 term 42 state 0(leader false)(heartFlag false)
server 0 term 42 doesn't hear any heartbeat
server 0 convert to candidate
getEntryTerm
getEntryTerm
server 1 convert to follower
getEntryTerm
server 1 thinks candidate 0 is not up-to-date
server 1 grant false for candidate 0's requestVote
getEntryTerm
server 2 term 42 state 2(leader true)(heartFlag false)
nextIndex
257 || 268 || 269 || 
matchIndex
256 || 267 || 268 || 
server 1 receives appendEntry from leader 2 prevLogIndex 267
server 2 convert to follower
server 1 term 43 state 0(leader false)(heartFlag true)
server 0 term 43 ElectionTimeOut
server 0 convert to candidate
getEntryTerm
getEntryTerm
server 1 convert to follower
getEntryTerm
server 1 thinks candidate 0 is not up-to-date
server 1 grant false for candidate 0's requestVote
server 2 convert to follower
getEntryTerm
server 2 thinks candidate 0 is not up-to-date
server 2 grant false for candidate 0's requestVote
server 2 term 44 state 0(leader false)(heartFlag false)
server 2 term 44 doesn't hear any heartbeat
server 2 convert to candidate
getEntryTerm
getEntryTerm
server 1 convert to follower
getEntryTerm
server 1 grant true for candidate 2's requestVote
server 2 convert to leader
server 2 term 45 send appendEntries
getEntryTerm
getEntryTerm
server 0 convert to follower
getEntryTerm
server 0 grant true for candidate 2's requestVote
server 0 receives appendEntry from leader 2 prevLogIndex 268
lastLogIndex 256, args.PrevLogIndex 268
server 1 receives appendEntry from leader 2 prevLogIndex 268
lastLogIndex 267, args.PrevLogIndex 268
getEntryTerm
server 0 receives snopshot from leader 2
server 0 commit snopshot to lastIncludedIndex 259
server 1 receives appendEntry from leader 2 prevLogIndex 267
current commitIndex 267 lastIncludedIndex 259 snapshot exists ? true
update server 1 's matchIndex from 0 to 268
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives snopshot from leader 2
server 0 commit snopshot to lastIncludedIndex 259
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 268
getEntryTerm
current commitIndex 267 lastIncludedIndex 259 snapshot exists ? true
update server 1 's matchIndex from 268 to 268
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 45 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 259
current commitIndex 259 lastIncludedIndex 259 snapshot exists ? true
follower server 0 commit index 260 command 2818983912936426697 
follower server 0 commit index 261 command 3902514052805330488 
follower server 0 commit index 262 command 3225615577814446269 
follower server 0 commit index 263 command 5004248349229245884 
follower server 0 commit index 264 command 5930047924789362385 
follower server 0 commit index 265 command 6736526312490047111 
follower server 0 commit index 266 command 8745599431845936649 
follower server 0 commit index 267 command 6264043729909153715 
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 268
getEntryTerm
current commitIndex 267 lastIncludedIndex 259 snapshot exists ? true
update server 1 's matchIndex from 268 to 268
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 259
current commitIndex 267 lastIncludedIndex 259 snapshot exists ? true
update server 0 's matchIndex from 259 to 268
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 268
getEntryTerm
current commitIndex 267 lastIncludedIndex 259 snapshot exists ? true
update server 1 's matchIndex from 268 to 268
getEntryTerm
getEntryTerm
server 0 term 45 state 0(leader false)(heartFlag true)
server 0 receives appendEntry from leader 2 prevLogIndex 268
getEntryTerm
current commitIndex 267 lastIncludedIndex 259 snapshot exists ? true
update server 0 's matchIndex from 268 to 268
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 45 state 0(leader false)(heartFlag true)
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 268
getEntryTerm
current commitIndex 267 lastIncludedIndex 259 snapshot exists ? true
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 268
getEntryTerm
current commitIndex 267 lastIncludedIndex 259 snapshot exists ? true
update server 1 's matchIndex from 268 to 268
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 268
getEntryTerm
current commitIndex 267 lastIncludedIndex 259 snapshot exists ? true
update server 0 's matchIndex from 268 to 268
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 268
getEntryTerm
current commitIndex 267 lastIncludedIndex 259 snapshot exists ? true
update server 1 's matchIndex from 268 to 268
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 45 state 2(leader true)(heartFlag false)
nextIndex
269 || 269 || 269 || 
matchIndex
268 || 268 || 268 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 268
getEntryTerm
current commitIndex 267 lastIncludedIndex 259 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 268
getEntryTerm
current commitIndex 267 lastIncludedIndex 259 snapshot exists ? true
update server 1 's matchIndex from 268 to 268
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 268
getEntryTerm
current commitIndex 267 lastIncludedIndex 259 snapshot exists ? true
update server 0 's matchIndex from 268 to 268
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 45 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 term 45 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 268
getEntryTerm
current commitIndex 267 lastIncludedIndex 259 snapshot exists ? true
update server 1 's matchIndex from 268 to 268
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 268
getEntryTerm
current commitIndex 267 lastIncludedIndex 259 snapshot exists ? true
update server 0 's matchIndex from 268 to 268
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 45 state 2(leader true)(heartFlag false)
nextIndex
269 || getEntryTerm
269 || 269 || 
matchIndex
268 || 268 || 268 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 268
getEntryTerm
current commitIndex 267 lastIncludedIndex 259 snapshot exists ? true
update server 0 's matchIndex from 268 to 268
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 268
getEntryTerm
current commitIndex 267 lastIncludedIndex 259 snapshot exists ? true
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 268
getEntryTerm
current commitIndex 267 lastIncludedIndex 259 snapshot exists ? true
update server 0 's matchIndex from 268 to 268
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 268
getEntryTerm
current commitIndex 267 lastIncludedIndex 259 snapshot exists ? true
update server 1 's matchIndex from 268 to 268
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 45 state 0(leader false)(heartFlag true)
server 0 term 45 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 268
getEntryTerm
current commitIndex 267 lastIncludedIndex 259 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 268
getEntryTerm
current commitIndex 267 lastIncludedIndex 259 snapshot exists ? true
update server 1 's matchIndex from 268 to 268
update server 0 's matchIndex from 268 to 268
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 45 state 2(leader true)(heartFlag false)
nextIndex
269 || 269 || 269 || 
matchIndex
268 || 268 || 268 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
append command 9108268622693248564
len(log) = 269
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 268
getEntryTerm
current commitIndex 267 lastIncludedIndex 259 snapshot exists ? true
update server 1 's matchIndex from 268 to 269
getEntryTerm
leader server 2 commit index 268 command 9108268622693248564
leader server 2 commit index 269 command 9108268622693248564
server 0 receives appendEntry from leader 2 prevLogIndex 268
getEntryTerm
server 2 takes snopshot and discards logs before index 269
getEntryTerm
discard index before 269(included)
current commitIndex 267 lastIncludedIndex 259 snapshot exists ? true
server 2 finished snopshot
update server 0 's matchIndex from 268 to 269
server 1 term 45 state 0(leader false)(heartFlag true)
server 1 receives appendEntry from leader 2 prevLogIndex 269
getEntryTerm
current commitIndex 267 lastIncludedIndex 259 snapshot exists ? true
follower server 1 commit index 268 command 9108268622693248564 
follower server 1 commit index 269 command 9108268622693248564 
update server 1 's matchIndex from 269 to 269
server 1 takes snopshot and discards logs before index 269
getEntryTerm
discard index before 269(included)
server 1 finished snopshot
server 0 term 45 state 0(leader false)(heartFlag true)
server 1 receives appendEntry from leader 2 prevLogIndex 269
current commitIndex 269 lastIncludedIndex 269 snapshot exists ? true
update server 1 's matchIndex from 269 to 269
server 0 receives appendEntry from leader 2 prevLogIndex 269
getEntryTerm
current commitIndex 267 lastIncludedIndex 259 snapshot exists ? true
follower server 0 commit index 268 command 9108268622693248564 
follower server 0 commit index 269 command 9108268622693248564 
update server 0 's matchIndex from 269 to 269
server 0 takes snopshot and discards logs before index 269
getEntryTerm
discard index before 269(included)
server 0 finished snopshot
server 2 term 45 state 2(leader true)(heartFlag false)
nextIndex
270 || 270 || 270 || 
matchIndex
269 || 269 || 269 || 
server 0 receives appendEntry from leader 2 prevLogIndex 269
current commitIndex 269 lastIncludedIndex 269 snapshot exists ? true
update server 0 's matchIndex from 269 to 269
server 1 receives appendEntry from leader 2 prevLogIndex 269
current commitIndex 269 lastIncludedIndex 269 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 269
current commitIndex 269 lastIncludedIndex 269 snapshot exists ? true
update server 1 's matchIndex from 269 to 269
server 1 term 45 state 0(leader false)(heartFlag true)
server 0 receives appendEntry from leader 2 prevLogIndex 269
current commitIndex 269 lastIncludedIndex 269 snapshot exists ? true
server 0 term 45 state 0(leader false)(heartFlag true)
server 0 receives appendEntry from leader 2 prevLogIndex 269
current commitIndex 269 lastIncludedIndex 269 snapshot exists ? true
update server 0 's matchIndex from 269 to 269
server 0 receives appendEntry from leader 2 prevLogIndex 269
current commitIndex 269 lastIncludedIndex 269 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 269
current commitIndex 269 lastIncludedIndex 269 snapshot exists ? true
update server 1 's matchIndex from 269 to 269
server 2 term 45 state 2(leader true)(heartFlag false)
nextIndex
270 || 270 || 270 || 
matchIndex
269 || 269 || 269 || 
server 0 receives appendEntry from leader 2 prevLogIndex 269
current commitIndex 269 lastIncludedIndex 269 snapshot exists ? true
update server 0 's matchIndex from 269 to 269
server 1 receives appendEntry from leader 2 prevLogIndex 269
current commitIndex 269 lastIncludedIndex 269 snapshot exists ? true
server 1 term 45 state 0(leader false)(heartFlag true)
server 0 term 45 state 0(leader false)(heartFlag true)
server 2 term 45 state 2(leader true)(heartFlag false)
nextIndex
270 || 270 || 270 || 
matchIndex
269 || 269 || 269 || 
server 1 term 45 state 0(leader false)(heartFlag false)
server 1 term 45 doesn't hear any heartbeat
server 1 convert to candidate
server 0 convert to follower
server 0 grant true for candidate 1's requestVote
server 1 convert to leader
server 1 term 46 send appendEntries
append command 974860971722972102
len(log) = 270
server 0 receives appendEntry from leader 1 prevLogIndex 269
current commitIndex 269 lastIncludedIndex 269 snapshot exists ? true
update server 0 's matchIndex from 0 to 269
server 0 term 46 state 0(leader false)(heartFlag true)
server 0 receives appendEntry from leader 1 prevLogIndex 269
current commitIndex 269 lastIncludedIndex 269 snapshot exists ? true
update server 0 's matchIndex from 269 to 270
getEntryTerm
leader server 1 commit index 270 command 974860971722972102
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 270
getEntryTerm
current commitIndex 269 lastIncludedIndex 269 snapshot exists ? true
follower server 0 commit index 270 command 974860971722972102 
update server 0 's matchIndex from 270 to 270
append command 7420016470277713997
len(log) = 271
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 270
current commitIndex 270 lastIncludedIndex 269 snapshot exists ? true
update server 0 's matchIndex from 270 to 271
getEntryTerm
leader server 1 commit index 271 command 7420016470277713997
server 2 term 45 state 2(leader true)(heartFlag false)
nextIndex
270 || 270 || 270 || 
matchIndex
269 || 269 || 269 || 
server 0 term 46 state 0(leader false)(heartFlag true)
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 271
getEntryTerm
current commitIndex 270 lastIncludedIndex 269 snapshot exists ? true
follower server 0 commit index 271 command 7420016470277713997 
update server 0 's matchIndex from 271 to 271
append command 737610021755344759
len(log) = 272
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 271
current commitIndex 271 lastIncludedIndex 269 snapshot exists ? true
update server 0 's matchIndex from 271 to 272
getEntryTerm
leader server 1 commit index 272 command 737610021755344759
server 1 receives appendEntry from leader 2 prevLogIndex 269
server 2 convert to follower
server 0 receives appendEntry from leader 2 prevLogIndex 269
server 2 receives appendEntry from leader 1 prevLogIndex 269
current commitIndex 269 lastIncludedIndex 269 snapshot exists ? true
follower server 2 commit index 270 command 974860971722972102 
follower server 2 commit index 271 command 7420016470277713997 
update server 2 's matchIndex from 0 to 272
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 272
getEntryTerm
current commitIndex 271 lastIncludedIndex 269 snapshot exists ? true
follower server 2 commit index 272 command 737610021755344759 
update server 2 's matchIndex from 272 to 272
server 0 receives appendEntry from leader 1 prevLogIndex 272
getEntryTerm
current commitIndex 271 lastIncludedIndex 269 snapshot exists ? true
follower server 0 commit index 272 command 737610021755344759 
update server 0 's matchIndex from 272 to 272
server 2 term 46 state 0(leader false)(heartFlag true)
server 0 term 46 state 0(leader false)(heartFlag true)
server 1 term 46 state 2(leader true)(heartFlag false)
nextIndex
273 || 273 || 273 || 
matchIndex
272 || 272 || 272 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 272
current commitIndex 272 lastIncludedIndex 269 snapshot exists ? true
update server 2 's matchIndex from 272 to 272
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 272
current commitIndex 272 lastIncludedIndex 269 snapshot exists ? true
update server 2 's matchIndex from 272 to 272
server 0 receives appendEntry from leader 1 prevLogIndex 272
current commitIndex 272 lastIncludedIndex 269 snapshot exists ? true
update server 0 's matchIndex from 272 to 272
server 0 term 46 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 272
current commitIndex 272 lastIncludedIndex 269 snapshot exists ? true
update server 2 's matchIndex from 272 to 272
server 0 receives appendEntry from leader 1 prevLogIndex 272
current commitIndex 272 lastIncludedIndex 269 snapshot exists ? true
update server 0 's matchIndex from 272 to 272
server 1 term 46 state 2(leader true)(heartFlag false)
nextIndex
273 || 273 || 273 || 
matchIndex
272 || 272 || 272 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 272
current commitIndex 272 lastIncludedIndex 269 snapshot exists ? true
update server 0 's matchIndex from 272 to 272
server 2 receives appendEntry from leader 1 prevLogIndex 272
current commitIndex 272 lastIncludedIndex 269 snapshot exists ? true
update server 2 's matchIndex from 272 to 272
server 2 term 46 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 272
current commitIndex 272 lastIncludedIndex 269 snapshot exists ? true
update server 2 's matchIndex from 272 to 272
server 0 receives appendEntry from leader 1 prevLogIndex 272
current commitIndex 272 lastIncludedIndex 269 snapshot exists ? true
update server 0 's matchIndex from 272 to 272
append command 4337799232867160261
len(log) = 273
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 272
current commitIndex 272 lastIncludedIndex 269 snapshot exists ? true
update server 0 's matchIndex from 272 to 273
getEntryTerm
leader server 1 commit index 273 command 4337799232867160261
server 1 term 46 state 2(leader true)(heartFlag false)
nextIndex
274 || 274 || 273 || 
matchIndex
273 || 273 || 272 || 
getEntryTerm
getEntryTerm
server 0 term 46 state 0(leader false)(heartFlag true)
server 0 receives appendEntry from leader 1 prevLogIndex 273
getEntryTerm
current commitIndex 272 lastIncludedIndex 269 snapshot exists ? true
follower server 0 commit index 273 command 4337799232867160261 
update server 0 's matchIndex from 273 to 273
append command 1525197888710760693
len(log) = 274
append command 7725808975851934465
len(log) = 275
append command 2344531297649078347
len(log) = 276
append command 3292156845979103854
len(log) = 277
append command 17867079520694482
len(log) = 278
append command 3220302029257724901
len(log) = 279
append command 8664283973414550790
len(log) = 280
append command 2282903474314446339
len(log) = 281
append command 8773674114412030804
len(log) = 282
append command 6869797347804733862
len(log) = 283
append command 1098953582131988462
len(log) = 284
append command 8806421352305806022
len(log) = 285
server 2 term 46 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 273
current commitIndex 273 lastIncludedIndex 269 snapshot exists ? true
update server 0 's matchIndex from 273 to 285
getEntryTerm
leader server 1 commit index 274 command 1525197888710760693
leader server 1 commit index 275 command 7725808975851934465
leader server 1 commit index 276 command 2344531297649078347
leader server 1 commit index 277 command 3292156845979103854
leader server 1 commit index 278 command 17867079520694482
leader server 1 commit index 279 command 3220302029257724901
leader server 1 commit index 280 command 8664283973414550790
server 1 takes snopshot and discards logs before index 279
getEntryTerm
discard index before 279(included)
server 1 finished snopshot
leader server 1 commit index 281 command 2282903474314446339
leader server 1 commit index 282 command 8773674114412030804
leader server 1 commit index 283 command 6869797347804733862
leader server 1 commit index 284 command 1098953582131988462
leader server 1 commit index 285 command 8806421352305806022
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 285
getEntryTerm
current commitIndex 273 lastIncludedIndex 269 snapshot exists ? true
follower server 0 commit index 274 command 1525197888710760693 
follower server 0 commit index 275 command 7725808975851934465 
follower server 0 commit index 276 command 2344531297649078347 
follower server 0 commit index 277 command 3292156845979103854 
follower server 0 commit index 278 command 17867079520694482 
follower server 0 commit index 279 command 3220302029257724901 
follower server 0 commit index 280 command 8664283973414550790 
server 0 takes snopshot and discards logs before index 279
getEntryTerm
discard index before 279(included)
server 0 finished snopshot
follower server 0 commit index 281 command 2282903474314446339 
follower server 0 commit index 282 command 8773674114412030804 
follower server 0 commit index 283 command 6869797347804733862 
follower server 0 commit index 284 command 1098953582131988462 
follower server 0 commit index 285 command 8806421352305806022 
update server 0 's matchIndex from 285 to 285
append command 2940647277928306227
len(log) = 286
server 0 term 46 state 0(leader false)(heartFlag true)
server 1 term 46 state 2(leader true)(heartFlag false)
nextIndex
286 || 287 || 273 || 
matchIndex
285 || 286 || 272 || 
getEntryTerm
server 2 receives snopshot from leader 1
server 2 commit snopshot to lastIncludedIndex 279
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 279
current commitIndex 279 lastIncludedIndex 279 snapshot exists ? true
follower server 2 commit index 280 command 8664283973414550790 
follower server 2 commit index 281 command 2282903474314446339 
follower server 2 commit index 282 command 8773674114412030804 
follower server 2 commit index 283 command 6869797347804733862 
follower server 2 commit index 284 command 1098953582131988462 
follower server 2 commit index 285 command 8806421352305806022 
update server 2 's matchIndex from 279 to 286
server 0 receives appendEntry from leader 1 prevLogIndex 285
current commitIndex 285 lastIncludedIndex 279 snapshot exists ? true
update server 0 's matchIndex from 285 to 286
getEntryTerm
leader server 1 commit index 286 command 2940647277928306227
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 286
getEntryTerm
current commitIndex 285 lastIncludedIndex 279 snapshot exists ? true
follower server 0 commit index 286 command 2940647277928306227 
update server 0 's matchIndex from 286 to 286
server 2 term 46 state 0(leader false)(heartFlag true)
server 2 receives appendEntry from leader 1 prevLogIndex 286
getEntryTerm
current commitIndex 285 lastIncludedIndex 279 snapshot exists ? true
follower server 2 commit index 286 command 2940647277928306227 
update server 2 's matchIndex from 286 to 286
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 286
current commitIndex 286 lastIncludedIndex 279 snapshot exists ? true
update server 2 's matchIndex from 286 to 286
server 0 term 46 state 0(leader false)(heartFlag true)
server 0 receives appendEntry from leader 1 prevLogIndex 286
current commitIndex 286 lastIncludedIndex 279 snapshot exists ? true
update server 0 's matchIndex from 286 to 286
server 1 term 46 state 2(leader true)(heartFlag false)
nextIndex
287 || 287 || 287 || 
matchIndex
286 || 286 || 286 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 286
current commitIndex 286 lastIncludedIndex 279 snapshot exists ? true
update server 2 's matchIndex from 286 to 286
server 0 receives appendEntry from leader 1 prevLogIndex 286
current commitIndex 286 lastIncludedIndex 279 snapshot exists ? true
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 286
current commitIndex 286 lastIncludedIndex 279 snapshot exists ? true
update server 0 's matchIndex from 286 to 286
server 2 receives appendEntry from leader 1 prevLogIndex 286
current commitIndex 286 lastIncludedIndex 279 snapshot exists ? true
update server 2 's matchIndex from 286 to 286
server 2 term 46 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 286
current commitIndex 286 lastIncludedIndex 279 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 286
current commitIndex 286 lastIncludedIndex 279 snapshot exists ? true
update server 2 's matchIndex from 286 to 286
server 0 term 46 state 0(leader false)(heartFlag true)
server 1 term 46 state 2(leader true)(heartFlag false)
nextIndex
287 || 287 || 287 || 
matchIndex
286 || 286 || 286 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 286
current commitIndex 286 lastIncludedIndex 279 snapshot exists ? true
update server 2 's matchIndex from 286 to 286
server 0 receives appendEntry from leader 1 prevLogIndex 286
current commitIndex 286 lastIncludedIndex 279 snapshot exists ? true
update server 0 's matchIndex from 286 to 286
append command 7987558863669355265
len(log) = 287
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 286
current commitIndex 286 lastIncludedIndex 279 snapshot exists ? true
update server 0 's matchIndex from 286 to 287
getEntryTerm
leader server 1 commit index 287 command 7987558863669355265
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 287
getEntryTerm
current commitIndex 286 lastIncludedIndex 279 snapshot exists ? true
follower server 0 commit index 287 command 7987558863669355265 
update server 0 's matchIndex from 287 to 287
append command 6526746254116131562
len(log) = 288
append command 6240463058913339626
len(log) = 289
append command 2394481983523128862
len(log) = 290
append command 3286148557691662554
len(log) = 291
append command 5219989384757013827
len(log) = 292
append command 1872374580226936933
len(log) = 293
append command 2883732472131647831
len(log) = 294
append command 5715395274732090557
len(log) = 295
server 2 term 46 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 term 46 state 0(leader false)(heartFlag true)
server 1 term 46 state 2(leader true)(heartFlag false)
nextIndex
288 || 296 || 287 || 
matchIndex
287 || 295 || 286 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 287
current commitIndex 287 lastIncludedIndex 279 snapshot exists ? true
update server 0 's matchIndex from 287 to 295
getEntryTerm
leader server 1 commit index 288 command 6526746254116131562
leader server 1 commit index 289 command 6240463058913339626
leader server 1 commit index 290 command 2394481983523128862
server 1 takes snopshot and discards logs before index 289
getEntryTerm
discard index before 289(included)
server 1 finished snopshot
leader server 1 commit index 291 command 3286148557691662554
leader server 1 commit index 292 command 5219989384757013827
leader server 1 commit index 293 command 1872374580226936933
leader server 1 commit index 294 command 2883732472131647831
leader server 1 commit index 295 command 5715395274732090557
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 295
getEntryTerm
current commitIndex 287 lastIncludedIndex 279 snapshot exists ? true
follower server 0 commit index 288 command 6526746254116131562 
follower server 0 commit index 289 command 6240463058913339626 
follower server 0 commit index 290 command 2394481983523128862 
server 0 takes snopshot and discards logs before index 289
getEntryTerm
discard index before 289(included)
server 0 finished snopshot
follower server 0 commit index 291 command 3286148557691662554 
follower server 0 commit index 292 command 5219989384757013827 
follower server 0 commit index 293 command 1872374580226936933 
follower server 0 commit index 294 command 2883732472131647831 
follower server 0 commit index 295 command 5715395274732090557 
update server 0 's matchIndex from 295 to 295
append command 7176853661555347915
len(log) = 296
server 2 term 46 state 0(leader false)(heartFlag false)
server 2 term 46 doesn't hear any heartbeat
server 2 convert to candidate
getEntryTerm
getEntryTerm
server 0 convert to follower
getEntryTerm
server 0 thinks candidate 2 is not up-to-date
server 0 grant false for candidate 2's requestVote
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 295
server 1 convert to follower
server 1 term 47 state 0(leader false)(heartFlag false)
server 1 term 47 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 0 convert to follower
getEntryTerm
server 0 grant true for candidate 1's requestVote
server 1 convert to leader
server 1 term 48 send appendEntries
getEntryTerm
getEntryTerm
server 2 convert to follower
getEntryTerm
server 2 grant true for candidate 1's requestVote
server 0 receives appendEntry from leader 1 prevLogIndex 296
lastLogIndex 295, args.PrevLogIndex 296
server 2 receives appendEntry from leader 1 prevLogIndex 296
lastLogIndex 286, args.PrevLogIndex 296
server 0 term 48 state 0(leader false)(heartFlag true)
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 295
current commitIndex 295 lastIncludedIndex 289 snapshot exists ? true
update server 0 's matchIndex from 0 to 296
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 296
getEntryTerm
current commitIndex 295 lastIncludedIndex 289 snapshot exists ? true
update server 0 's matchIndex from 296 to 296
getEntryTerm
server 2 receives snopshot from leader 1
server 2 commit snopshot to lastIncludedIndex 289
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 289
current commitIndex 289 lastIncludedIndex 289 snapshot exists ? true
follower server 2 commit index 290 command 2394481983523128862 
follower server 2 commit index 291 command 3286148557691662554 
follower server 2 commit index 292 command 5219989384757013827 
follower server 2 commit index 293 command 1872374580226936933 
follower server 2 commit index 294 command 2883732472131647831 
follower server 2 commit index 295 command 5715395274732090557 
update server 2 's matchIndex from 289 to 296
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 296
getEntryTerm
current commitIndex 295 lastIncludedIndex 289 snapshot exists ? true
update server 0 's matchIndex from 296 to 296
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 48 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 296
getEntryTerm
current commitIndex 295 lastIncludedIndex 289 snapshot exists ? true
update server 2 's matchIndex from 296 to 296
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 296
getEntryTerm
current commitIndex 295 lastIncludedIndex 289 snapshot exists ? true
update server 0 's matchIndex from 296 to 296
server 2 term 48 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 296
getEntryTerm
current commitIndex 295 lastIncludedIndex 289 snapshot exists ? true
update server 2 's matchIndex from 296 to 296
getEntryTerm
server 1 term 48 state 2(leader true)(heartFlag false)
nextIndex
297 || 297 || 297 || 
matchIndex
296 || 296 || 296 || 
server 0 receives appendEntry from leader 1 prevLogIndex 296
getEntryTerm
current commitIndex 295 lastIncludedIndex 289 snapshot exists ? true
update server 0 's matchIndex from 296 to 296
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 296
getEntryTerm
current commitIndex 295 lastIncludedIndex 289 snapshot exists ? true
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 296
getEntryTerm
current commitIndex 295 lastIncludedIndex 289 snapshot exists ? true
getEntryTerm
update server 2 's matchIndex from 296 to 296
getEntryTerm
server 0 term 48 state 0(leader false)(heartFlag true)
server 0 receives appendEntry from leader 1 prevLogIndex 296
getEntryTerm
current commitIndex 295 lastIncludedIndex 289 snapshot exists ? true
update server 0 's matchIndex from 296 to 296
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 48 state 0(leader false)(heartFlag true)
server 0 receives appendEntry from leader 1 prevLogIndex 296
getEntryTerm
current commitIndex 295 lastIncludedIndex 289 snapshot exists ? true
update server 0 's matchIndex from 296 to 296
server 2 receives appendEntry from leader 1 prevLogIndex 296
getEntryTerm
current commitIndex 295 lastIncludedIndex 289 snapshot exists ? true
update server 2 's matchIndex from 296 to 296
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 48 state 2(leader true)(heartFlag false)
nextIndex
297 || 297 || 297 || 
matchIndex
296 || 296 || 296 || 
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 296
getEntryTerm
current commitIndex 295 lastIncludedIndex 289 snapshot exists ? true
update server 2 's matchIndex from 296 to 296
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 296
getEntryTerm
current commitIndex 295 lastIncludedIndex 289 snapshot exists ? true
update server 2 's matchIndex from 296 to 296
server 0 receives appendEntry from leader 1 prevLogIndex 296
getEntryTerm
current commitIndex 295 lastIncludedIndex 289 snapshot exists ? true
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 48 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 296
getEntryTerm
current commitIndex 295 lastIncludedIndex 289 snapshot exists ? true
update server 2 's matchIndex from 296 to 296
server 0 receives appendEntry from leader 1 prevLogIndex 296
getEntryTerm
current commitIndex 295 lastIncludedIndex 289 snapshot exists ? true
update server 0 's matchIndex from 296 to 296
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 48 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 48 state 2(leader true)(heartFlag false)
nextIndex
297 || 297 || 297 || 
matchIndex
296 || 296 || 296 || 
server 0 receives appendEntry from leader 1 prevLogIndex 296
getEntryTerm
current commitIndex 295 lastIncludedIndex 289 snapshot exists ? true
update server 0 's matchIndex from 296 to 296
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 296
getEntryTerm
current commitIndex 295 lastIncludedIndex 289 snapshot exists ? true
update server 2 's matchIndex from 296 to 296
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 296
getEntryTerm
current commitIndex 295 lastIncludedIndex 289 snapshot exists ? true
update server 0 's matchIndex from 296 to 296
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 296
getEntryTerm
current commitIndex 295 lastIncludedIndex 289 snapshot exists ? true
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 296
getEntryTerm
current commitIndex 295 lastIncludedIndex 289 snapshot exists ? true
update server 0 's matchIndex from 296 to 296
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 296
getEntryTerm
current commitIndex 295 lastIncludedIndex 289 snapshot exists ? true
update server 2 's matchIndex from 296 to 296
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 48 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 296
getEntryTerm
current commitIndex 295 lastIncludedIndex 289 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 296
getEntryTerm
current commitIndex 295 lastIncludedIndex 289 snapshot exists ? true
update server 2 's matchIndex from 296 to 296
getEntryTerm
getEntryTerm
server 1 term 48 state 2(leader true)(heartFlag false)
nextIndex
297 || 297 || 297 || 
matchIndex
296 || 296 || 296 || 
getEntryTerm
server 2 term 48 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 296
getEntryTerm
current commitIndex 295 lastIncludedIndex 289 snapshot exists ? true
update server 0 's matchIndex from 296 to 296
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
append command 7176853661555347915
len(log) = 297
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 296
getEntryTerm
current commitIndex 295 lastIncludedIndex 289 snapshot exists ? true
update server 2 's matchIndex from 296 to 297
getEntryTerm
leader server 1 commit index 296 command 7176853661555347915
leader server 1 commit index 297 command 7176853661555347915
server 0 receives appendEntry from leader 1 prevLogIndex 296
getEntryTerm
current commitIndex 295 lastIncludedIndex 289 snapshot exists ? true
update server 0 's matchIndex from 296 to 297
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 297
getEntryTerm
current commitIndex 295 lastIncludedIndex 289 snapshot exists ? true
follower server 2 commit index 296 command 7176853661555347915 
follower server 2 commit index 297 command 7176853661555347915 
update server 2 's matchIndex from 297 to 297
server 0 receives appendEntry from leader 1 prevLogIndex 297
getEntryTerm
current commitIndex 295 lastIncludedIndex 289 snapshot exists ? true
follower server 0 commit index 296 command 7176853661555347915 
follower server 0 commit index 297 command 7176853661555347915 
update server 0 's matchIndex from 297 to 297
server 0 term 48 state 0(leader false)(heartFlag true)
server 2 term 48 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 297
current commitIndex 297 lastIncludedIndex 289 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 297
current commitIndex 297 lastIncludedIndex 289 snapshot exists ? true
update server 2 's matchIndex from 297 to 297
update server 0 's matchIndex from 297 to 297
server 1 term 48 state 2(leader true)(heartFlag false)
nextIndex
298 || 298 || 298 || 
matchIndex
297 || 297 || 297 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 297
current commitIndex 297 lastIncludedIndex 289 snapshot exists ? true
update server 0 's matchIndex from 297 to 297
server 2 receives appendEntry from leader 1 prevLogIndex 297
current commitIndex 297 lastIncludedIndex 289 snapshot exists ? true
update server 2 's matchIndex from 297 to 297
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 297
current commitIndex 297 lastIncludedIndex 289 snapshot exists ? true
update server 2 's matchIndex from 297 to 297
server 0 receives appendEntry from leader 1 prevLogIndex 297
current commitIndex 297 lastIncludedIndex 289 snapshot exists ? true
update server 0 's matchIndex from 297 to 297
server 0 term 48 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 297
current commitIndex 297 lastIncludedIndex 289 snapshot exists ? true
update server 0 's matchIndex from 297 to 297
server 2 receives appendEntry from leader 1 prevLogIndex 297
current commitIndex 297 lastIncludedIndex 289 snapshot exists ? true
update server 2 's matchIndex from 297 to 297
server 1 term 48 state 2(leader true)(heartFlag false)
nextIndex
298 || 298 || 298 || 
matchIndex
297 || 297 || 297 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 297
current commitIndex 297 lastIncludedIndex 289 snapshot exists ? true
update server 0 's matchIndex from 297 to 297
server 2 receives appendEntry from leader 1 prevLogIndex 297
current commitIndex 297 lastIncludedIndex 289 snapshot exists ? true
server 2 term 48 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 48 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 term 48 state 0(leader false)(heartFlag false)
server 2 term 48 doesn't hear any heartbeat
server 2 convert to candidate
getEntryTerm
getEntryTerm
server 1 term 48 state 2(leader true)(heartFlag false)
nextIndex
298 || 298 || 298 || 
matchIndex
297 || 297 || 297 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 48 state 0(leader false)(heartFlag false)
server 0 term 48 doesn't hear any heartbeat
server 0 convert to candidate
getEntryTerm
getEntryTerm
getEntryTerm
server 2 already has a voteFor 2 but not candidate 0
server 2 grant false for candidate 0's requestVote
getEntryTerm
getEntryTerm
server 1 term 48 state 2(leader true)(heartFlag false)
nextIndex
298 || 298 || 298 || 
matchIndex
297 || 297 || 297 || 
getEntryTerm
getEntryTerm
server 2 term 49 ElectionTimeOut
server 2 convert to candidate
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 49 ElectionTimeOut
server 0 convert to candidate
getEntryTerm
getEntryTerm
getEntryTerm
server 2 already has a voteFor 2 but not candidate 0
server 2 grant false for candidate 0's requestVote
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 48 state 2(leader true)(heartFlag false)
nextIndex
298 || 298 || 298 || 
matchIndex
297 || 297 || 297 || 
server 2 term 50 ElectionTimeOut
server 2 convert to candidate
getEntryTerm
getEntryTerm
server 0 convert to follower
getEntryTerm
server 0 grant true for candidate 2's requestVote
server 2 convert to leader
server 2 term 51 send appendEntries
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 297
current commitIndex 297 lastIncludedIndex 289 snapshot exists ? true
update server 0 's matchIndex from 0 to 297
getEntryTerm
getEntryTerm
append command 4237464937666562493
len(log) = 298
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 297
current commitIndex 297 lastIncludedIndex 289 snapshot exists ? true
getEntryTerm
getEntryTerm
server 1 term 48 state 2(leader true)(heartFlag false)
nextIndex
298 || 298 || 298 || 
matchIndex
297 || 297 || 297 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 297
current commitIndex 297 lastIncludedIndex 289 snapshot exists ? true
update server 0 's matchIndex from 297 to 298
getEntryTerm
leader server 2 commit index 298 command 4237464937666562493
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 298
getEntryTerm
current commitIndex 297 lastIncludedIndex 289 snapshot exists ? true
follower server 0 commit index 298 command 4237464937666562493 
update server 0 's matchIndex from 298 to 298
append command 9075470499094300493
len(log) = 299
append command 3294372029196235111
len(log) = 300
append command 5194385436465388646
len(log) = 301
append command 3512315567723525012
len(log) = 302
append command 6830752567203961478
len(log) = 303
append command 7287833695350514608
len(log) = 304
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 298
current commitIndex 298 lastIncludedIndex 289 snapshot exists ? true
update server 0 's matchIndex from 298 to 304
getEntryTerm
leader server 2 commit index 299 command 9075470499094300493
leader server 2 commit index 300 command 3294372029196235111
server 2 takes snopshot and discards logs before index 299
getEntryTerm
discard index before 299(included)
server 2 finished snopshot
leader server 2 commit index 301 command 5194385436465388646
leader server 2 commit index 302 command 3512315567723525012
leader server 2 commit index 303 command 6830752567203961478
leader server 2 commit index 304 command 7287833695350514608
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 304
getEntryTerm
current commitIndex 298 lastIncludedIndex 289 snapshot exists ? true
follower server 0 commit index 299 command 9075470499094300493 
follower server 0 commit index 300 command 3294372029196235111 
server 0 takes snopshot and discards logs before index 299
getEntryTerm
discard index before 299(included)
server 0 finished snopshot
follower server 0 commit index 301 command 5194385436465388646 
follower server 0 commit index 302 command 3512315567723525012 
follower server 0 commit index 303 command 6830752567203961478 
follower server 0 commit index 304 command 7287833695350514608 
update server 0 's matchIndex from 304 to 304
getEntryTerm
getEntryTerm
server 1 term 48 state 2(leader true)(heartFlag false)
nextIndex
298 || 298 || 298 || 
matchIndex
297 || 297 || 297 || 
append command 2423101904074270363
len(log) = 298
server 0 term 51 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 304
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
server 1 receives snopshot from leader 2
server 1 convert to follower
server 1 commit snopshot to lastIncludedIndex 299
update server 0 's matchIndex from 304 to 304
server 0 receives appendEntry from leader 1 prevLogIndex 297
server 2 receives appendEntry from leader 1 prevLogIndex 297
server 2 term 51 state 2(leader true)(heartFlag false)
nextIndex
305 || 300 || 305 || 
matchIndex
304 || 299 || 304 || 
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 304
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 304 to 304
server 1 receives appendEntry from leader 2 prevLogIndex 299
current commitIndex 299 lastIncludedIndex 299 snapshot exists ? true
follower server 1 commit index 300 command 3294372029196235111 
follower server 1 commit index 301 command 5194385436465388646 
follower server 1 commit index 302 command 3512315567723525012 
follower server 1 commit index 303 command 6830752567203961478 
follower server 1 commit index 304 command 7287833695350514608 
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 304
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 299
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 304 to 304
server 0 term 51 state 0(leader false)(heartFlag true)
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 299
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
update server 1 's matchIndex from 299 to 304
server 0 receives appendEntry from leader 2 prevLogIndex 304
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 304 to 304
server 1 term 51 state 0(leader false)(heartFlag true)
server 2 term 51 state 2(leader true)(heartFlag false)
nextIndex
305 || 305 || 305 || 
matchIndex
304 || 304 || 304 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 304
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 304 to 304
server 1 receives appendEntry from leader 2 prevLogIndex 304
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
update server 1 's matchIndex from 304 to 304
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 304
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
update server 1 's matchIndex from 304 to 304
server 0 receives appendEntry from leader 2 prevLogIndex 304
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 304 to 304
server 0 term 51 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 304
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 304 to 304
server 1 receives appendEntry from leader 2 prevLogIndex 304
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
server 1 term 51 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 304
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
update server 1 's matchIndex from 304 to 304
server 0 receives appendEntry from leader 2 prevLogIndex 304
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 304 to 304
server 2 term 51 state 2(leader true)(heartFlag false)
nextIndex
305 || 305 || 305 || 
matchIndex
304 || 304 || 304 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 304
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
update server 1 's matchIndex from 304 to 304
server 0 receives appendEntry from leader 2 prevLogIndex 304
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 304 to 304
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 304
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
update server 1 's matchIndex from 304 to 304
server 0 receives appendEntry from leader 2 prevLogIndex 304
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 304 to 304
server 0 term 51 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 304
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 304 to 304
server 1 term 51 state 0(leader false)(heartFlag true)
server 1 receives appendEntry from leader 2 prevLogIndex 304
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
update server 1 's matchIndex from 304 to 304
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 304
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
update server 1 's matchIndex from 304 to 304
server 0 receives appendEntry from leader 2 prevLogIndex 304
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 304 to 304
getEntryTerm
getEntryTerm
server 2 term 51 state 2(leader true)(heartFlag false)
nextIndex
305 || 305 || 305 || 
matchIndex
304 || 304 || 304 || 
server 0 receives appendEntry from leader 2 prevLogIndex 304
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 304
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 304 to 304
update server 1 's matchIndex from 304 to 304
server 0 term 51 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 304
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
update server 1 's matchIndex from 304 to 304
server 0 receives appendEntry from leader 2 prevLogIndex 304
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 304 to 304
server 1 term 51 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 304
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
update server 1 's matchIndex from 304 to 304
server 0 receives appendEntry from leader 2 prevLogIndex 304
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 304 to 304
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 304
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
update server 1 's matchIndex from 304 to 304
server 2 term 51 state 2(leader true)(heartFlag false)
nextIndex
305 || 305 || 305 || 
matchIndex
304 || 304 || 304 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 304
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
update server 1 's matchIndex from 304 to 304
server 0 receives appendEntry from leader 2 prevLogIndex 304
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
server 0 term 51 state 0(leader false)(heartFlag true)
server 1 term 51 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 304
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 304 to 304
server 1 receives appendEntry from leader 2 prevLogIndex 304
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
update server 1 's matchIndex from 304 to 304
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 304
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
update server 1 's matchIndex from 304 to 304
server 0 receives appendEntry from leader 2 prevLogIndex 304
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 304 to 304
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 304
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 304 to 304
append command 2423101904074270363
len(log) = 305
server 0 term 51 state 0(leader false)(heartFlag true)
server 2 term 51 state 2(leader true)(heartFlag false)
nextIndex
305 || 305 || 306 || 
matchIndex
304 || 304 || 305 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 304
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 304 to 305
getEntryTerm
leader server 2 commit index 305 command 2423101904074270363
server 1 term 51 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 305
getEntryTerm
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
follower server 0 commit index 305 command 2423101904074270363 
update server 0 's matchIndex from 305 to 305
server 1 receives appendEntry from leader 2 prevLogIndex 304
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
follower server 1 commit index 305 command 2423101904074270363 
update server 1 's matchIndex from 304 to 305
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 305
current commitIndex 305 lastIncludedIndex 299 snapshot exists ? true
update server 1 's matchIndex from 305 to 305
server 0 receives appendEntry from leader 2 prevLogIndex 305
current commitIndex 305 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 305 to 305
server 0 term 51 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 305
current commitIndex 305 lastIncludedIndex 299 snapshot exists ? true
update server 1 's matchIndex from 305 to 305
server 0 receives appendEntry from leader 2 prevLogIndex 305
current commitIndex 305 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 305 to 305
server 1 term 51 state 0(leader false)(heartFlag true)
server 2 term 51 state 2(leader true)(heartFlag false)
nextIndex
306 || 306 || 306 || 
matchIndex
305 || 305 || 305 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 305
current commitIndex 305 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 305 to 305
server 1 receives appendEntry from leader 2 prevLogIndex 305
current commitIndex 305 lastIncludedIndex 299 snapshot exists ? true
update server 1 's matchIndex from 305 to 305
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 305
current commitIndex 305 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 305 to 305
server 1 receives appendEntry from leader 2 prevLogIndex 305
current commitIndex 305 lastIncludedIndex 299 snapshot exists ? true
update server 1 's matchIndex from 305 to 305
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 305
current commitIndex 305 lastIncludedIndex 299 snapshot exists ? true
update server 1 's matchIndex from 305 to 305
append command 8211668299798767563
len(log) = 306
server 0 receives appendEntry from leader 2 prevLogIndex 305
current commitIndex 305 lastIncludedIndex 299 snapshot exists ? true
server 0 term 51 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 305
current commitIndex 305 lastIncludedIndex 299 snapshot exists ? true
update server 1 's matchIndex from 305 to 306
server 2 term 51 state 2(leader true)(heartFlag false)
nextIndex
306 || 307 || 307 || 
matchIndex
305 || 306 || 306 || 
getEntryTerm
leader server 2 commit index 306 command 8211668299798767563
server 1 term 51 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 306
getEntryTerm
current commitIndex 305 lastIncludedIndex 299 snapshot exists ? true
follower server 1 commit index 306 command 8211668299798767563 
update server 1 's matchIndex from 306 to 306
append command 638684928590577465
len(log) = 307
append command 4112165843872763375
len(log) = 308
append command 1323011836944358221
len(log) = 309
append command 5719315923604425935
len(log) = 310
append command 1655016612765298987
len(log) = 311
append command 8284940251677367397
len(log) = 312
append command 5282909558371341315
len(log) = 313
append command 1936812381407610597
len(log) = 314
server 0 term 51 state 0(leader false)(heartFlag false)
server 0 term 51 doesn't hear any heartbeat
server 0 convert to candidate
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 306
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
update server 1 's matchIndex from 306 to 314
getEntryTerm
leader server 2 commit index 307 command 638684928590577465
leader server 2 commit index 308 command 4112165843872763375
leader server 2 commit index 309 command 1323011836944358221
leader server 2 commit index 310 command 5719315923604425935
server 2 takes snopshot and discards logs before index 309
getEntryTerm
discard index before 309(included)
server 2 finished snopshot
leader server 2 commit index 311 command 1655016612765298987
leader server 2 commit index 312 command 8284940251677367397
leader server 2 commit index 313 command 5282909558371341315
leader server 2 commit index 314 command 1936812381407610597
getEntryTerm
server 2 term 51 state 2(leader true)(heartFlag false)
nextIndex
306 || 315 || 315 || 
matchIndex
305 || 314 || 314 || 
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 314
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
follower server 1 commit index 307 command 638684928590577465 
follower server 1 commit index 308 command 4112165843872763375 
follower server 1 commit index 309 command 1323011836944358221 
follower server 1 commit index 310 command 5719315923604425935 
server 1 takes snopshot and discards logs before index 309
getEntryTerm
discard index before 309(included)
server 1 finished snopshot
follower server 1 commit index 311 command 1655016612765298987 
follower server 1 commit index 312 command 8284940251677367397 
follower server 1 commit index 313 command 5282909558371341315 
follower server 1 commit index 314 command 1936812381407610597 
append command 1842505551633965443
len(log) = 315
server 1 term 51 state 0(leader false)(heartFlag true)
server 0 term 52 ElectionTimeOut
server 0 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
getEntryTerm
server 2 thinks candidate 0 is not up-to-date
server 2 grant false for candidate 0's requestVote
server 1 convert to follower
getEntryTerm
server 1 thinks candidate 0 is not up-to-date
server 1 grant false for candidate 0's requestVote
server 2 term 53 state 0(leader false)(heartFlag false)
server 2 term 53 doesn't hear any heartbeat
server 2 convert to candidate
getEntryTerm
getEntryTerm
server 1 convert to follower
getEntryTerm
server 1 grant true for candidate 2's requestVote
server 2 convert to leader
server 2 term 54 send appendEntries
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 315
server 0 convert to follower
lastLogIndex 305, args.PrevLogIndex 315
server 1 receives appendEntry from leader 2 prevLogIndex 315
lastLogIndex 314, args.PrevLogIndex 315
getEntryTerm
server 0 receives snopshot from leader 2
server 0 commit snopshot to lastIncludedIndex 309
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 314
current commitIndex 314 lastIncludedIndex 309 snapshot exists ? true
update server 1 's matchIndex from 0 to 315
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 309
current commitIndex 309 lastIncludedIndex 309 snapshot exists ? true
follower server 0 commit index 310 command 5719315923604425935 
follower server 0 commit index 311 command 1655016612765298987 
follower server 0 commit index 312 command 8284940251677367397 
follower server 0 commit index 313 command 5282909558371341315 
follower server 0 commit index 314 command 1936812381407610597 
update server 0 's matchIndex from 309 to 315
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 54 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 315
getEntryTerm
current commitIndex 314 lastIncludedIndex 309 snapshot exists ? true
update server 1 's matchIndex from 315 to 315
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 315
getEntryTerm
current commitIndex 314 lastIncludedIndex 309 snapshot exists ? true
update server 0 's matchIndex from 315 to 315
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 315
getEntryTerm
current commitIndex 314 lastIncludedIndex 309 snapshot exists ? true
update server 0 's matchIndex from 315 to 315
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 315
getEntryTerm
current commitIndex 314 lastIncludedIndex 309 snapshot exists ? true
update server 1 's matchIndex from 315 to 315
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 54 state 0(leader false)(heartFlag true)
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 315
getEntryTerm
current commitIndex 314 lastIncludedIndex 309 snapshot exists ? true
update server 1 's matchIndex from 315 to 315
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 315
getEntryTerm
current commitIndex 314 lastIncludedIndex 309 snapshot exists ? true
update server 0 's matchIndex from 315 to 315
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 54 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 315
getEntryTerm
current commitIndex 314 lastIncludedIndex 309 snapshot exists ? true
update server 0 's matchIndex from 315 to 315
server 1 receives appendEntry from leader 2 prevLogIndex 315
getEntryTerm
current commitIndex 314 lastIncludedIndex 309 snapshot exists ? true
update server 1 's matchIndex from 315 to 315
getEntryTerm
server 2 term 54 state 2(leader true)(heartFlag false)
nextIndex
316 || 316 || 316 || 
matchIndex
315 || 315 || 315 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 315
getEntryTerm
current commitIndex 314 lastIncludedIndex 309 snapshot exists ? true
update server 0 's matchIndex from 315 to 315
server 1 receives appendEntry from leader 2 prevLogIndex 315
getEntryTerm
current commitIndex 314 lastIncludedIndex 309 snapshot exists ? true
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 54 state 0(leader false)(heartFlag true)
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 315
getEntryTerm
current commitIndex 314 lastIncludedIndex 309 snapshot exists ? true
update server 1 's matchIndex from 315 to 315
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 315
getEntryTerm
current commitIndex 314 lastIncludedIndex 309 snapshot exists ? true
update server 0 's matchIndex from 315 to 315
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 315
getEntryTerm
current commitIndex 314 lastIncludedIndex 309 snapshot exists ? true
update server 0 's matchIndex from 315 to 315
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 315
getEntryTerm
current commitIndex 314 lastIncludedIndex 309 snapshot exists ? true
update server 1 's matchIndex from 315 to 315
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 54 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 315
getEntryTerm
current commitIndex 314 lastIncludedIndex 309 snapshot exists ? true
update server 1 's matchIndex from 315 to 315
server 2 term 54 state 2(leader true)(heartFlag false)
nextIndex
316 || 316 || 316 || 
matchIndex
315 || 315 || 315 || 
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 315
getEntryTerm
current commitIndex 314 lastIncludedIndex 309 snapshot exists ? true
update server 0 's matchIndex from 315 to 315
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 315
getEntryTerm
current commitIndex 314 lastIncludedIndex 309 snapshot exists ? true
update server 1 's matchIndex from 315 to 315
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 315
getEntryTerm
current commitIndex 314 lastIncludedIndex 309 snapshot exists ? true
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 315
getEntryTerm
current commitIndex 314 lastIncludedIndex 309 snapshot exists ? true
update server 0 's matchIndex from 315 to 315
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 315
getEntryTerm
current commitIndex 314 lastIncludedIndex 309 snapshot exists ? true
update server 1 's matchIndex from 315 to 315
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 54 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 315
getEntryTerm
current commitIndex 314 lastIncludedIndex 309 snapshot exists ? true
update server 0 's matchIndex from 315 to 315
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 54 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 term 54 state 2(leader true)(heartFlag false)
nextIndex
316 || 316 || 316 || 
matchIndex
315 || 315 || 315 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 315
getEntryTerm
current commitIndex 314 lastIncludedIndex 309 snapshot exists ? true
update server 0 's matchIndex from 315 to 315
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 315
getEntryTerm
current commitIndex 314 lastIncludedIndex 309 snapshot exists ? true
update server 1 's matchIndex from 315 to 315
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 315
getEntryTerm
current commitIndex 314 lastIncludedIndex 309 snapshot exists ? true
update server 0 's matchIndex from 315 to 315
server 1 receives appendEntry from leader 2 prevLogIndex 315
getEntryTerm
current commitIndex 314 lastIncludedIndex 309 snapshot exists ? true
update server 1 's matchIndex from 315 to 315
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 54 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 315
getEntryTerm
current commitIndex 314 lastIncludedIndex 309 snapshot exists ? true
update server 0 's matchIndex from 315 to 315
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 315
getEntryTerm
current commitIndex 314 lastIncludedIndex 309 snapshot exists ? true
update server 1 's matchIndex from 315 to 315
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 315
getEntryTerm
current commitIndex 314 lastIncludedIndex 309 snapshot exists ? true
update server 0 's matchIndex from 315 to 315
server 1 term 54 state 0(leader false)(heartFlag true)
getEntryTerm
append command 1842505551633965443
len(log) = 316
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 315
getEntryTerm
current commitIndex 314 lastIncludedIndex 309 snapshot exists ? true
update server 1 's matchIndex from 315 to 315
server 2 term 54 state 2(leader true)(heartFlag false)
nextIndex
316 || 316 || 317 || 
matchIndex
315 || 315 || 316 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 315
getEntryTerm
current commitIndex 314 lastIncludedIndex 309 snapshot exists ? true
update server 0 's matchIndex from 315 to 316
getEntryTerm
leader server 2 commit index 315 command 1842505551633965443
leader server 2 commit index 316 command 1842505551633965443
server 1 receives appendEntry from leader 2 prevLogIndex 315
getEntryTerm
current commitIndex 314 lastIncludedIndex 309 snapshot exists ? true
update server 1 's matchIndex from 315 to 316
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 316
getEntryTerm
current commitIndex 314 lastIncludedIndex 309 snapshot exists ? true
follower server 0 commit index 315 command 1842505551633965443 
follower server 0 commit index 316 command 1842505551633965443 
update server 0 's matchIndex from 316 to 316
server 1 receives appendEntry from leader 2 prevLogIndex 316
getEntryTerm
current commitIndex 314 lastIncludedIndex 309 snapshot exists ? true
follower server 1 commit index 315 command 1842505551633965443 
follower server 1 commit index 316 command 1842505551633965443 
update server 1 's matchIndex from 316 to 316
server 0 term 54 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 316
current commitIndex 316 lastIncludedIndex 309 snapshot exists ? true
update server 0 's matchIndex from 316 to 316
server 1 receives appendEntry from leader 2 prevLogIndex 316
current commitIndex 316 lastIncludedIndex 309 snapshot exists ? true
update server 1 's matchIndex from 316 to 316
server 1 term 54 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 term 54 state 2(leader true)(heartFlag false)
nextIndex
317 || 317 || 317 || 
matchIndex
316 || 316 || 316 || 
server 1 receives appendEntry from leader 2 prevLogIndex 316
current commitIndex 316 lastIncludedIndex 309 snapshot exists ? true
update server 1 's matchIndex from 316 to 316
server 0 receives appendEntry from leader 2 prevLogIndex 316
current commitIndex 316 lastIncludedIndex 309 snapshot exists ? true
update server 0 's matchIndex from 316 to 316
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 316
current commitIndex 316 lastIncludedIndex 309 snapshot exists ? true
update server 1 's matchIndex from 316 to 316
server 0 term 54 state 0(leader false)(heartFlag true)
server 0 receives appendEntry from leader 2 prevLogIndex 316
current commitIndex 316 lastIncludedIndex 309 snapshot exists ? true
update server 0 's matchIndex from 316 to 316
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 316
current commitIndex 316 lastIncludedIndex 309 snapshot exists ? true
update server 1 's matchIndex from 316 to 316
server 0 receives appendEntry from leader 2 prevLogIndex 316
current commitIndex 316 lastIncludedIndex 309 snapshot exists ? true
update server 0 's matchIndex from 316 to 316
append command 2088876315099508965
len(log) = 317
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 316
current commitIndex 316 lastIncludedIndex 309 snapshot exists ? true
update server 1 's matchIndex from 316 to 317
getEntryTerm
leader server 2 commit index 317 command 2088876315099508965
server 2 term 54 state 2(leader true)(heartFlag false)
nextIndex
317 || 318 || 318 || 
matchIndex
316 || 317 || 317 || 
server 1 term 54 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 317
getEntryTerm
current commitIndex 316 lastIncludedIndex 309 snapshot exists ? true
follower server 1 commit index 317 command 2088876315099508965 
update server 1 's matchIndex from 317 to 317
append command 1287539323728535148
len(log) = 318
append command 8642208034425692026
len(log) = 319
append command 8311563176699893481
len(log) = 320
append command 8587153100509530359
len(log) = 321
append command 5151799673372582281
len(log) = 322
append command 7058672289281066489
len(log) = 323
append command 5592585515314145895
len(log) = 324
append command 2856525683410766725
len(log) = 325
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 317
current commitIndex 317 lastIncludedIndex 309 snapshot exists ? true
update server 1 's matchIndex from 317 to 325
getEntryTerm
leader server 2 commit index 318 command 1287539323728535148
leader server 2 commit index 319 command 8642208034425692026
leader server 2 commit index 320 command 8311563176699893481
server 2 takes snopshot and discards logs before index 319
getEntryTerm
discard index before 319(included)
server 2 finished snopshot
leader server 2 commit index 321 command 8587153100509530359
leader server 2 commit index 322 command 5151799673372582281
leader server 2 commit index 323 command 7058672289281066489
leader server 2 commit index 324 command 5592585515314145895
leader server 2 commit index 325 command 2856525683410766725
server 0 term 54 state 0(leader false)(heartFlag true)
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 325
getEntryTerm
current commitIndex 317 lastIncludedIndex 309 snapshot exists ? true
follower server 1 commit index 318 command 1287539323728535148 
follower server 1 commit index 319 command 8642208034425692026 
follower server 1 commit index 320 command 8311563176699893481 
server 1 takes snopshot and discards logs before index 319
getEntryTerm
discard index before 319(included)
server 1 finished snopshot
follower server 1 commit index 321 command 8587153100509530359 
follower server 1 commit index 322 command 5151799673372582281 
follower server 1 commit index 323 command 7058672289281066489 
follower server 1 commit index 324 command 5592585515314145895 
follower server 1 commit index 325 command 2856525683410766725 
update server 1 's matchIndex from 325 to 325
append command 1078371522567794032
len(log) = 326
server 2 term 54 state 2(leader true)(heartFlag false)
nextIndex
317 || 326 || 326 || 
matchIndex
316 || 325 || 325 || 
getEntryTerm
server 0 receives snopshot from leader 2
server 0 commit snopshot to lastIncludedIndex 319
server 1 receives appendEntry from leader 2 prevLogIndex 325
current commitIndex 325 lastIncludedIndex 319 snapshot exists ? true
update server 1 's matchIndex from 325 to 326
getEntryTerm
leader server 2 commit index 326 command 1078371522567794032
server 1 term 54 state 0(leader false)(heartFlag true)
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 326
getEntryTerm
current commitIndex 325 lastIncludedIndex 319 snapshot exists ? true
follower server 1 commit index 326 command 1078371522567794032 
update server 1 's matchIndex from 326 to 326
server 0 receives appendEntry from leader 2 prevLogIndex 319
current commitIndex 319 lastIncludedIndex 319 snapshot exists ? true
follower server 0 commit index 320 command 8311563176699893481 
follower server 0 commit index 321 command 8587153100509530359 
follower server 0 commit index 322 command 5151799673372582281 
follower server 0 commit index 323 command 7058672289281066489 
follower server 0 commit index 324 command 5592585515314145895 
follower server 0 commit index 325 command 2856525683410766725 
follower server 0 commit index 326 command 1078371522567794032 
update server 0 's matchIndex from 319 to 326
server 0 term 54 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 326
current commitIndex 326 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 326 to 326
server 1 receives appendEntry from leader 2 prevLogIndex 326
current commitIndex 326 lastIncludedIndex 319 snapshot exists ? true
update server 1 's matchIndex from 326 to 326
server 2 term 54 state 2(leader true)(heartFlag false)
nextIndex
327 || 327 || 327 || 
matchIndex
326 || 326 || 326 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 326
current commitIndex 326 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 326 to 326
server 1 receives appendEntry from leader 2 prevLogIndex 326
current commitIndex 326 lastIncludedIndex 319 snapshot exists ? true
update server 1 's matchIndex from 326 to 326
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 326
current commitIndex 326 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 326 to 326
server 1 receives appendEntry from leader 2 prevLogIndex 326
current commitIndex 326 lastIncludedIndex 319 snapshot exists ? true
update server 1 's matchIndex from 326 to 326
server 1 term 54 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 term 54 state 0(leader false)(heartFlag true)
server 1 receives appendEntry from leader 2 prevLogIndex 326
current commitIndex 326 lastIncludedIndex 319 snapshot exists ? true
update server 1 's matchIndex from 326 to 326
server 0 receives appendEntry from leader 2 prevLogIndex 326
current commitIndex 326 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 326 to 326
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 326
current commitIndex 326 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 326 to 326
server 1 receives appendEntry from leader 2 prevLogIndex 326
current commitIndex 326 lastIncludedIndex 319 snapshot exists ? true
update server 1 's matchIndex from 326 to 326
server 2 term 54 state 2(leader true)(heartFlag false)
nextIndex
327 || 327 || 327 || 
matchIndex
326 || 326 || 326 || 
getEntryTerm
getEntryTerm
server 0 term 54 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 term 54 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 54 state 2(leader true)(heartFlag false)
nextIndex
327 || 327 || 327 || 
matchIndex
326 || 326 || 326 || 
server 0 term 54 state 0(leader false)(heartFlag false)
server 0 term 54 doesn't hear any heartbeat
server 0 convert to candidate
getEntryTerm
getEntryTerm
server 1 convert to follower
getEntryTerm
server 1 grant true for candidate 0's requestVote
server 0 convert to leader
server 0 term 55 send appendEntries
getEntryTerm
getEntryTerm
append command 6000562745086007319
len(log) = 327
server 1 receives appendEntry from leader 0 prevLogIndex 326
current commitIndex 326 lastIncludedIndex 319 snapshot exists ? true
update server 1 's matchIndex from 0 to 326
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 326
current commitIndex 326 lastIncludedIndex 319 snapshot exists ? true
update server 1 's matchIndex from 326 to 327
getEntryTerm
leader server 0 commit index 327 command 6000562745086007319
server 1 term 55 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 327
getEntryTerm
current commitIndex 326 lastIncludedIndex 319 snapshot exists ? true
follower server 1 commit index 327 command 6000562745086007319 
update server 1 's matchIndex from 327 to 327
append command 5150363449387514127
len(log) = 328
append command 7112399109112411869
len(log) = 329
append command 1706119459473155234
len(log) = 330
append command 2119112873117414456
len(log) = 331
append command 8307014620368964865
len(log) = 332
append command 8325009569898166101
len(log) = 333
append command 3960700041807881102
len(log) = 334
append command 4197307058271636663
len(log) = 335
append command 1790013193351028034
len(log) = 336
append command 8628222666128844310
len(log) = 337
append command 3601678641836906970
len(log) = 338
append command 6089097244493300272
len(log) = 339
append command 2092155572070788092
len(log) = 340
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 327
current commitIndex 327 lastIncludedIndex 319 snapshot exists ? true
update server 1 's matchIndex from 327 to 340
getEntryTerm
leader server 0 commit index 328 command 5150363449387514127
leader server 0 commit index 329 command 7112399109112411869
leader server 0 commit index 330 command 1706119459473155234
server 0 takes snopshot and discards logs before index 329
getEntryTerm
discard index before 329(included)
server 0 finished snopshot
leader server 0 commit index 331 command 2119112873117414456
leader server 0 commit index 332 command 8307014620368964865
leader server 0 commit index 333 command 8325009569898166101
leader server 0 commit index 334 command 3960700041807881102
leader server 0 commit index 335 command 4197307058271636663
leader server 0 commit index 336 command 1790013193351028034
leader server 0 commit index 337 command 8628222666128844310
leader server 0 commit index 338 command 3601678641836906970
leader server 0 commit index 339 command 6089097244493300272
leader server 0 commit index 340 command 2092155572070788092
server 0 takes snopshot and discards logs before index 339
getEntryTerm
discard index before 339(included)
server 0 finished snopshot
getEntryTerm
getEntryTerm
server 2 term 54 state 2(leader true)(heartFlag false)
nextIndex
327 || 327 || 327 || 
matchIndex
326 || 326 || 326 || 
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 340
getEntryTerm
current commitIndex 327 lastIncludedIndex 319 snapshot exists ? true
follower server 1 commit index 328 command 5150363449387514127 
follower server 1 commit index 329 command 7112399109112411869 
follower server 1 commit index 330 command 1706119459473155234 
server 1 takes snopshot and discards logs before index 329
getEntryTerm
discard index before 329(included)
server 1 finished snopshot
follower server 1 commit index 331 command 2119112873117414456 
follower server 1 commit index 332 command 8307014620368964865 
follower server 1 commit index 333 command 8325009569898166101 
follower server 1 commit index 334 command 3960700041807881102 
follower server 1 commit index 335 command 4197307058271636663 
follower server 1 commit index 336 command 1790013193351028034 
follower server 1 commit index 337 command 8628222666128844310 
follower server 1 commit index 338 command 3601678641836906970 
follower server 1 commit index 339 command 6089097244493300272 
follower server 1 commit index 340 command 2092155572070788092 
server 1 takes snopshot and discards logs before index 339
getEntryTerm
discard index before 339(included)
server 1 finished snopshot
update server 1 's matchIndex from 340 to 340
append command 2355708113409887367
len(log) = 327
server 1 term 55 state 0(leader false)(heartFlag true)
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 340
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
update server 1 's matchIndex from 340 to 340
getEntryTerm
getEntryTerm
server 2 receives snopshot from leader 0
server 2 convert to follower
server 2 commit snopshot to lastIncludedIndex 339
server 1 receives appendEntry from leader 2 prevLogIndex 326
server 0 receives appendEntry from leader 2 prevLogIndex 326
getEntryTerm
server 2 term 55 state 0(leader false)(heartFlag false)
server 2 term 55 doesn't hear any heartbeat
server 2 convert to candidate
server 2 receives appendEntry from leader 0 prevLogIndex 339
server 0 convert to follower
server 1 convert to follower
getEntryTerm
server 1 thinks candidate 2 is not up-to-date
server 1 grant false for candidate 2's requestVote
getEntryTerm
server 0 thinks candidate 2 is not up-to-date
server 0 grant false for candidate 2's requestVote
server 0 term 56 state 0(leader false)(heartFlag false)
server 0 term 56 doesn't hear any heartbeat
server 0 convert to candidate
getEntryTerm
getEntryTerm
server 1 convert to follower
getEntryTerm
server 1 grant true for candidate 0's requestVote
server 0 convert to leader
server 0 term 57 send appendEntries
getEntryTerm
getEntryTerm
server 2 convert to follower
server 2 grant true for candidate 0's requestVote
server 1 receives appendEntry from leader 0 prevLogIndex 340
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 340
lastLogIndex 339, args.PrevLogIndex 340
server 1 term 57 state 0(leader false)(heartFlag true)
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 339
current commitIndex 339 lastIncludedIndex 339 snapshot exists ? true
follower server 2 commit index 340 command 2092155572070788092 
update server 2 's matchIndex from 0 to 340
server 1 receives appendEntry from leader 0 prevLogIndex 340
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
update server 1 's matchIndex from 0 to 340
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 340
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
update server 2 's matchIndex from 340 to 340
server 1 receives appendEntry from leader 0 prevLogIndex 340
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
update server 1 's matchIndex from 340 to 340
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 340
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
update server 2 's matchIndex from 340 to 340
server 1 receives appendEntry from leader 0 prevLogIndex 340
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
update server 1 's matchIndex from 340 to 340
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 340
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
update server 1 's matchIndex from 340 to 340
server 2 term 57 state 0(leader false)(heartFlag true)
server 1 term 57 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 340
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
update server 1 's matchIndex from 340 to 340
server 0 term 57 state 2(leader true)(heartFlag false)
nextIndex
341 || 341 || 341 || 
matchIndex
340 || 340 || 340 || 
server 2 receives appendEntry from leader 0 prevLogIndex 340
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
update server 2 's matchIndex from 340 to 340
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 340
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
update server 1 's matchIndex from 340 to 340
server 1 term 57 state 0(leader false)(heartFlag true)
server 2 term 57 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 340
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
update server 1 's matchIndex from 340 to 340
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 340
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
update server 2 's matchIndex from 340 to 340
server 1 receives appendEntry from leader 0 prevLogIndex 340
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 340
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
update server 1 's matchIndex from 340 to 340
server 0 term 57 state 2(leader true)(heartFlag false)
nextIndex
341 || 341 || 341 || 
matchIndex
340 || 340 || 340 || 
server 2 receives appendEntry from leader 0 prevLogIndex 340
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
update server 2 's matchIndex from 340 to 340
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 340
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 340
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
update server 1 's matchIndex from 340 to 340
server 1 term 57 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 340
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
update server 2 's matchIndex from 340 to 340
server 1 receives appendEntry from leader 0 prevLogIndex 340
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
update server 1 's matchIndex from 340 to 340
server 2 term 57 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 term 57 state 2(leader true)(heartFlag false)
nextIndex
341 || 341 || 341 || 
matchIndex
340 || 340 || 340 || 
server 1 receives appendEntry from leader 0 prevLogIndex 340
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
update server 1 's matchIndex from 340 to 340
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 340
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
update server 2 's matchIndex from 340 to 340
server 1 receives appendEntry from leader 0 prevLogIndex 340
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
update server 1 's matchIndex from 340 to 340
server 2 term 57 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 340
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 340
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
update server 1 's matchIndex from 340 to 340
update server 2 's matchIndex from 340 to 340
server 1 term 57 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 340
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
update server 2 's matchIndex from 340 to 340
server 1 receives appendEntry from leader 0 prevLogIndex 340
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
update server 1 's matchIndex from 340 to 340
server 0 term 57 state 2(leader true)(heartFlag false)
nextIndex
341 || 341 || 341 || 
matchIndex
340 || 340 || 340 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 340
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
update server 1 's matchIndex from 340 to 340
server 2 receives appendEntry from leader 0 prevLogIndex 340
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
append command 2355708113409887367
len(log) = 341
getEntryTerm
getEntryTerm
server 2 term 57 state 0(leader false)(heartFlag true)
server 1 receives appendEntry from leader 0 prevLogIndex 340
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
update server 1 's matchIndex from 340 to 341
server 2 receives appendEntry from leader 0 prevLogIndex 340
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
update server 2 's matchIndex from 340 to 341
getEntryTerm
leader server 0 commit index 341 command 2355708113409887367
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 341
getEntryTerm
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
follower server 2 commit index 341 command 2355708113409887367 
update server 2 's matchIndex from 341 to 341
server 1 receives appendEntry from leader 0 prevLogIndex 341
getEntryTerm
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
follower server 1 commit index 341 command 2355708113409887367 
server 1 term 57 state 0(leader false)(heartFlag true)
update server 1 's matchIndex from 341 to 341
server 0 term 57 state 2(leader true)(heartFlag false)
nextIndex
342 || 342 || 342 || 
matchIndex
341 || 341 || 341 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 341
current commitIndex 341 lastIncludedIndex 339 snapshot exists ? true
update server 2 's matchIndex from 341 to 341
server 1 receives appendEntry from leader 0 prevLogIndex 341
current commitIndex 341 lastIncludedIndex 339 snapshot exists ? true
update server 1 's matchIndex from 341 to 341
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 341
current commitIndex 341 lastIncludedIndex 339 snapshot exists ? true
update server 1 's matchIndex from 341 to 341
server 2 receives appendEntry from leader 0 prevLogIndex 341
current commitIndex 341 lastIncludedIndex 339 snapshot exists ? true
update server 2 's matchIndex from 341 to 341
server 2 term 57 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 341
current commitIndex 341 lastIncludedIndex 339 snapshot exists ? true
update server 1 's matchIndex from 341 to 341
server 2 receives appendEntry from leader 0 prevLogIndex 341
current commitIndex 341 lastIncludedIndex 339 snapshot exists ? true
update server 2 's matchIndex from 341 to 341
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 341
current commitIndex 341 lastIncludedIndex 339 snapshot exists ? true
update server 2 's matchIndex from 341 to 341
server 0 term 57 state 2(leader true)(heartFlag false)
nextIndex
342 || 342 || 342 || 
matchIndex
341 || 341 || 341 || 
server 1 receives appendEntry from leader 0 prevLogIndex 341
current commitIndex 341 lastIncludedIndex 339 snapshot exists ? true
update server 1 's matchIndex from 341 to 341
server 1 term 57 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 341
current commitIndex 341 lastIncludedIndex 339 snapshot exists ? true
update server 1 's matchIndex from 341 to 341
server 2 receives appendEntry from leader 0 prevLogIndex 341
current commitIndex 341 lastIncludedIndex 339 snapshot exists ? true
append command 5649815330975871115
len(log) = 342
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 341
current commitIndex 341 lastIncludedIndex 339 snapshot exists ? true
update server 2 's matchIndex from 341 to 342
getEntryTerm
leader server 0 commit index 342 command 5649815330975871115
server 2 term 57 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 342
getEntryTerm
current commitIndex 341 lastIncludedIndex 339 snapshot exists ? true
follower server 2 commit index 342 command 5649815330975871115 
update server 2 's matchIndex from 342 to 342
append command 6491270051389009579
len(log) = 343
append command 8595689163864399400
len(log) = 344
append command 7785069797741743823
len(log) = 345
append command 4487257040092617887
len(log) = 346
append command 1977347669592343152
len(log) = 347
append command 6410707142420723349
len(log) = 348
append command 1254520486501219519
len(log) = 349
append command 8035878728506380296
len(log) = 350
append command 8333384702544645334
len(log) = 351
append command 6431164977763049684
len(log) = 352
append command 6021467300594815826
len(log) = 353
append command 6103789242502398627
len(log) = 354
append command 5998620886522188747
len(log) = 355
append command 2109998786723282358
len(log) = 356
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 342
current commitIndex 342 lastIncludedIndex 339 snapshot exists ? true
server 1 term 57 state 0(leader false)(heartFlag true)
server 0 term 57 state 2(leader true)(heartFlag false)
nextIndex
357 || 342 || 343 || 
matchIndex
356 || 341 || 342 || 
getEntryTerm
getEntryTerm
server 2 term 57 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 342
current commitIndex 342 lastIncludedIndex 339 snapshot exists ? true
update server 2 's matchIndex from 342 to 356
getEntryTerm
leader server 0 commit index 343 command 6491270051389009579
leader server 0 commit index 344 command 8595689163864399400
leader server 0 commit index 345 command 7785069797741743823
leader server 0 commit index 346 command 4487257040092617887
leader server 0 commit index 347 command 1977347669592343152
leader server 0 commit index 348 command 6410707142420723349
leader server 0 commit index 349 command 1254520486501219519
leader server 0 commit index 350 command 8035878728506380296
server 0 takes snopshot and discards logs before index 349
getEntryTerm
discard index before 349(included)
server 0 finished snopshot
leader server 0 commit index 351 command 8333384702544645334
leader server 0 commit index 352 command 6431164977763049684
leader server 0 commit index 353 command 6021467300594815826
leader server 0 commit index 354 command 6103789242502398627
leader server 0 commit index 355 command 5998620886522188747
leader server 0 commit index 356 command 2109998786723282358
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 356
getEntryTerm
current commitIndex 342 lastIncludedIndex 339 snapshot exists ? true
follower server 2 commit index 343 command 6491270051389009579 
follower server 2 commit index 344 command 8595689163864399400 
follower server 2 commit index 345 command 7785069797741743823 
follower server 2 commit index 346 command 4487257040092617887 
follower server 2 commit index 347 command 1977347669592343152 
follower server 2 commit index 348 command 6410707142420723349 
follower server 2 commit index 349 command 1254520486501219519 
follower server 2 commit index 350 command 8035878728506380296 
server 2 takes snopshot and discards logs before index 349
getEntryTerm
discard index before 349(included)
server 2 finished snopshot
follower server 2 commit index 351 command 8333384702544645334 
follower server 2 commit index 352 command 6431164977763049684 
follower server 2 commit index 353 command 6021467300594815826 
follower server 2 commit index 354 command 6103789242502398627 
follower server 2 commit index 355 command 5998620886522188747 
follower server 2 commit index 356 command 2109998786723282358 
update server 2 's matchIndex from 356 to 356
server 0 term 57 state 2(leader true)(heartFlag false)
nextIndex
357 || 342 || 357 || 
matchIndex
356 || 341 || 356 || 
append command 7245524611890590720
len(log) = 357
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 356
current commitIndex 356 lastIncludedIndex 349 snapshot exists ? true
update server 2 's matchIndex from 356 to 357
getEntryTerm
leader server 0 commit index 357 command 7245524611890590720
server 1 receives snopshot from leader 0
server 1 commit snopshot to lastIncludedIndex 349
server 1 term 57 state 0(leader false)(heartFlag false)
server 1 term 57 doesn't hear any heartbeat
server 1 convert to candidate
server 0 convert to follower
getEntryTerm
server 0 thinks candidate 1 is not up-to-date
server 0 grant false for candidate 1's requestVote
server 2 term 57 state 0(leader false)(heartFlag true)
server 0 term 58 state 0(leader false)(heartFlag false)
server 0 term 58 doesn't hear any heartbeat
server 0 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
getEntryTerm
server 2 grant true for candidate 0's requestVote
server 0 convert to leader
server 0 term 59 send appendEntries
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 357
getEntryTerm
current commitIndex 356 lastIncludedIndex 349 snapshot exists ? true
follower server 2 commit index 357 command 7245524611890590720 
update server 2 's matchIndex from 0 to 357
server 1 receives appendEntry from leader 0 prevLogIndex 357
server 1 convert to follower
lastLogIndex 349, args.PrevLogIndex 357
server 1 grant true for candidate 0's requestVote
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 349
current commitIndex 349 lastIncludedIndex 349 snapshot exists ? true
follower server 1 commit index 350 command 8035878728506380296 
follower server 1 commit index 351 command 8333384702544645334 
follower server 1 commit index 352 command 6431164977763049684 
follower server 1 commit index 353 command 6021467300594815826 
follower server 1 commit index 354 command 6103789242502398627 
follower server 1 commit index 355 command 5998620886522188747 
follower server 1 commit index 356 command 2109998786723282358 
follower server 1 commit index 357 command 7245524611890590720 
server 2 receives appendEntry from leader 0 prevLogIndex 357
current commitIndex 357 lastIncludedIndex 349 snapshot exists ? true
update server 2 's matchIndex from 357 to 357
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 357
current commitIndex 357 lastIncludedIndex 349 snapshot exists ? true
update server 2 's matchIndex from 357 to 357
server 2 term 59 state 0(leader false)(heartFlag true)
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 349
current commitIndex 357 lastIncludedIndex 349 snapshot exists ? true
update server 1 's matchIndex from 0 to 357
server 2 receives appendEntry from leader 0 prevLogIndex 357
current commitIndex 357 lastIncludedIndex 349 snapshot exists ? true
update server 2 's matchIndex from 357 to 357
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 357
current commitIndex 357 lastIncludedIndex 349 snapshot exists ? true
update server 2 's matchIndex from 357 to 357
server 1 receives appendEntry from leader 0 prevLogIndex 357
current commitIndex 357 lastIncludedIndex 349 snapshot exists ? true
update server 1 's matchIndex from 357 to 357
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 357
current commitIndex 357 lastIncludedIndex 349 snapshot exists ? true
update server 1 's matchIndex from 357 to 357
server 2 receives appendEntry from leader 0 prevLogIndex 357
current commitIndex 357 lastIncludedIndex 349 snapshot exists ? true
update server 2 's matchIndex from 357 to 357
server 1 term 59 state 0(leader false)(heartFlag true)
  ... Passed --  76.1  3 1872  724964  357
server 0 no snopshot yet
server 0 term 0 state 0(leader false)(heartFlag false)
server 0 term 0 doesn't hear any heartbeat
server 0 convert to candidate
server 1 no snopshot yet
server 1 term 0 state 0(leader false)(heartFlag false)
server 1 term 0 doesn't hear any heartbeat
server 2 no snopshot yet
server 1 convert to candidate
server 2 term 0 state 0(leader false)(heartFlag false)
server 2 term 0 doesn't hear any heartbeat
server 2 convert to candidate
Test (2D): install snapshots (crash) ...
server 2 already has a voteFor 2 but not candidate 1
server 2 grant false for candidate 1's requestVote
server 1 already has a voteFor 1 but not candidate 2
server 1 grant false for candidate 2's requestVote
server 0 already has a voteFor 0 but not candidate 1
server 0 grant false for candidate 1's requestVote
server 0 already has a voteFor 0 but not candidate 2
server 0 grant false for candidate 2's requestVote
server 1 term 1 ElectionTimeOut
server 1 convert to candidate
server 2 convert to follower
server 2 grant true for candidate 1's requestVote
server 0 convert to follower
server 1 convert to leader
server 0 grant true for candidate 1's requestVote
server 1 term 2 send appendEntries
server 2 receives appendEntry from leader 1 prevLogIndex 0
current commitIndex 0 lastIncludedIndex 0 snapshot exists ? false
server 0 receives appendEntry from leader 1 prevLogIndex 0
current commitIndex 0 lastIncludedIndex 0 snapshot exists ? false
update server 2 's matchIndex from 0 to 0
update server 0 's matchIndex from 0 to 0
append command 944714612698031579
len(log) = 1
server 2 receives appendEntry from leader 1 prevLogIndex 0
current commitIndex 0 lastIncludedIndex 0 snapshot exists ? false
server 0 receives appendEntry from leader 1 prevLogIndex 0
current commitIndex 0 lastIncludedIndex 0 snapshot exists ? false
update server 2 's matchIndex from 0 to 1
update server 0 's matchIndex from 0 to 1
getEntryTerm
leader server 1 commit index 1 command 944714612698031579
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 1
getEntryTerm
current commitIndex 0 lastIncludedIndex 0 snapshot exists ? false
follower server 0 commit index 1 command 944714612698031579 
server 2 receives appendEntry from leader 1 prevLogIndex 1
getEntryTerm
current commitIndex 0 lastIncludedIndex 0 snapshot exists ? false
follower server 2 commit index 1 command 944714612698031579 
update server 0 's matchIndex from 1 to 1
update server 2 's matchIndex from 1 to 1
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 1
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
server 0 receives appendEntry from leader 1 prevLogIndex 1
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
update server 2 's matchIndex from 1 to 1
update server 0 's matchIndex from 1 to 1
server 2 term 2 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 1
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
server 2 receives appendEntry from leader 1 prevLogIndex 1
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
update server 0 's matchIndex from 1 to 1
update server 2 's matchIndex from 1 to 1
server 0 term 2 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 1
server 0 receives appendEntry from leader 1 prevLogIndex 1
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
update server 0 's matchIndex from 1 to 1
update server 2 's matchIndex from 1 to 1
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 1
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
server 2 receives appendEntry from leader 1 prevLogIndex 1
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
update server 0 's matchIndex from 1 to 1
update server 2 's matchIndex from 1 to 1
append command 2683376954855240586
len(log) = 2
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 1
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
update server 0 's matchIndex from 1 to 2
getEntryTerm
leader server 1 commit index 2 command 2683376954855240586
server 1 term 2 state 2(leader true)(heartFlag false)
nextIndex
3 || 3 || 2 || 
matchIndex
2 || 2 || 1 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 2
getEntryTerm
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
follower server 0 commit index 2 command 2683376954855240586 
update server 0 's matchIndex from 2 to 2
append command 2583860906340841321
len(log) = 3
append command 5514202400460671200
len(log) = 4
append command 6785408595585584906
len(log) = 5
append command 1636910151671886480
len(log) = 6
append command 7194475844351971263
len(log) = 7
append command 1005587572242547205
len(log) = 8
append command 8868572052785091871
len(log) = 9
append command 3142804799937562794
len(log) = 10
append command 4874026432868834063
len(log) = 11
append command 1173103952540580835
len(log) = 12
append command 7628674150580533851
len(log) = 13
append command 9146163035817274088
len(log) = 14
append command 4510271890659814508
len(log) = 15
append command 4258880255197639321
len(log) = 16
append command 6052995634163106025
len(log) = 17
server 0 term 2 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 2
current commitIndex 2 lastIncludedIndex 0 snapshot exists ? false
update server 0 's matchIndex from 2 to 17
getEntryTerm
leader server 1 commit index 3 command 2583860906340841321
leader server 1 commit index 4 command 5514202400460671200
leader server 1 commit index 5 command 6785408595585584906
leader server 1 commit index 6 command 1636910151671886480
leader server 1 commit index 7 command 7194475844351971263
leader server 1 commit index 8 command 1005587572242547205
leader server 1 commit index 9 command 8868572052785091871
leader server 1 commit index 10 command 3142804799937562794
server 1 takes snopshot and discards logs before index 9
getEntryTerm
discard index before 9(included)
server 1 finished snopshot
leader server 1 commit index 11 command 4874026432868834063
leader server 1 commit index 12 command 1173103952540580835
leader server 1 commit index 13 command 7628674150580533851
leader server 1 commit index 14 command 9146163035817274088
leader server 1 commit index 15 command 4510271890659814508
leader server 1 commit index 16 command 4258880255197639321
leader server 1 commit index 17 command 6052995634163106025
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 17
getEntryTerm
current commitIndex 2 lastIncludedIndex 0 snapshot exists ? false
follower server 0 commit index 3 command 2583860906340841321 
follower server 0 commit index 4 command 5514202400460671200 
follower server 0 commit index 5 command 6785408595585584906 
follower server 0 commit index 6 command 1636910151671886480 
follower server 0 commit index 7 command 7194475844351971263 
follower server 0 commit index 8 command 1005587572242547205 
follower server 0 commit index 9 command 8868572052785091871 
follower server 0 commit index 10 command 3142804799937562794 
server 0 takes snopshot and discards logs before index 9
getEntryTerm
discard index before 9(included)
server 0 finished snopshot
follower server 0 commit index 11 command 4874026432868834063 
follower server 0 commit index 12 command 1173103952540580835 
follower server 0 commit index 13 command 7628674150580533851 
follower server 0 commit index 14 command 9146163035817274088 
follower server 0 commit index 15 command 4510271890659814508 
follower server 0 commit index 16 command 4258880255197639321 
follower server 0 commit index 17 command 6052995634163106025 
update server 0 's matchIndex from 17 to 17
server 2 no snopshot yet
append command 3211749146835618220
server 2 term 2 state 0(leader false)(heartFlag false)
server 2 term 2 doesn't hear any heartbeat
server 2 convert to candidate
len(log) = 18
getEntryTerm
getEntryTerm
server 1 convert to follower
server 0 convert to follower
getEntryTerm
server 1 thinks candidate 2 is not up-to-date
server 1 grant false for candidate 2's requestVote
getEntryTerm
server 0 thinks candidate 2 is not up-to-date
server 0 grant false for candidate 2's requestVote
server 1 term 3 state 0(leader false)(heartFlag false)
server 1 term 3 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
getEntryTerm
server 0 convert to follower
getEntryTerm
server 2 grant true for candidate 1's requestVote
server 0 grant true for candidate 1's requestVote
server 1 convert to leader
server 1 term 4 send appendEntries
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 18
lastLogIndex 1, args.PrevLogIndex 18
server 0 receives appendEntry from leader 1 prevLogIndex 18
lastLogIndex 17, args.PrevLogIndex 18
getEntryTerm
server 2 receives snopshot from leader 1
server 2 commit snopshot to lastIncludedIndex 9
server 0 receives appendEntry from leader 1 prevLogIndex 17
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
update server 0 's matchIndex from 0 to 18
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 9
current commitIndex 9 lastIncludedIndex 9 snapshot exists ? true
follower server 2 commit index 10 command 3142804799937562794 
follower server 2 commit index 11 command 4874026432868834063 
update server 0 's matchIndex from 18 to 18
follower server 2 commit index 12 command 1173103952540580835 
follower server 2 commit index 13 command 7628674150580533851 
follower server 2 commit index 14 command 9146163035817274088 
follower server 2 commit index 15 command 4510271890659814508 
follower server 2 commit index 16 command 4258880255197639321 
follower server 2 commit index 17 command 6052995634163106025 
update server 2 's matchIndex from 9 to 18
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 4 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
update server 0 's matchIndex from 18 to 18
update server 2 's matchIndex from 18 to 18
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 18 to 18
update server 0 's matchIndex from 18 to 18
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 18 to 18
update server 0 's matchIndex from 18 to 18
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
update server 0 's matchIndex from 18 to 18
update server 2 's matchIndex from 18 to 18
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 18 to 18
update server 0 's matchIndex from 18 to 18
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 18 to 18
update server 0 's matchIndex from 18 to 18
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 4 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 18 to 18
update server 0 's matchIndex from 18 to 18
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 18 to 18
update server 0 's matchIndex from 18 to 18
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
update server 0 's matchIndex from 18 to 18
update server 2 's matchIndex from 18 to 18
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 18 to 18
getEntryTerm
getEntryTerm
update server 0 's matchIndex from 18 to 18
getEntryTerm
getEntryTerm
server 1 term 4 state 2(leader true)(heartFlag false)
nextIndex
19 || 19 || 19 || 
matchIndex
18 || 18 || 18 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 18 to 18
update server 0 's matchIndex from 18 to 18
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 18 to 18
update server 0 's matchIndex from 18 to 18
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 4 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 18 to 18
update server 0 's matchIndex from 18 to 18
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
getEntryTerm
update server 2 's matchIndex from 18 to 18
getEntryTerm
update server 0 's matchIndex from 18 to 18
getEntryTerm
getEntryTerm
server 2 term 4 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 18 to 18
update server 0 's matchIndex from 18 to 18
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 18 to 18
update server 0 's matchIndex from 18 to 18
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 4 state 2(leader true)(heartFlag false)
nextIndex
19 || 19 || 19 || 
matchIndex
18 || 18 || 18 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
update server 0 's matchIndex from 18 to 18
update server 2 's matchIndex from 18 to 18
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 18 to 18
update server 0 's matchIndex from 18 to 18
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 4 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 18 to 18
update server 0 's matchIndex from 18 to 18
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
server 2 term 4 state 0(leader false)(heartFlag true)
update server 2 's matchIndex from 18 to 18
update server 0 's matchIndex from 18 to 18
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
update server 0 's matchIndex from 18 to 18
update server 2 's matchIndex from 18 to 18
server 1 term 4 state 2(leader true)(heartFlag false)
nextIndex
19 || 19 || 19 || 
matchIndex
18 || 18 || 18 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
update server 0 's matchIndex from 18 to 18
update server 2 's matchIndex from 18 to 18
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 18 to 18
update server 0 's matchIndex from 18 to 18
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
update server 0 's matchIndex from 18 to 18
update server 2 's matchIndex from 18 to 18
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 4 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
update server 0 's matchIndex from 18 to 18
update server 2 's matchIndex from 18 to 18
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 18 to 18
update server 0 's matchIndex from 18 to 18
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 4 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 4 state 2(leader true)(heartFlag false)
nextIndex
19 || 19 || 19 || 
matchIndex
18 || 18 || 18 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
update server 0 's matchIndex from 18 to 18
update server 2 's matchIndex from 18 to 18
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 18 to 18
update server 0 's matchIndex from 18 to 18
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
update server 0 's matchIndex from 18 to 18
update server 2 's matchIndex from 18 to 18
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 18 to 18
update server 0 's matchIndex from 18 to 18
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 18 to 18
update server 0 's matchIndex from 18 to 18
getEntryTerm
getEntryTerm
server 0 term 4 state 0(leader false)(heartFlag true)
server 2 term 4 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 18 to 18
update server 0 's matchIndex from 18 to 18
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
update server 0 's matchIndex from 18 to 18
update server 2 's matchIndex from 18 to 18
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 18 to 18
update server 0 's matchIndex from 18 to 18
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 18 to 18
update server 0 's matchIndex from 18 to 18
server 1 term 4 state 2(leader true)(heartFlag false)
nextIndex
19 || 19 || 19 || 
matchIndex
18 || 18 || 18 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 18 to 18
update server 0 's matchIndex from 18 to 18
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 4 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
update server 0 's matchIndex from 18 to 18
update server 2 's matchIndex from 18 to 18
getEntryTerm
getEntryTerm
server 0 term 4 state 0(leader false)(heartFlag true)
append command 3211749146835618220
len(log) = 19
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
update server 0 's matchIndex from 18 to 19
update server 2 's matchIndex from 18 to 19
getEntryTerm
leader server 1 commit index 18 command 3211749146835618220
leader server 1 commit index 19 command 3211749146835618220
server 1 takes snopshot and discards logs before index 19
getEntryTerm
discard index before 19(included)
server 1 finished snopshot
server 2 receives appendEntry from leader 1 prevLogIndex 19
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 19
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
follower server 2 commit index 18 command 3211749146835618220 
follower server 2 commit index 19 command 3211749146835618220 
follower server 0 commit index 18 command 3211749146835618220 
follower server 0 commit index 19 command 3211749146835618220 
server 2 takes snopshot and discards logs before index 19
getEntryTerm
discard index before 19(included)
server 2 finished snopshot
server 0 takes snopshot and discards logs before index 19
getEntryTerm
discard index before 19(included)
update server 0 's matchIndex from 19 to 19
update server 2 's matchIndex from 19 to 19
server 0 finished snopshot
server 2 receives appendEntry from leader 1 prevLogIndex 19
current commitIndex 19 lastIncludedIndex 19 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 19
current commitIndex 19 lastIncludedIndex 19 snapshot exists ? true
update server 0 's matchIndex from 19 to 19
update server 2 's matchIndex from 19 to 19
server 2 receives appendEntry from leader 1 prevLogIndex 19
current commitIndex 19 lastIncludedIndex 19 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 19
current commitIndex 19 lastIncludedIndex 19 snapshot exists ? true
update server 2 's matchIndex from 19 to 19
update server 0 's matchIndex from 19 to 19
server 1 term 4 state 2(leader true)(heartFlag false)
nextIndex
20 || 20 || 20 || 
matchIndex
19 || 19 || 19 || 
server 2 receives appendEntry from leader 1 prevLogIndex 19
current commitIndex 19 lastIncludedIndex 19 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 19
current commitIndex 19 lastIncludedIndex 19 snapshot exists ? true
update server 2 's matchIndex from 19 to 19
update server 0 's matchIndex from 19 to 19
server 2 receives appendEntry from leader 1 prevLogIndex 19
current commitIndex 19 lastIncludedIndex 19 snapshot exists ? true
update server 2 's matchIndex from 19 to 19
server 0 receives appendEntry from leader 1 prevLogIndex 19
current commitIndex 19 lastIncludedIndex 19 snapshot exists ? true
update server 0 's matchIndex from 19 to 19
server 2 term 4 state 0(leader false)(heartFlag true)
server 0 receives appendEntry from leader 1 prevLogIndex 19
current commitIndex 19 lastIncludedIndex 19 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 19
current commitIndex 19 lastIncludedIndex 19 snapshot exists ? true
update server 0 's matchIndex from 19 to 19
update server 2 's matchIndex from 19 to 19
server 0 term 4 state 0(leader false)(heartFlag true)
server 2 receives appendEntry from leader 1 prevLogIndex 19
current commitIndex 19 lastIncludedIndex 19 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 19
current commitIndex 19 lastIncludedIndex 19 snapshot exists ? true
update server 0 's matchIndex from 19 to 19
update server 2 's matchIndex from 19 to 19
server 2 receives appendEntry from leader 1 prevLogIndex 19
current commitIndex 19 lastIncludedIndex 19 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 19
current commitIndex 19 lastIncludedIndex 19 snapshot exists ? true
update server 2 's matchIndex from 19 to 19
update server 0 's matchIndex from 19 to 19
server 1 term 4 state 2(leader true)(heartFlag false)
nextIndex
20 || 20 || 20 || 
matchIndex
19 || 19 || 19 || 
server 2 receives appendEntry from leader 1 prevLogIndex 19
current commitIndex 19 lastIncludedIndex 19 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 19
current commitIndex 19 lastIncludedIndex 19 snapshot exists ? true
update server 2 's matchIndex from 19 to 19
update server 0 's matchIndex from 19 to 19
server 2 receives appendEntry from leader 1 prevLogIndex 19
current commitIndex 19 lastIncludedIndex 19 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 19
current commitIndex 19 lastIncludedIndex 19 snapshot exists ? true
update server 2 's matchIndex from 19 to 19
update server 0 's matchIndex from 19 to 19
server 0 term 4 state 0(leader false)(heartFlag true)
server 0 receives appendEntry from leader 1 prevLogIndex 19
current commitIndex 19 lastIncludedIndex 19 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 19
current commitIndex 19 lastIncludedIndex 19 snapshot exists ? true
update server 0 's matchIndex from 19 to 19
update server 2 's matchIndex from 19 to 19
server 2 term 4 state 0(leader false)(heartFlag true)
server 0 term 4 state 0(leader false)(heartFlag true)
server 2 term 4 state 0(leader false)(heartFlag false)
server 2 term 4 doesn't hear any heartbeat
server 2 convert to candidate
server 0 convert to follower
server 0 grant true for candidate 2's requestVote
server 2 convert to leader
server 2 term 5 send appendEntries
server 0 receives appendEntry from leader 2 prevLogIndex 19
current commitIndex 19 lastIncludedIndex 19 snapshot exists ? true
update server 0 's matchIndex from 0 to 19
append command 1613469588502372224
len(log) = 20
server 0 receives appendEntry from leader 2 prevLogIndex 19
current commitIndex 19 lastIncludedIndex 19 snapshot exists ? true
update server 0 's matchIndex from 19 to 20
getEntryTerm
leader server 2 commit index 20 command 1613469588502372224
server 0 term 5 state 0(leader false)(heartFlag true)
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 20
getEntryTerm
current commitIndex 19 lastIncludedIndex 19 snapshot exists ? true
follower server 0 commit index 20 command 1613469588502372224 
update server 0 's matchIndex from 20 to 20
append command 8433765196095995048
len(log) = 21
append command 4934022591880832161
len(log) = 22
append command 276074320649183368
len(log) = 23
append command 1803429281463238598
len(log) = 24
append command 2096615594735253135
len(log) = 25
append command 8403015535189091563
len(log) = 26
append command 6006116083474521347
len(log) = 27
append command 1837209203906913878
len(log) = 28
append command 1095223012791851668
len(log) = 29
append command 6184502976871758956
len(log) = 30
append command 1530943029199856734
len(log) = 31
append command 7666136660812217584
len(log) = 32
append command 518117075753044350
len(log) = 33
append command 547038407027054679
len(log) = 34
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 20
current commitIndex 20 lastIncludedIndex 19 snapshot exists ? true
update server 0 's matchIndex from 20 to 34
getEntryTerm
leader server 2 commit index 21 command 8433765196095995048
leader server 2 commit index 22 command 4934022591880832161
leader server 2 commit index 23 command 276074320649183368
leader server 2 commit index 24 command 1803429281463238598
leader server 2 commit index 25 command 2096615594735253135
leader server 2 commit index 26 command 8403015535189091563
leader server 2 commit index 27 command 6006116083474521347
leader server 2 commit index 28 command 1837209203906913878
leader server 2 commit index 29 command 1095223012791851668
leader server 2 commit index 30 command 6184502976871758956
server 2 takes snopshot and discards logs before index 29
getEntryTerm
discard index before 29(included)
server 2 finished snopshot
leader server 2 commit index 31 command 1530943029199856734
leader server 2 commit index 32 command 7666136660812217584
leader server 2 commit index 33 command 518117075753044350
leader server 2 commit index 34 command 547038407027054679
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 34
getEntryTerm
current commitIndex 20 lastIncludedIndex 19 snapshot exists ? true
follower server 0 commit index 21 command 8433765196095995048 
follower server 0 commit index 22 command 4934022591880832161 
follower server 0 commit index 23 command 276074320649183368 
follower server 0 commit index 24 command 1803429281463238598 
follower server 0 commit index 25 command 2096615594735253135 
follower server 0 commit index 26 command 8403015535189091563 
follower server 0 commit index 27 command 6006116083474521347 
follower server 0 commit index 28 command 1837209203906913878 
follower server 0 commit index 29 command 1095223012791851668 
follower server 0 commit index 30 command 6184502976871758956 
server 0 takes snopshot and discards logs before index 29
getEntryTerm
discard index before 29(included)
server 0 finished snopshot
follower server 0 commit index 31 command 1530943029199856734 
follower server 0 commit index 32 command 7666136660812217584 
follower server 0 commit index 33 command 518117075753044350 
follower server 0 commit index 34 command 547038407027054679 
update server 0 's matchIndex from 34 to 34
server 1 read form stored snapshot
server 1 recover from snopshot
server 1 finishes recovery
append command 117212930268421979
server 1 term 4 state 0(leader false)(heartFlag false)
server 1 term 4 doesn't hear any heartbeat
server 1 convert to candidate
len(log) = 35
getEntryTerm
server 2 already has a voteFor 2 but not candidate 1
server 2 grant false for candidate 1's requestVote
getEntryTerm
server 0 already has a voteFor 2 but not candidate 1
server 0 grant false for candidate 1's requestVote
server 0 term 5 state 0(leader false)(heartFlag true)
getEntryTerm
server 1 receives snopshot from leader 2
server 1 commit snopshot to lastIncludedIndex 29
server 0 receives appendEntry from leader 2 prevLogIndex 34
current commitIndex 34 lastIncludedIndex 29 snapshot exists ? true
update server 0 's matchIndex from 34 to 35
getEntryTerm
leader server 2 commit index 35 command 117212930268421979
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 35
getEntryTerm
current commitIndex 34 lastIncludedIndex 29 snapshot exists ? true
follower server 0 commit index 35 command 117212930268421979 
update server 0 's matchIndex from 35 to 35
server 1 receives appendEntry from leader 2 prevLogIndex 29
server 1 convert to follower
current commitIndex 29 lastIncludedIndex 29 snapshot exists ? true
follower server 1 commit index 30 command 6184502976871758956 
follower server 1 commit index 31 command 1530943029199856734 
follower server 1 commit index 32 command 7666136660812217584 
follower server 1 commit index 33 command 518117075753044350 
follower server 1 commit index 34 command 547038407027054679 
follower server 1 commit index 35 command 117212930268421979 
update server 1 's matchIndex from 29 to 35
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 35
current commitIndex 35 lastIncludedIndex 29 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 35
current commitIndex 35 lastIncludedIndex 29 snapshot exists ? true
update server 1 's matchIndex from 35 to 35
update server 0 's matchIndex from 35 to 35
server 2 term 5 state 2(leader true)(heartFlag false)
nextIndex
36 || 36 || 36 || 
matchIndex
35 || 35 || 35 || 
server 0 term 5 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 35
current commitIndex 35 lastIncludedIndex 29 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 35
current commitIndex 35 lastIncludedIndex 29 snapshot exists ? true
update server 1 's matchIndex from 35 to 35
update server 0 's matchIndex from 35 to 35
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 35
current commitIndex 35 lastIncludedIndex 29 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 35
current commitIndex 35 lastIncludedIndex 29 snapshot exists ? true
update server 1 's matchIndex from 35 to 35
update server 0 's matchIndex from 35 to 35
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 35
current commitIndex 35 lastIncludedIndex 29 snapshot exists ? true
update server 1 's matchIndex from 35 to 35
server 0 receives appendEntry from leader 2 prevLogIndex 35
current commitIndex 35 lastIncludedIndex 29 snapshot exists ? true
update server 0 's matchIndex from 35 to 35
append command 1723515698265806529
len(log) = 36
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 35
current commitIndex 35 lastIncludedIndex 29 snapshot exists ? true
update server 1 's matchIndex from 35 to 36
getEntryTerm
leader server 2 commit index 36 command 1723515698265806529
server 1 term 5 state 0(leader false)(heartFlag true)
server 2 term 5 state 2(leader true)(heartFlag false)
nextIndex
36 || 37 || 37 || 
matchIndex
35 || 36 || 36 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 36
getEntryTerm
current commitIndex 35 lastIncludedIndex 29 snapshot exists ? true
follower server 1 commit index 36 command 1723515698265806529 
update server 1 's matchIndex from 36 to 36
append command 3037146116520152066
len(log) = 37
append command 2925185762218663706
len(log) = 38
append command 308890538740557530
len(log) = 39
append command 1391827852613215035
len(log) = 40
append command 6860424086524676173
len(log) = 41
append command 3809329171397507858
len(log) = 42
append command 7045982293229325637
len(log) = 43
append command 365740245296777374
len(log) = 44
append command 2784636018678801377
len(log) = 45
append command 1374590222745384751
len(log) = 46
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 36
current commitIndex 36 lastIncludedIndex 29 snapshot exists ? true
update server 1 's matchIndex from 36 to 46
getEntryTerm
leader server 2 commit index 37 command 3037146116520152066
leader server 2 commit index 38 command 2925185762218663706
leader server 2 commit index 39 command 308890538740557530
leader server 2 commit index 40 command 1391827852613215035
server 2 takes snopshot and discards logs before index 39
getEntryTerm
discard index before 39(included)
server 2 finished snopshot
leader server 2 commit index 41 command 6860424086524676173
leader server 2 commit index 42 command 3809329171397507858
leader server 2 commit index 43 command 7045982293229325637
leader server 2 commit index 44 command 365740245296777374
leader server 2 commit index 45 command 2784636018678801377
leader server 2 commit index 46 command 1374590222745384751
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 46
getEntryTerm
current commitIndex 36 lastIncludedIndex 29 snapshot exists ? true
follower server 1 commit index 37 command 3037146116520152066 
follower server 1 commit index 38 command 2925185762218663706 
follower server 1 commit index 39 command 308890538740557530 
follower server 1 commit index 40 command 1391827852613215035 
server 1 takes snopshot and discards logs before index 39
getEntryTerm
discard index before 39(included)
server 1 finished snopshot
follower server 1 commit index 41 command 6860424086524676173 
follower server 1 commit index 42 command 3809329171397507858 
follower server 1 commit index 43 command 7045982293229325637 
follower server 1 commit index 44 command 365740245296777374 
follower server 1 commit index 45 command 2784636018678801377 
follower server 1 commit index 46 command 1374590222745384751 
update server 1 's matchIndex from 46 to 46
server 0 read form stored snapshot
server 0 recover from snopshot
server 0 finishes recovery
append command 609135899735830366
len(log) = 47
server 0 term 5 state 0(leader false)(heartFlag false)
server 0 term 5 doesn't hear any heartbeat
server 0 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
getEntryTerm
server 2 thinks candidate 0 is not up-to-date
server 2 grant false for candidate 0's requestVote
server 1 convert to follower
getEntryTerm
server 1 thinks candidate 0 is not up-to-date
server 1 grant false for candidate 0's requestVote
server 1 term 6 state 0(leader false)(heartFlag true)
server 2 term 6 state 0(leader false)(heartFlag false)
server 2 term 6 doesn't hear any heartbeat
server 2 convert to candidate
getEntryTerm
getEntryTerm
server 1 convert to follower
getEntryTerm
server 0 convert to follower
server 1 grant true for candidate 2's requestVote
getEntryTerm
server 0 grant true for candidate 2's requestVote
server 2 convert to leader
server 2 term 7 send appendEntries
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 47
lastLogIndex 46, args.PrevLogIndex 47
server 0 receives appendEntry from leader 2 prevLogIndex 47
lastLogIndex 35, args.PrevLogIndex 47
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 46
current commitIndex 46 lastIncludedIndex 39 snapshot exists ? true
server 0 receives snopshot from leader 2
server 0 commit snopshot to lastIncludedIndex 39
update server 1 's matchIndex from 0 to 47
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 7 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 47
getEntryTerm
current commitIndex 46 lastIncludedIndex 39 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 39
current commitIndex 39 lastIncludedIndex 39 snapshot exists ? true
follower server 0 commit index 40 command 1391827852613215035 
follower server 0 commit index 41 command 6860424086524676173 
follower server 0 commit index 42 command 3809329171397507858 
follower server 0 commit index 43 command 7045982293229325637 
follower server 0 commit index 44 command 365740245296777374 
follower server 0 commit index 45 command 2784636018678801377 
follower server 0 commit index 46 command 1374590222745384751 
update server 1 's matchIndex from 47 to 47
update server 0 's matchIndex from 39 to 47
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 47
getEntryTerm
current commitIndex 46 lastIncludedIndex 39 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 47
getEntryTerm
current commitIndex 46 lastIncludedIndex 39 snapshot exists ? true
update server 0 's matchIndex from 47 to 47
update server 1 's matchIndex from 47 to 47
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 47
getEntryTerm
current commitIndex 46 lastIncludedIndex 39 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 47
getEntryTerm
current commitIndex 46 lastIncludedIndex 39 snapshot exists ? true
update server 1 's matchIndex from 47 to 47
update server 0 's matchIndex from 47 to 47
server 0 term 7 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 47
getEntryTerm
current commitIndex 46 lastIncludedIndex 39 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 47
getEntryTerm
current commitIndex 46 lastIncludedIndex 39 snapshot exists ? true
update server 1 's matchIndex from 47 to 47
update server 0 's matchIndex from 47 to 47
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 7 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 47
getEntryTerm
current commitIndex 46 lastIncludedIndex 39 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 47
getEntryTerm
current commitIndex 46 lastIncludedIndex 39 snapshot exists ? true
update server 0 's matchIndex from 47 to 47
update server 1 's matchIndex from 47 to 47
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 7 state 2(leader true)(heartFlag false)
nextIndex
48 || 48 || 48 || 
matchIndex
47 || 47 || 47 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 47
getEntryTerm
current commitIndex 46 lastIncludedIndex 39 snapshot exists ? true
update server 1 's matchIndex from 47 to 47
server 0 receives appendEntry from leader 2 prevLogIndex 47
getEntryTerm
current commitIndex 46 lastIncludedIndex 39 snapshot exists ? true
update server 0 's matchIndex from 47 to 47
server 0 term 7 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 47
getEntryTerm
current commitIndex 46 lastIncludedIndex 39 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 47
getEntryTerm
current commitIndex 46 lastIncludedIndex 39 snapshot exists ? true
update server 0 's matchIndex from 47 to 47
update server 1 's matchIndex from 47 to 47
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 47
getEntryTerm
current commitIndex 46 lastIncludedIndex 39 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 47
getEntryTerm
current commitIndex 46 lastIncludedIndex 39 snapshot exists ? true
update server 0 's matchIndex from 47 to 47
update server 1 's matchIndex from 47 to 47
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 7 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 7 state 2(leader true)(heartFlag false)
nextIndex
48 || 48 || 48 || 
matchIndex
47 || 47 || 47 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 47
getEntryTerm
current commitIndex 46 lastIncludedIndex 39 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 47
getEntryTerm
current commitIndex 46 lastIncludedIndex 39 snapshot exists ? true
update server 1 's matchIndex from 47 to 47
update server 0 's matchIndex from 47 to 47
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 7 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 47
getEntryTerm
current commitIndex 46 lastIncludedIndex 39 snapshot exists ? true
update server 0 's matchIndex from 47 to 47
server 1 receives appendEntry from leader 2 prevLogIndex 47
getEntryTerm
current commitIndex 46 lastIncludedIndex 39 snapshot exists ? true
update server 1 's matchIndex from 47 to 47
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 47
getEntryTerm
current commitIndex 46 lastIncludedIndex 39 snapshot exists ? true
update server 0 's matchIndex from 47 to 47
server 1 receives appendEntry from leader 2 prevLogIndex 47
getEntryTerm
current commitIndex 46 lastIncludedIndex 39 snapshot exists ? true
update server 1 's matchIndex from 47 to 47
getEntryTerm
getEntryTerm
server 1 term 7 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 47
getEntryTerm
current commitIndex 46 lastIncludedIndex 39 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 47
getEntryTerm
current commitIndex 46 lastIncludedIndex 39 snapshot exists ? true
update server 1 's matchIndex from 47 to 47
update server 0 's matchIndex from 47 to 47
getEntryTerm
getEntryTerm
server 0 term 7 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 7 state 2(leader true)(heartFlag false)
nextIndex
48 || 48 || 48 || 
matchIndex
47 || 47 || 47 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 47
getEntryTerm
current commitIndex 46 lastIncludedIndex 39 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 47
update server 0 's matchIndex from 47 to 47
getEntryTerm
current commitIndex 46 lastIncludedIndex 39 snapshot exists ? true
update server 1 's matchIndex from 47 to 47
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 47
getEntryTerm
current commitIndex 46 lastIncludedIndex 39 snapshot exists ? true
update server 0 's matchIndex from 47 to 47
server 1 receives appendEntry from leader 2 prevLogIndex 47
getEntryTerm
current commitIndex 46 lastIncludedIndex 39 snapshot exists ? true
update server 1 's matchIndex from 47 to 47
server 1 term 7 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 47
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 47
getEntryTerm
current commitIndex 46 lastIncludedIndex 39 snapshot exists ? true
current commitIndex 46 lastIncludedIndex 39 snapshot exists ? true
update server 1 's matchIndex from 47 to 47
update server 0 's matchIndex from 47 to 47
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 47
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 47
getEntryTerm
current commitIndex 46 lastIncludedIndex 39 snapshot exists ? true
update server 0 's matchIndex from 47 to 47
current commitIndex 46 lastIncludedIndex 39 snapshot exists ? true
update server 1 's matchIndex from 47 to 47
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 7 state 2(leader true)(heartFlag false)
nextIndex
48 || 48 || 48 || 
matchIndex
47 || 47 || 47 || 
getEntryTerm
server 0 term 7 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 47
getEntryTerm
current commitIndex 46 lastIncludedIndex 39 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 47
getEntryTerm
current commitIndex 46 lastIncludedIndex 39 snapshot exists ? true
update server 1 's matchIndex from 47 to 47
update server 0 's matchIndex from 47 to 47
getEntryTerm
append command 609135899735830366
len(log) = 48
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 47
getEntryTerm
current commitIndex 46 lastIncludedIndex 39 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 47
getEntryTerm
current commitIndex 46 lastIncludedIndex 39 snapshot exists ? true
update server 1 's matchIndex from 47 to 48
update server 0 's matchIndex from 47 to 48
getEntryTerm
leader server 2 commit index 47 command 609135899735830366
leader server 2 commit index 48 command 609135899735830366
server 1 term 7 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 48
getEntryTerm
current commitIndex 46 lastIncludedIndex 39 snapshot exists ? true
follower server 1 commit index 47 command 609135899735830366 
follower server 1 commit index 48 command 609135899735830366 
server 0 receives appendEntry from leader 2 prevLogIndex 48
getEntryTerm
current commitIndex 46 lastIncludedIndex 39 snapshot exists ? true
follower server 0 commit index 47 command 609135899735830366 
follower server 0 commit index 48 command 609135899735830366 
update server 1 's matchIndex from 48 to 48
update server 0 's matchIndex from 48 to 48
server 0 term 7 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 48
current commitIndex 48 lastIncludedIndex 39 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 48
current commitIndex 48 lastIncludedIndex 39 snapshot exists ? true
update server 1 's matchIndex from 48 to 48
update server 0 's matchIndex from 48 to 48
server 2 term 7 state 2(leader true)(heartFlag false)
nextIndex
49 || 49 || 49 || 
matchIndex
48 || 48 || 48 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 48
current commitIndex 48 lastIncludedIndex 39 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 48
current commitIndex 48 lastIncludedIndex 39 snapshot exists ? true
update server 1 's matchIndex from 48 to 48
update server 0 's matchIndex from 48 to 48
server 1 term 7 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 48
current commitIndex 48 lastIncludedIndex 39 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 48
current commitIndex 48 lastIncludedIndex 39 snapshot exists ? true
update server 1 's matchIndex from 48 to 48
update server 0 's matchIndex from 48 to 48
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 48
current commitIndex 48 lastIncludedIndex 39 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 48
current commitIndex 48 lastIncludedIndex 39 snapshot exists ? true
update server 0 's matchIndex from 48 to 48
update server 1 's matchIndex from 48 to 48
server 0 term 7 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 48
current commitIndex 48 lastIncludedIndex 39 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 48
current commitIndex 48 lastIncludedIndex 39 snapshot exists ? true
update server 1 's matchIndex from 48 to 48
update server 0 's matchIndex from 48 to 48
append command 2037681134740914515
len(log) = 49
server 1 term 7 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 48
current commitIndex 48 lastIncludedIndex 39 snapshot exists ? true
update server 1 's matchIndex from 48 to 49
getEntryTerm
leader server 2 commit index 49 command 2037681134740914515
server 2 takes snopshot and discards logs before index 49
getEntryTerm
discard index before 49(included)
server 2 finished snopshot
server 2 term 7 state 2(leader true)(heartFlag false)
nextIndex
49 || 50 || 50 || 
matchIndex
48 || 49 || 49 || 
server 1 receives appendEntry from leader 2 prevLogIndex 49
getEntryTerm
current commitIndex 48 lastIncludedIndex 39 snapshot exists ? true
follower server 1 commit index 49 command 2037681134740914515 
update server 1 's matchIndex from 49 to 49
server 1 takes snopshot and discards logs before index 49
getEntryTerm
discard index before 49(included)
server 1 finished snopshot
append command 472139520677865212
len(log) = 50
append command 2538841491349864510
len(log) = 51
append command 7735714152263925980
len(log) = 52
append command 7415720627837738171
len(log) = 53
append command 4619594228896710868
len(log) = 54
append command 6535984522027780370
len(log) = 55
append command 678353382297786959
len(log) = 56
server 1 receives appendEntry from leader 2 prevLogIndex 49
current commitIndex 49 lastIncludedIndex 49 snapshot exists ? true
update server 1 's matchIndex from 49 to 56
getEntryTerm
leader server 2 commit index 50 command 472139520677865212
leader server 2 commit index 51 command 2538841491349864510
leader server 2 commit index 52 command 7735714152263925980
leader server 2 commit index 53 command 7415720627837738171
leader server 2 commit index 54 command 4619594228896710868
leader server 2 commit index 55 command 6535984522027780370
leader server 2 commit index 56 command 678353382297786959
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 56
getEntryTerm
current commitIndex 49 lastIncludedIndex 49 snapshot exists ? true
follower server 1 commit index 50 command 472139520677865212 
follower server 1 commit index 51 command 2538841491349864510 
follower server 1 commit index 52 command 7735714152263925980 
follower server 1 commit index 53 command 7415720627837738171 
follower server 1 commit index 54 command 4619594228896710868 
follower server 1 commit index 55 command 6535984522027780370 
follower server 1 commit index 56 command 678353382297786959 
update server 1 's matchIndex from 56 to 56
server 0 read form stored snapshot
server 0 recover from snopshot
server 0 finishes recovery
append command 5189387918536806910
len(log) = 57
server 0 term 7 state 0(leader false)(heartFlag false)
server 0 term 7 doesn't hear any heartbeat
server 0 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
server 1 convert to follower
getEntryTerm
server 2 thinks candidate 0 is not up-to-date
server 2 grant false for candidate 0's requestVote
getEntryTerm
server 1 thinks candidate 0 is not up-to-date
server 1 grant false for candidate 0's requestVote
server 1 term 8 state 0(leader false)(heartFlag true)
server 2 term 8 state 0(leader false)(heartFlag false)
server 2 term 8 doesn't hear any heartbeat
server 2 convert to candidate
getEntryTerm
getEntryTerm
server 0 convert to follower
getEntryTerm
server 0 grant true for candidate 2's requestVote
server 2 convert to leader
server 1 convert to follower
getEntryTerm
server 1 grant true for candidate 2's requestVote
server 2 term 9 send appendEntries
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 57
lastLogIndex 48, args.PrevLogIndex 57
server 1 receives appendEntry from leader 2 prevLogIndex 57
lastLogIndex 56, args.PrevLogIndex 57
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 56
current commitIndex 56 lastIncludedIndex 49 snapshot exists ? true
server 0 receives snopshot from leader 2
server 0 commit snopshot to lastIncludedIndex 49
update server 1 's matchIndex from 0 to 57
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 57
getEntryTerm
current commitIndex 56 lastIncludedIndex 49 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 49
current commitIndex 49 lastIncludedIndex 49 snapshot exists ? true
follower server 0 commit index 50 command 472139520677865212 
follower server 0 commit index 51 command 2538841491349864510 
follower server 0 commit index 52 command 7735714152263925980 
follower server 0 commit index 53 command 7415720627837738171 
update server 1 's matchIndex from 57 to 57
follower server 0 commit index 54 command 4619594228896710868 
follower server 0 commit index 55 command 6535984522027780370 
follower server 0 commit index 56 command 678353382297786959 
update server 0 's matchIndex from 49 to 57
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 9 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 57
getEntryTerm
current commitIndex 56 lastIncludedIndex 49 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 57
getEntryTerm
current commitIndex 56 lastIncludedIndex 49 snapshot exists ? true
update server 1 's matchIndex from 57 to 57
update server 0 's matchIndex from 57 to 57
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 57
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 57
getEntryTerm
current commitIndex 56 lastIncludedIndex 49 snapshot exists ? true
current commitIndex 56 lastIncludedIndex 49 snapshot exists ? true
update server 0 's matchIndex from 57 to 57
update server 1 's matchIndex from 57 to 57
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 9 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 57
getEntryTerm
current commitIndex 56 lastIncludedIndex 49 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 57
getEntryTerm
current commitIndex 56 lastIncludedIndex 49 snapshot exists ? true
update server 0 's matchIndex from 57 to 57
update server 1 's matchIndex from 57 to 57
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 9 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 57
getEntryTerm
current commitIndex 56 lastIncludedIndex 49 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 57
getEntryTerm
current commitIndex 56 lastIncludedIndex 49 snapshot exists ? true
update server 1 's matchIndex from 57 to 57
update server 0 's matchIndex from 57 to 57
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 57
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 57
getEntryTerm
current commitIndex 56 lastIncludedIndex 49 snapshot exists ? true
current commitIndex 56 lastIncludedIndex 49 snapshot exists ? true
update server 0 's matchIndex from 57 to 57
update server 1 's matchIndex from 57 to 57
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 9 state 2(leader true)(heartFlag false)
nextIndex
58 || 58 || 58 || 
matchIndex
57 || 57 || 57 || 
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 57
getEntryTerm
current commitIndex 56 lastIncludedIndex 49 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 57
getEntryTerm
current commitIndex 56 lastIncludedIndex 49 snapshot exists ? true
update server 1 's matchIndex from 57 to 57
update server 0 's matchIndex from 57 to 57
getEntryTerm
server 0 term 9 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 term 9 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 57
getEntryTerm
current commitIndex 56 lastIncludedIndex 49 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 57
getEntryTerm
current commitIndex 56 lastIncludedIndex 49 snapshot exists ? true
update server 1 's matchIndex from 57 to 57
update server 0 's matchIndex from 57 to 57
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 57
getEntryTerm
current commitIndex 56 lastIncludedIndex 49 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 57
getEntryTerm
current commitIndex 56 lastIncludedIndex 49 snapshot exists ? true
update server 0 's matchIndex from 57 to 57
update server 1 's matchIndex from 57 to 57
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 9 state 2(leader true)(heartFlag false)
nextIndex
58 || 58 || 58 || 
matchIndex
57 || 57 || 57 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 57
getEntryTerm
current commitIndex 56 lastIncludedIndex 49 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 57
getEntryTerm
current commitIndex 56 lastIncludedIndex 49 snapshot exists ? true
update server 0 's matchIndex from 57 to 57
update server 1 's matchIndex from 57 to 57
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 9 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 57
getEntryTerm
current commitIndex 56 lastIncludedIndex 49 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 57
getEntryTerm
current commitIndex 56 lastIncludedIndex 49 snapshot exists ? true
update server 1 's matchIndex from 57 to 57
update server 0 's matchIndex from 57 to 57
getEntryTerm
getEntryTerm
server 0 term 9 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 57
getEntryTerm
current commitIndex 56 lastIncludedIndex 49 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 57
getEntryTerm
current commitIndex 56 lastIncludedIndex 49 snapshot exists ? true
update server 1 's matchIndex from 57 to 57
update server 0 's matchIndex from 57 to 57
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 9 state 2(leader true)(heartFlag false)
nextIndex
58 || 58 || 58 || 
matchIndex
57 || 57 || 57 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 57
getEntryTerm
current commitIndex 56 lastIncludedIndex 49 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 57
getEntryTerm
current commitIndex 56 lastIncludedIndex 49 snapshot exists ? true
update server 1 's matchIndex from 57 to 57
update server 0 's matchIndex from 57 to 57
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 57
getEntryTerm
current commitIndex 56 lastIncludedIndex 49 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 57
getEntryTerm
current commitIndex 56 lastIncludedIndex 49 snapshot exists ? true
update server 0 's matchIndex from 57 to 57
update server 1 's matchIndex from 57 to 57
getEntryTerm
server 0 term 9 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 9 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 57
getEntryTerm
current commitIndex 56 lastIncludedIndex 49 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 57
getEntryTerm
current commitIndex 56 lastIncludedIndex 49 snapshot exists ? true
update server 1 's matchIndex from 57 to 57
update server 0 's matchIndex from 57 to 57
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 57
getEntryTerm
current commitIndex 56 lastIncludedIndex 49 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 57
getEntryTerm
current commitIndex 56 lastIncludedIndex 49 snapshot exists ? true
update server 1 's matchIndex from 57 to 57
update server 0 's matchIndex from 57 to 57
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 9 state 2(leader true)(heartFlag false)
nextIndex
58 || 58 || 58 || 
matchIndex
57 || 57 || 57 || 
getEntryTerm
getEntryTerm
server 0 term 9 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 57
getEntryTerm
current commitIndex 56 lastIncludedIndex 49 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 57
getEntryTerm
current commitIndex 56 lastIncludedIndex 49 snapshot exists ? true
update server 0 's matchIndex from 57 to 57
update server 1 's matchIndex from 57 to 57
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 57
getEntryTerm
current commitIndex 56 lastIncludedIndex 49 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 57
getEntryTerm
current commitIndex 56 lastIncludedIndex 49 snapshot exists ? true
update server 0 's matchIndex from 57 to 57
update server 1 's matchIndex from 57 to 57
getEntryTerm
append command 5189387918536806910
len(log) = 58
getEntryTerm
server 1 term 9 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 57
getEntryTerm
current commitIndex 56 lastIncludedIndex 49 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 57
getEntryTerm
current commitIndex 56 lastIncludedIndex 49 snapshot exists ? true
update server 0 's matchIndex from 57 to 58
update server 1 's matchIndex from 57 to 58
getEntryTerm
leader server 2 commit index 57 command 5189387918536806910
leader server 2 commit index 58 command 5189387918536806910
server 0 term 9 state 0(leader false)(heartFlag true)
server 2 term 9 state 2(leader true)(heartFlag false)
nextIndex
59 || 59 || 59 || 
matchIndex
58 || 58 || 58 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 58
getEntryTerm
current commitIndex 56 lastIncludedIndex 49 snapshot exists ? true
follower server 0 commit index 57 command 5189387918536806910 
follower server 0 commit index 58 command 5189387918536806910 
server 1 receives appendEntry from leader 2 prevLogIndex 58
getEntryTerm
current commitIndex 56 lastIncludedIndex 49 snapshot exists ? true
follower server 1 commit index 57 command 5189387918536806910 
follower server 1 commit index 58 command 5189387918536806910 
update server 0 's matchIndex from 58 to 58
update server 1 's matchIndex from 58 to 58
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 58
current commitIndex 58 lastIncludedIndex 49 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 58
current commitIndex 58 lastIncludedIndex 49 snapshot exists ? true
update server 1 's matchIndex from 58 to 58
update server 0 's matchIndex from 58 to 58
server 1 term 9 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 58
current commitIndex 58 lastIncludedIndex 49 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 58
current commitIndex 58 lastIncludedIndex 49 snapshot exists ? true
update server 0 's matchIndex from 58 to 58
update server 1 's matchIndex from 58 to 58
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 58
current commitIndex 58 lastIncludedIndex 49 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 58
current commitIndex 58 lastIncludedIndex 49 snapshot exists ? true
update server 1 's matchIndex from 58 to 58
update server 0 's matchIndex from 58 to 58
server 0 term 9 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 term 9 state 2(leader true)(heartFlag false)
nextIndex
59 || 59 || 59 || 
matchIndex
58 || 58 || 58 || 
server 0 receives appendEntry from leader 2 prevLogIndex 58
current commitIndex 58 lastIncludedIndex 49 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 58
current commitIndex 58 lastIncludedIndex 49 snapshot exists ? true
update server 0 's matchIndex from 58 to 58
update server 1 's matchIndex from 58 to 58
server 1 term 9 state 0(leader false)(heartFlag true)
server 0 term 9 state 0(leader false)(heartFlag true)
server 1 term 9 state 0(leader false)(heartFlag false)
server 1 term 9 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 0 convert to follower
getEntryTerm
server 0 grant true for candidate 1's requestVote
server 1 convert to leader
server 1 term 10 send appendEntries
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 58
current commitIndex 58 lastIncludedIndex 49 snapshot exists ? true
update server 0 's matchIndex from 0 to 58
append command 7851614909179826359
len(log) = 59
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 58
current commitIndex 58 lastIncludedIndex 49 snapshot exists ? true
update server 0 's matchIndex from 58 to 59
getEntryTerm
leader server 1 commit index 59 command 7851614909179826359
server 1 takes snopshot and discards logs before index 59
getEntryTerm
discard index before 59(included)
server 1 finished snopshot
server 0 receives appendEntry from leader 1 prevLogIndex 59
getEntryTerm
current commitIndex 58 lastIncludedIndex 49 snapshot exists ? true
follower server 0 commit index 59 command 7851614909179826359 
update server 0 's matchIndex from 59 to 59
server 0 takes snopshot and discards logs before index 59
getEntryTerm
discard index before 59(included)
server 0 finished snopshot
append command 2326217059978885740
len(log) = 60
server 0 term 10 state 0(leader false)(heartFlag true)
server 0 receives appendEntry from leader 1 prevLogIndex 59
current commitIndex 59 lastIncludedIndex 59 snapshot exists ? true
update server 0 's matchIndex from 59 to 60
getEntryTerm
leader server 1 commit index 60 command 2326217059978885740
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 60
getEntryTerm
current commitIndex 59 lastIncludedIndex 59 snapshot exists ? true
follower server 0 commit index 60 command 2326217059978885740 
update server 0 's matchIndex from 60 to 60
server 2 read form stored snapshot
server 2 recover from snopshot
server 2 finishes recovery
append command 8347680824261675526
server 2 term 9 state 0(leader false)(heartFlag false)
server 2 term 9 doesn't hear any heartbeat
server 2 convert to candidate
len(log) = 61
getEntryTerm
getEntryTerm
getEntryTerm
server 0 already has a voteFor 1 but not candidate 2
server 0 grant false for candidate 2's requestVote
getEntryTerm
server 1 already has a voteFor 1 but not candidate 2
server 1 grant false for candidate 2's requestVote
getEntryTerm
server 2 receives snopshot from leader 1
server 2 commit snopshot to lastIncludedIndex 59
server 0 receives appendEntry from leader 1 prevLogIndex 60
current commitIndex 60 lastIncludedIndex 59 snapshot exists ? true
update server 0 's matchIndex from 60 to 61
getEntryTerm
leader server 1 commit index 61 command 8347680824261675526
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 59
server 2 convert to follower
current commitIndex 59 lastIncludedIndex 59 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 61
getEntryTerm
current commitIndex 60 lastIncludedIndex 59 snapshot exists ? true
follower server 0 commit index 61 command 8347680824261675526 
follower server 2 commit index 60 command 2326217059978885740 
follower server 2 commit index 61 command 8347680824261675526 
update server 0 's matchIndex from 61 to 61
update server 2 's matchIndex from 59 to 61
server 0 term 10 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 61
current commitIndex 61 lastIncludedIndex 59 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 61
current commitIndex 61 lastIncludedIndex 59 snapshot exists ? true
update server 0 's matchIndex from 61 to 61
update server 2 's matchIndex from 61 to 61
server 1 term 10 state 2(leader true)(heartFlag false)
nextIndex
62 || 62 || 62 || 
matchIndex
61 || 61 || 61 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 61
current commitIndex 61 lastIncludedIndex 59 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 61
current commitIndex 61 lastIncludedIndex 59 snapshot exists ? true
update server 0 's matchIndex from 61 to 61
update server 2 's matchIndex from 61 to 61
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 61
current commitIndex 61 lastIncludedIndex 59 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 61
current commitIndex 61 lastIncludedIndex 59 snapshot exists ? true
update server 2 's matchIndex from 61 to 61
update server 0 's matchIndex from 61 to 61
server 0 term 10 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 61
current commitIndex 61 lastIncludedIndex 59 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 61
current commitIndex 61 lastIncludedIndex 59 snapshot exists ? true
update server 0 's matchIndex from 61 to 61
update server 2 's matchIndex from 61 to 61
append command 7122538917771517041
len(log) = 62
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 61
current commitIndex 61 lastIncludedIndex 59 snapshot exists ? true
update server 0 's matchIndex from 61 to 62
server 1 term 10 state 2(leader true)(heartFlag false)
nextIndex
63 || 63 || 62 || 
matchIndex
62 || 62 || 61 || 
getEntryTerm
leader server 1 commit index 62 command 7122538917771517041
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 62
getEntryTerm
current commitIndex 61 lastIncludedIndex 59 snapshot exists ? true
follower server 0 commit index 62 command 7122538917771517041 
update server 0 's matchIndex from 62 to 62
append command 5058197515140001691
len(log) = 63
append command 5840277244240245087
len(log) = 64
append command 7749853474276800124
len(log) = 65
append command 2119174085996293435
len(log) = 66
append command 2329806810824789920
len(log) = 67
append command 5011417620457315758
len(log) = 68
append command 5784570683294900523
len(log) = 69
append command 6799955615552375139
len(log) = 70
append command 8221883135855380930
len(log) = 71
append command 7502296851675342688
len(log) = 72
append command 5575726107035466069
len(log) = 73
append command 7607133535696467167
len(log) = 74
append command 3948077223378242955
len(log) = 75
append command 5834584887651284586
len(log) = 76
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 62
current commitIndex 62 lastIncludedIndex 59 snapshot exists ? true
update server 0 's matchIndex from 62 to 76
server 0 term 10 state 0(leader false)(heartFlag true)
getEntryTerm
leader server 1 commit index 63 command 5058197515140001691
leader server 1 commit index 64 command 5840277244240245087
leader server 1 commit index 65 command 7749853474276800124
leader server 1 commit index 66 command 2119174085996293435
leader server 1 commit index 67 command 2329806810824789920
leader server 1 commit index 68 command 5011417620457315758
leader server 1 commit index 69 command 5784570683294900523
leader server 1 commit index 70 command 6799955615552375139
server 1 takes snopshot and discards logs before index 69
getEntryTerm
discard index before 69(included)
server 1 finished snopshot
leader server 1 commit index 71 command 8221883135855380930
leader server 1 commit index 72 command 7502296851675342688
leader server 1 commit index 73 command 5575726107035466069
leader server 1 commit index 74 command 7607133535696467167
leader server 1 commit index 75 command 3948077223378242955
leader server 1 commit index 76 command 5834584887651284586
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 76
getEntryTerm
current commitIndex 62 lastIncludedIndex 59 snapshot exists ? true
follower server 0 commit index 63 command 5058197515140001691 
follower server 0 commit index 64 command 5840277244240245087 
follower server 0 commit index 65 command 7749853474276800124 
follower server 0 commit index 66 command 2119174085996293435 
follower server 0 commit index 67 command 2329806810824789920 
follower server 0 commit index 68 command 5011417620457315758 
follower server 0 commit index 69 command 5784570683294900523 
follower server 0 commit index 70 command 6799955615552375139 
server 0 takes snopshot and discards logs before index 69
getEntryTerm
discard index before 69(included)
server 0 finished snopshot
follower server 0 commit index 71 command 8221883135855380930 
follower server 0 commit index 72 command 7502296851675342688 
follower server 0 commit index 73 command 5575726107035466069 
follower server 0 commit index 74 command 7607133535696467167 
follower server 0 commit index 75 command 3948077223378242955 
follower server 0 commit index 76 command 5834584887651284586 
update server 0 's matchIndex from 76 to 76
server 2 read form stored snapshot
server 2 recover from snopshot
server 2 finishes recovery
append command 4226994255566116539
len(log) = 77
server 2 term 10 state 0(leader false)(heartFlag false)
server 2 term 10 doesn't hear any heartbeat
server 2 convert to candidate
getEntryTerm
getEntryTerm
server 1 convert to follower
getEntryTerm
server 1 thinks candidate 2 is not up-to-date
server 1 grant false for candidate 2's requestVote
server 0 convert to follower
getEntryTerm
server 0 thinks candidate 2 is not up-to-date
server 0 grant false for candidate 2's requestVote
server 1 term 11 state 0(leader false)(heartFlag false)
server 1 term 11 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
server 0 convert to follower
getEntryTerm
getEntryTerm
server 0 grant true for candidate 1's requestVote
server 1 convert to leader
server 2 grant true for candidate 1's requestVote
server 1 term 12 send appendEntries
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 77
lastLogIndex 76, args.PrevLogIndex 77
server 2 receives appendEntry from leader 1 prevLogIndex 77
lastLogIndex 61, args.PrevLogIndex 77
getEntryTerm
server 2 receives snopshot from leader 1
server 2 commit snopshot to lastIncludedIndex 69
server 0 receives appendEntry from leader 1 prevLogIndex 76
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 0 's matchIndex from 0 to 77
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 69
current commitIndex 69 lastIncludedIndex 69 snapshot exists ? true
follower server 2 commit index 70 command 6799955615552375139 
follower server 2 commit index 71 command 8221883135855380930 
follower server 2 commit index 72 command 7502296851675342688 
follower server 2 commit index 73 command 5575726107035466069 
update server 0 's matchIndex from 77 to 77
follower server 2 commit index 74 command 7607133535696467167 
follower server 2 commit index 75 command 3948077223378242955 
follower server 2 commit index 76 command 5834584887651284586 
update server 2 's matchIndex from 69 to 77
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 0 's matchIndex from 77 to 77
update server 2 's matchIndex from 77 to 77
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 77 to 77
update server 0 's matchIndex from 77 to 77
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 12 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 0 's matchIndex from 77 to 77
server 2 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 77 to 77
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 77 to 77
update server 0 's matchIndex from 77 to 77
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 77 to 77
update server 0 's matchIndex from 77 to 77
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 0 's matchIndex from 77 to 77
server 2 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 77 to 77
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 77 to 77
update server 0 's matchIndex from 77 to 77
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 0 's matchIndex from 77 to 77
update server 2 's matchIndex from 77 to 77
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 12 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 0 's matchIndex from 77 to 77
server 2 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 77 to 77
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 77 to 77
update server 0 's matchIndex from 77 to 77
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 12 state 2(leader true)(heartFlag false)
nextIndex
78 || 78 || 78 || 
matchIndex
77 || 77 || 77 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 77 to 77
update server 0 's matchIndex from 77 to 77
server 0 term 12 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 77 to 77
update server 0 's matchIndex from 77 to 77
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 0 's matchIndex from 77 to 77
update server 2 's matchIndex from 77 to 77
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 77 to 77
update server 0 's matchIndex from 77 to 77
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 12 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 77 to 77
update server 0 's matchIndex from 77 to 77
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 0 's matchIndex from 77 to 77
update server 2 's matchIndex from 77 to 77
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 77 to 77
update server 0 's matchIndex from 77 to 77
getEntryTerm
server 0 term 12 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 77 to 77
update server 0 's matchIndex from 77 to 77
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 12 state 2(leader true)(heartFlag false)
nextIndex
78 || 78 || 78 || 
matchIndex
77 || 77 || 77 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
update server 2 's matchIndex from 77 to 77
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 0 's matchIndex from 77 to 77
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 0 's matchIndex from 77 to 77
update server 2 's matchIndex from 77 to 77
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 77 to 77
update server 0 's matchIndex from 77 to 77
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 0 's matchIndex from 77 to 77
update server 2 's matchIndex from 77 to 77
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 12 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 77 to 77
update server 0 's matchIndex from 77 to 77
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 0 's matchIndex from 77 to 77
update server 2 's matchIndex from 77 to 77
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 12 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 77 to 77
update server 0 's matchIndex from 77 to 77
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 0 's matchIndex from 77 to 77
update server 2 's matchIndex from 77 to 77
getEntryTerm
getEntryTerm
server 1 term 12 state 2(leader true)(heartFlag false)
nextIndex
78 || 78 || 78 || 
matchIndex
77 || 77 || 77 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 0 's matchIndex from 77 to 77
update server 2 's matchIndex from 77 to 77
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 77 to 77
update server 0 's matchIndex from 77 to 77
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 12 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 77 to 77
update server 0 's matchIndex from 77 to 77
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 0 's matchIndex from 77 to 77
update server 2 's matchIndex from 77 to 77
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 77 to 77
update server 0 's matchIndex from 77 to 77
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 77 to 77
update server 0 's matchIndex from 77 to 77
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 12 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 77 to 77
update server 0 's matchIndex from 77 to 77
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 77 to 77
update server 0 's matchIndex from 77 to 77
getEntryTerm
getEntryTerm
server 1 term 12 state 2(leader true)(heartFlag false)
nextIndex
78 || 78 || 78 || 
matchIndex
77 || 77 || 77 || 
getEntryTerm
getEntryTerm
server 2 term 12 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
getEntryTerm
update server 2 's matchIndex from 77 to 77
update server 0 's matchIndex from 77 to 77
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 77 to 77
update server 0 's matchIndex from 77 to 77
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 77 to 77
update server 0 's matchIndex from 77 to 77
append command 4226994255566116539
len(log) = 78
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 77 to 78
update server 0 's matchIndex from 77 to 78
getEntryTerm
leader server 1 commit index 77 command 4226994255566116539
leader server 1 commit index 78 command 4226994255566116539
server 1 term 12 state 2(leader true)(heartFlag false)
nextIndex
79 || 79 || 79 || 
matchIndex
78 || 78 || 78 || 
server 0 term 12 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 78
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 78
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
follower server 2 commit index 77 command 4226994255566116539 
follower server 2 commit index 78 command 4226994255566116539 
follower server 0 commit index 77 command 4226994255566116539 
follower server 0 commit index 78 command 4226994255566116539 
update server 2 's matchIndex from 78 to 78
update server 0 's matchIndex from 78 to 78
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 78
current commitIndex 78 lastIncludedIndex 69 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 78
current commitIndex 78 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 78 to 78
update server 0 's matchIndex from 78 to 78
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 78
current commitIndex 78 lastIncludedIndex 69 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 78
current commitIndex 78 lastIncludedIndex 69 snapshot exists ? true
update server 0 's matchIndex from 78 to 78
update server 2 's matchIndex from 78 to 78
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 78
current commitIndex 78 lastIncludedIndex 69 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 78
current commitIndex 78 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 78 to 78
update server 0 's matchIndex from 78 to 78
server 2 term 12 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 78
current commitIndex 78 lastIncludedIndex 69 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 78
current commitIndex 78 lastIncludedIndex 69 snapshot exists ? true
update server 0 's matchIndex from 78 to 78
update server 2 's matchIndex from 78 to 78
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 78
current commitIndex 78 lastIncludedIndex 69 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 78
current commitIndex 78 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 78 to 78
update server 0 's matchIndex from 78 to 78
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 78
current commitIndex 78 lastIncludedIndex 69 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 78
current commitIndex 78 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 78 to 78
update server 0 's matchIndex from 78 to 78
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 78
current commitIndex 78 lastIncludedIndex 69 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 78
current commitIndex 78 lastIncludedIndex 69 snapshot exists ? true
update server 0 's matchIndex from 78 to 78
update server 2 's matchIndex from 78 to 78
server 0 term 12 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 78
current commitIndex 78 lastIncludedIndex 69 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 78
current commitIndex 78 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 78 to 78
update server 0 's matchIndex from 78 to 78
server 1 term 12 state 2(leader true)(heartFlag false)
nextIndex
79 || 79 || 79 || 
matchIndex
78 || 78 || 78 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 78
current commitIndex 78 lastIncludedIndex 69 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 78
current commitIndex 78 lastIncludedIndex 69 snapshot exists ? true
update server 0 's matchIndex from 78 to 78
update server 2 's matchIndex from 78 to 78
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 78
current commitIndex 78 lastIncludedIndex 69 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 78
current commitIndex 78 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 78 to 78
update server 0 's matchIndex from 78 to 78
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 78
current commitIndex 78 lastIncludedIndex 69 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 78
current commitIndex 78 lastIncludedIndex 69 snapshot exists ? true
update server 0 's matchIndex from 78 to 78
update server 2 's matchIndex from 78 to 78
append command 8344875545840469302
len(log) = 79
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 78
current commitIndex 78 lastIncludedIndex 69 snapshot exists ? true
update server 0 's matchIndex from 78 to 79
getEntryTerm
leader server 1 commit index 79 command 8344875545840469302
server 1 takes snopshot and discards logs before index 79
getEntryTerm
discard index before 79(included)
server 1 finished snopshot
server 0 receives appendEntry from leader 1 prevLogIndex 79
getEntryTerm
current commitIndex 78 lastIncludedIndex 69 snapshot exists ? true
follower server 0 commit index 79 command 8344875545840469302 
update server 0 's matchIndex from 79 to 79
server 0 takes snopshot and discards logs before index 79
getEntryTerm
discard index before 79(included)
server 0 finished snopshot
append command 7954183273259656865
len(log) = 80
append command 6655501885817287527
len(log) = 81
append command 299860873396654940
len(log) = 82
append command 8030369367301697713
len(log) = 83
append command 6245144240276009485
len(log) = 84
append command 8771348684727735611
len(log) = 85
append command 4033476166404609276
len(log) = 86
append command 8660831756077082195
len(log) = 87
append command 4694314119202020800
len(log) = 88
append command 7844049339568778382
len(log) = 89
append command 5746268770991655221
len(log) = 90
server 0 receives appendEntry from leader 1 prevLogIndex 79
current commitIndex 79 lastIncludedIndex 79 snapshot exists ? true
update server 0 's matchIndex from 79 to 90
getEntryTerm
leader server 1 commit index 80 command 7954183273259656865
leader server 1 commit index 81 command 6655501885817287527
leader server 1 commit index 82 command 299860873396654940
leader server 1 commit index 83 command 8030369367301697713
leader server 1 commit index 84 command 6245144240276009485
leader server 1 commit index 85 command 8771348684727735611
leader server 1 commit index 86 command 4033476166404609276
leader server 1 commit index 87 command 8660831756077082195
leader server 1 commit index 88 command 4694314119202020800
leader server 1 commit index 89 command 7844049339568778382
leader server 1 commit index 90 command 5746268770991655221
server 1 takes snopshot and discards logs before index 89
getEntryTerm
discard index before 89(included)
server 1 finished snopshot
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 90
getEntryTerm
current commitIndex 79 lastIncludedIndex 79 snapshot exists ? true
follower server 0 commit index 80 command 7954183273259656865 
follower server 0 commit index 81 command 6655501885817287527 
follower server 0 commit index 82 command 299860873396654940 
follower server 0 commit index 83 command 8030369367301697713 
follower server 0 commit index 84 command 6245144240276009485 
follower server 0 commit index 85 command 8771348684727735611 
follower server 0 commit index 86 command 4033476166404609276 
follower server 0 commit index 87 command 8660831756077082195 
follower server 0 commit index 88 command 4694314119202020800 
follower server 0 commit index 89 command 7844049339568778382 
follower server 0 commit index 90 command 5746268770991655221 
server 0 takes snopshot and discards logs before index 89
getEntryTerm
discard index before 89(included)
server 0 finished snopshot
update server 0 's matchIndex from 90 to 90
server 2 read form stored snapshot
server 2 recover from snopshot
server 2 finishes recovery
append command 28357196212220636
server 2 term 12 state 0(leader false)(heartFlag false)
server 2 term 12 doesn't hear any heartbeat
len(log) = 91
server 2 convert to candidate
getEntryTerm
getEntryTerm
server 1 convert to follower
server 0 convert to follower
getEntryTerm
server 1 thinks candidate 2 is not up-to-date
server 1 grant false for candidate 2's requestVote
getEntryTerm
server 0 thinks candidate 2 is not up-to-date
server 0 grant false for candidate 2's requestVote
server 0 term 13 state 0(leader false)(heartFlag true)
server 1 term 13 state 0(leader false)(heartFlag false)
server 1 term 13 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
server 0 convert to follower
getEntryTerm
getEntryTerm
server 0 grant true for candidate 1's requestVote
server 2 grant true for candidate 1's requestVote
server 1 convert to leader
server 1 term 14 send appendEntries
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 91
lastLogIndex 78, args.PrevLogIndex 91
server 0 receives appendEntry from leader 1 prevLogIndex 91
lastLogIndex 90, args.PrevLogIndex 91
getEntryTerm
server 2 receives snopshot from leader 1
server 2 commit snopshot to lastIncludedIndex 89
server 0 receives appendEntry from leader 1 prevLogIndex 90
current commitIndex 90 lastIncludedIndex 89 snapshot exists ? true
update server 0 's matchIndex from 0 to 91
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 89
current commitIndex 89 lastIncludedIndex 89 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 91
getEntryTerm
current commitIndex 90 lastIncludedIndex 89 snapshot exists ? true
follower server 2 commit index 90 command 5746268770991655221 
update server 2 's matchIndex from 89 to 91
update server 0 's matchIndex from 91 to 91
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 91
getEntryTerm
current commitIndex 90 lastIncludedIndex 89 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 91
getEntryTerm
current commitIndex 90 lastIncludedIndex 89 snapshot exists ? true
update server 2 's matchIndex from 91 to 91
update server 0 's matchIndex from 91 to 91
getEntryTerm
server 0 term 14 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 91
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 91
getEntryTerm
current commitIndex 90 lastIncludedIndex 89 snapshot exists ? true
current commitIndex 90 lastIncludedIndex 89 snapshot exists ? true
update server 2 's matchIndex from 91 to 91
update server 0 's matchIndex from 91 to 91
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 14 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 91
getEntryTerm
current commitIndex 90 lastIncludedIndex 89 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 91
getEntryTerm
current commitIndex 90 lastIncludedIndex 89 snapshot exists ? true
update server 2 's matchIndex from 91 to 91
update server 0 's matchIndex from 91 to 91
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 14 state 2(leader true)(heartFlag false)
nextIndex
92 || 92 || 92 || 
matchIndex
91 || 91 || 91 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 91
getEntryTerm
current commitIndex 90 lastIncludedIndex 89 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 91
getEntryTerm
current commitIndex 90 lastIncludedIndex 89 snapshot exists ? true
update server 2 's matchIndex from 91 to 91
update server 0 's matchIndex from 91 to 91
server 0 term 14 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 91
getEntryTerm
current commitIndex 90 lastIncludedIndex 89 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 91
getEntryTerm
current commitIndex 90 lastIncludedIndex 89 snapshot exists ? true
update server 2 's matchIndex from 91 to 91
update server 0 's matchIndex from 91 to 91
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 91
getEntryTerm
current commitIndex 90 lastIncludedIndex 89 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 91
getEntryTerm
current commitIndex 90 lastIncludedIndex 89 snapshot exists ? true
update server 0 's matchIndex from 91 to 91
update server 2 's matchIndex from 91 to 91
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 14 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 91
getEntryTerm
current commitIndex 90 lastIncludedIndex 89 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 91
getEntryTerm
current commitIndex 90 lastIncludedIndex 89 snapshot exists ? true
update server 2 's matchIndex from 91 to 91
update server 0 's matchIndex from 91 to 91
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 14 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 14 state 2(leader true)(heartFlag false)
nextIndex
92 || 92 || 92 || 
matchIndex
91 || 91 || 91 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 91
getEntryTerm
current commitIndex 90 lastIncludedIndex 89 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 91
getEntryTerm
current commitIndex 90 lastIncludedIndex 89 snapshot exists ? true
update server 0 's matchIndex from 91 to 91
update server 2 's matchIndex from 91 to 91
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 91
getEntryTerm
current commitIndex 90 lastIncludedIndex 89 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 91
getEntryTerm
current commitIndex 90 lastIncludedIndex 89 snapshot exists ? true
update server 2 's matchIndex from 91 to 91
update server 0 's matchIndex from 91 to 91
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 91
getEntryTerm
current commitIndex 90 lastIncludedIndex 89 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 91
getEntryTerm
current commitIndex 90 lastIncludedIndex 89 snapshot exists ? true
update server 0 's matchIndex from 91 to 91
update server 2 's matchIndex from 91 to 91
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 14 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 14 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 91
getEntryTerm
current commitIndex 90 lastIncludedIndex 89 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 91
getEntryTerm
current commitIndex 90 lastIncludedIndex 89 snapshot exists ? true
update server 2 's matchIndex from 91 to 91
update server 0 's matchIndex from 91 to 91
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 14 state 2(leader true)(heartFlag false)
nextIndex
92 || 92 || 92 || 
matchIndex
91 || 91 || 91 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 91
getEntryTerm
current commitIndex 90 lastIncludedIndex 89 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 91
getEntryTerm
current commitIndex 90 lastIncludedIndex 89 snapshot exists ? true
update server 0 's matchIndex from 91 to 91
update server 2 's matchIndex from 91 to 91
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 91
getEntryTerm
current commitIndex 90 lastIncludedIndex 89 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 91
getEntryTerm
current commitIndex 90 lastIncludedIndex 89 snapshot exists ? true
update server 0 's matchIndex from 91 to 91
update server 2 's matchIndex from 91 to 91
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 14 state 2(leader true)(heartFlag false)
nextIndex
92 || 92 || 92 || 
matchIndex
91 || 91 || 91 || 
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 91
getEntryTerm
current commitIndex 90 lastIncludedIndex 89 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 91
getEntryTerm
update server 2 's matchIndex from 91 to 91
current commitIndex 90 lastIncludedIndex 89 snapshot exists ? true
update server 0 's matchIndex from 91 to 91
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 14 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 91
getEntryTerm
current commitIndex 90 lastIncludedIndex 89 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 91
getEntryTerm
current commitIndex 90 lastIncludedIndex 89 snapshot exists ? true
update server 2 's matchIndex from 91 to 91
update server 0 's matchIndex from 91 to 91
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 14 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 91
getEntryTerm
current commitIndex 90 lastIncludedIndex 89 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 91
getEntryTerm
current commitIndex 90 lastIncludedIndex 89 snapshot exists ? true
update server 2 's matchIndex from 91 to 91
update server 0 's matchIndex from 91 to 91
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
append command 28357196212220636
len(log) = 92
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 91
getEntryTerm
current commitIndex 90 lastIncludedIndex 89 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 91
getEntryTerm
current commitIndex 90 lastIncludedIndex 89 snapshot exists ? true
update server 0 's matchIndex from 91 to 92
update server 2 's matchIndex from 91 to 92
getEntryTerm
leader server 1 commit index 91 command 28357196212220636
leader server 1 commit index 92 command 28357196212220636
server 1 term 14 state 2(leader true)(heartFlag false)
nextIndex
93 || 93 || 93 || 
matchIndex
92 || 92 || 92 || 
server 0 term 14 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 92
getEntryTerm
current commitIndex 90 lastIncludedIndex 89 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 92
getEntryTerm
follower server 0 commit index 91 command 28357196212220636 
follower server 0 commit index 92 command 28357196212220636 
current commitIndex 90 lastIncludedIndex 89 snapshot exists ? true
follower server 2 commit index 91 command 28357196212220636 
follower server 2 commit index 92 command 28357196212220636 
update server 0 's matchIndex from 92 to 92
update server 2 's matchIndex from 92 to 92
server 2 term 14 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 92
current commitIndex 92 lastIncludedIndex 89 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 92
current commitIndex 92 lastIncludedIndex 89 snapshot exists ? true
update server 0 's matchIndex from 92 to 92
update server 2 's matchIndex from 92 to 92
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 92
current commitIndex 92 lastIncludedIndex 89 snapshot exists ? true
update server 2 's matchIndex from 92 to 92
server 0 receives appendEntry from leader 1 prevLogIndex 92
current commitIndex 92 lastIncludedIndex 89 snapshot exists ? true
update server 0 's matchIndex from 92 to 92
server 1 term 14 state 2(leader true)(heartFlag false)
nextIndex
93 || 93 || 93 || 
matchIndex
92 || 92 || 92 || 
server 0 term 14 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 92
current commitIndex 92 lastIncludedIndex 89 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 92
current commitIndex 92 lastIncludedIndex 89 snapshot exists ? true
update server 0 's matchIndex from 92 to 92
update server 2 's matchIndex from 92 to 92
server 2 term 14 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 92
current commitIndex 92 lastIncludedIndex 89 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 92
current commitIndex 92 lastIncludedIndex 89 snapshot exists ? true
update server 0 's matchIndex from 92 to 92
update server 2 's matchIndex from 92 to 92
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 92
server 0 receives appendEntry from leader 1 prevLogIndex 92
current commitIndex 92 lastIncludedIndex 89 snapshot exists ? true
current commitIndex 92 lastIncludedIndex 89 snapshot exists ? true
update server 0 's matchIndex from 92 to 92
update server 2 's matchIndex from 92 to 92
server 0 term 14 state 0(leader false)(heartFlag true)
server 2 term 14 state 0(leader false)(heartFlag true)
server 0 term 14 state 0(leader false)(heartFlag false)
server 0 term 14 doesn't hear any heartbeat
server 0 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
getEntryTerm
server 2 grant true for candidate 0's requestVote
server 0 convert to leader
server 0 term 15 send appendEntries
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 92
current commitIndex 92 lastIncludedIndex 89 snapshot exists ? true
update server 2 's matchIndex from 0 to 92
server 2 term 15 state 0(leader false)(heartFlag true)
append command 3782112935951668698
len(log) = 93
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 92
current commitIndex 92 lastIncludedIndex 89 snapshot exists ? true
update server 2 's matchIndex from 92 to 93
getEntryTerm
leader server 0 commit index 93 command 3782112935951668698
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 93
getEntryTerm
current commitIndex 92 lastIncludedIndex 89 snapshot exists ? true
follower server 2 commit index 93 command 3782112935951668698 
update server 2 's matchIndex from 93 to 93
append command 4890951419968643597
len(log) = 94
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 93
current commitIndex 93 lastIncludedIndex 89 snapshot exists ? true
update server 2 's matchIndex from 93 to 94
getEntryTerm
leader server 0 commit index 94 command 4890951419968643597
server 2 term 15 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 94
getEntryTerm
current commitIndex 93 lastIncludedIndex 89 snapshot exists ? true
follower server 2 commit index 94 command 4890951419968643597 
update server 2 's matchIndex from 94 to 94
server 1 read form stored snapshot
server 1 recover from snopshot
server 1 finishes recovery
append command 8039048760448145531
server 1 term 14 state 0(leader false)(heartFlag false)
server 1 term 14 doesn't hear any heartbeat
len(log) = 95
server 1 convert to candidate
getEntryTerm
getEntryTerm
getEntryTerm
server 2 already has a voteFor 0 but not candidate 1
server 2 grant false for candidate 1's requestVote
getEntryTerm
server 0 already has a voteFor 0 but not candidate 1
server 0 grant false for candidate 1's requestVote
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 94
current commitIndex 94 lastIncludedIndex 89 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 92
server 1 convert to follower
getEntryTerm
current commitIndex 89 lastIncludedIndex 89 snapshot exists ? true
follower server 1 commit index 90 command 5746268770991655221 
follower server 1 commit index 91 command 28357196212220636 
update server 2 's matchIndex from 94 to 95
follower server 1 commit index 92 command 28357196212220636 
follower server 1 commit index 93 command 3782112935951668698 
follower server 1 commit index 94 command 4890951419968643597 
update server 1 's matchIndex from 0 to 95
getEntryTerm
leader server 0 commit index 95 command 8039048760448145531
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 95
getEntryTerm
current commitIndex 94 lastIncludedIndex 89 snapshot exists ? true
follower server 2 commit index 95 command 8039048760448145531 
server 1 receives appendEntry from leader 0 prevLogIndex 95
getEntryTerm
current commitIndex 94 lastIncludedIndex 89 snapshot exists ? true
follower server 1 commit index 95 command 8039048760448145531 
update server 2 's matchIndex from 95 to 95
update server 1 's matchIndex from 95 to 95
server 2 term 15 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 95
current commitIndex 95 lastIncludedIndex 89 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 95
current commitIndex 95 lastIncludedIndex 89 snapshot exists ? true
update server 2 's matchIndex from 95 to 95
update server 1 's matchIndex from 95 to 95
server 0 term 15 state 2(leader true)(heartFlag false)
nextIndex
96 || 96 || 96 || 
matchIndex
95 || 95 || 95 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 95
current commitIndex 95 lastIncludedIndex 89 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 95
current commitIndex 95 lastIncludedIndex 89 snapshot exists ? true
update server 2 's matchIndex from 95 to 95
update server 1 's matchIndex from 95 to 95
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 95
current commitIndex 95 lastIncludedIndex 89 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 95
current commitIndex 95 lastIncludedIndex 89 snapshot exists ? true
update server 2 's matchIndex from 95 to 95
update server 1 's matchIndex from 95 to 95
server 2 term 15 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 95
current commitIndex 95 lastIncludedIndex 89 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 95
current commitIndex 95 lastIncludedIndex 89 snapshot exists ? true
update server 2 's matchIndex from 95 to 95
update server 1 's matchIndex from 95 to 95
server 0 term 15 state 2(leader true)(heartFlag false)
nextIndex
96 || 96 || 96 || 
matchIndex
95 || 95 || 95 || 
append command 4699493179264379501
len(log) = 96
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 95
current commitIndex 95 lastIncludedIndex 89 snapshot exists ? true
update server 2 's matchIndex from 95 to 96
getEntryTerm
leader server 0 commit index 96 command 4699493179264379501
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 96
getEntryTerm
current commitIndex 95 lastIncludedIndex 89 snapshot exists ? true
follower server 2 commit index 96 command 4699493179264379501 
update server 2 's matchIndex from 96 to 96
append command 7901835869325792617
len(log) = 97
append command 6783052807238336713
len(log) = 98
append command 3044698392311199173
len(log) = 99
append command 2444348425238181191
len(log) = 100
append command 4105856661124108275
len(log) = 101
append command 233598974814484756
len(log) = 102
append command 526664309859884433
len(log) = 103
append command 1636067383864407033
len(log) = 104
append command 1011554958784763510
len(log) = 105
append command 7770173584788793190
len(log) = 106
append command 7120355250132359858
len(log) = 107
append command 8993982900172510917
len(log) = 108
append command 5158193196968214939
len(log) = 109
append command 5397428098216364959
len(log) = 110
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 96
current commitIndex 96 lastIncludedIndex 89 snapshot exists ? true
update server 2 's matchIndex from 96 to 110
getEntryTerm
leader server 0 commit index 97 command 7901835869325792617
leader server 0 commit index 98 command 6783052807238336713
leader server 0 commit index 99 command 3044698392311199173
leader server 0 commit index 100 command 2444348425238181191
server 0 takes snopshot and discards logs before index 99
getEntryTerm
discard index before 99(included)
server 0 finished snopshot
leader server 0 commit index 101 command 4105856661124108275
leader server 0 commit index 102 command 233598974814484756
leader server 0 commit index 103 command 526664309859884433
leader server 0 commit index 104 command 1636067383864407033
leader server 0 commit index 105 command 1011554958784763510
leader server 0 commit index 106 command 7770173584788793190
leader server 0 commit index 107 command 7120355250132359858
leader server 0 commit index 108 command 8993982900172510917
leader server 0 commit index 109 command 5158193196968214939
leader server 0 commit index 110 command 5397428098216364959
server 0 takes snopshot and discards logs before index 109
getEntryTerm
discard index before 109(included)
server 0 finished snopshot
server 2 term 15 state 0(leader false)(heartFlag true)
server 0 term 15 state 2(leader true)(heartFlag false)
nextIndex
111 || 96 || 111 || 
matchIndex
110 || 95 || 110 || 
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 110
getEntryTerm
current commitIndex 96 lastIncludedIndex 89 snapshot exists ? true
follower server 2 commit index 97 command 7901835869325792617 
follower server 2 commit index 98 command 6783052807238336713 
follower server 2 commit index 99 command 3044698392311199173 
follower server 2 commit index 100 command 2444348425238181191 
server 2 takes snopshot and discards logs before index 99
getEntryTerm
discard index before 99(included)
server 2 finished snopshot
follower server 2 commit index 101 command 4105856661124108275 
follower server 2 commit index 102 command 233598974814484756 
follower server 2 commit index 103 command 526664309859884433 
follower server 2 commit index 104 command 1636067383864407033 
follower server 2 commit index 105 command 1011554958784763510 
follower server 2 commit index 106 command 7770173584788793190 
follower server 2 commit index 107 command 7120355250132359858 
follower server 2 commit index 108 command 8993982900172510917 
follower server 2 commit index 109 command 5158193196968214939 
follower server 2 commit index 110 command 5397428098216364959 
server 2 takes snopshot and discards logs before index 109
getEntryTerm
discard index before 109(included)
server 2 finished snopshot
update server 2 's matchIndex from 110 to 110
server 1 read form stored snapshot
server 1 recover from snopshot
server 1 finishes recovery
append command 5672999219812823714
len(log) = 111
server 1 term 15 state 0(leader false)(heartFlag false)
server 1 term 15 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
getEntryTerm
server 2 thinks candidate 1 is not up-to-date
server 2 grant false for candidate 1's requestVote
server 0 convert to follower
getEntryTerm
server 0 thinks candidate 1 is not up-to-date
server 0 grant false for candidate 1's requestVote
server 2 term 16 state 0(leader false)(heartFlag true)
server 0 term 16 state 0(leader false)(heartFlag false)
server 0 term 16 doesn't hear any heartbeat
server 0 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
getEntryTerm
server 2 grant true for candidate 0's requestVote
server 1 convert to follower
getEntryTerm
server 0 convert to leader
server 0 term 17 send appendEntries
getEntryTerm
getEntryTerm
server 1 grant true for candidate 0's requestVote
server 2 receives appendEntry from leader 0 prevLogIndex 111
lastLogIndex 110, args.PrevLogIndex 111
server 1 receives appendEntry from leader 0 prevLogIndex 111
lastLogIndex 95, args.PrevLogIndex 111
getEntryTerm
server 1 receives snopshot from leader 0
server 1 commit snopshot to lastIncludedIndex 109
server 2 receives appendEntry from leader 0 prevLogIndex 110
current commitIndex 110 lastIncludedIndex 109 snapshot exists ? true
update server 2 's matchIndex from 0 to 111
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 111
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 109
current commitIndex 109 lastIncludedIndex 109 snapshot exists ? true
follower server 1 commit index 110 command 5397428098216364959 
current commitIndex 110 lastIncludedIndex 109 snapshot exists ? true
update server 1 's matchIndex from 109 to 111
update server 2 's matchIndex from 111 to 111
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 17 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 111
getEntryTerm
current commitIndex 110 lastIncludedIndex 109 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 111
getEntryTerm
current commitIndex 110 lastIncludedIndex 109 snapshot exists ? true
update server 2 's matchIndex from 111 to 111
update server 1 's matchIndex from 111 to 111
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 111
getEntryTerm
current commitIndex 110 lastIncludedIndex 109 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 111
getEntryTerm
current commitIndex 110 lastIncludedIndex 109 snapshot exists ? true
update server 2 's matchIndex from 111 to 111
update server 1 's matchIndex from 111 to 111
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 111
getEntryTerm
current commitIndex 110 lastIncludedIndex 109 snapshot exists ? true
update server 1 's matchIndex from 111 to 111
server 2 receives appendEntry from leader 0 prevLogIndex 111
getEntryTerm
current commitIndex 110 lastIncludedIndex 109 snapshot exists ? true
update server 2 's matchIndex from 111 to 111
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 17 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 17 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 111
getEntryTerm
current commitIndex 110 lastIncludedIndex 109 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 111
getEntryTerm
current commitIndex 110 lastIncludedIndex 109 snapshot exists ? true
update server 1 's matchIndex from 111 to 111
update server 2 's matchIndex from 111 to 111
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 111
getEntryTerm
current commitIndex 110 lastIncludedIndex 109 snapshot exists ? true
update server 2 's matchIndex from 111 to 111
server 1 receives appendEntry from leader 0 prevLogIndex 111
getEntryTerm
current commitIndex 110 lastIncludedIndex 109 snapshot exists ? true
update server 1 's matchIndex from 111 to 111
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 17 state 2(leader true)(heartFlag false)
nextIndex
112 || 112 || 112 || 
matchIndex
111 || 111 || 111 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 111
getEntryTerm
current commitIndex 110 lastIncludedIndex 109 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 111
getEntryTerm
current commitIndex 110 lastIncludedIndex 109 snapshot exists ? true
update server 1 's matchIndex from 111 to 111
update server 2 's matchIndex from 111 to 111
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 17 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 111
getEntryTerm
current commitIndex 110 lastIncludedIndex 109 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 111
getEntryTerm
current commitIndex 110 lastIncludedIndex 109 snapshot exists ? true
update server 2 's matchIndex from 111 to 111
update server 1 's matchIndex from 111 to 111
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 17 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 111
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 111
getEntryTerm
current commitIndex 110 lastIncludedIndex 109 snapshot exists ? true
current commitIndex 110 lastIncludedIndex 109 snapshot exists ? true
update server 2 's matchIndex from 111 to 111
update server 1 's matchIndex from 111 to 111
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 17 state 2(leader true)(heartFlag false)
nextIndex
112 || 112 || 112 || 
matchIndex
111 || 111 || 111 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 111
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 111
getEntryTerm
current commitIndex 110 lastIncludedIndex 109 snapshot exists ? true
current commitIndex 110 lastIncludedIndex 109 snapshot exists ? true
update server 1 's matchIndex from 111 to 111
update server 2 's matchIndex from 111 to 111
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 111
getEntryTerm
current commitIndex 110 lastIncludedIndex 109 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 111
getEntryTerm
current commitIndex 110 lastIncludedIndex 109 snapshot exists ? true
update server 2 's matchIndex from 111 to 111
update server 1 's matchIndex from 111 to 111
getEntryTerm
getEntryTerm
server 2 term 17 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 17 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 111
getEntryTerm
current commitIndex 110 lastIncludedIndex 109 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 111
getEntryTerm
current commitIndex 110 lastIncludedIndex 109 snapshot exists ? true
update server 1 's matchIndex from 111 to 111
update server 2 's matchIndex from 111 to 111
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 111
getEntryTerm
current commitIndex 110 lastIncludedIndex 109 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 111
getEntryTerm
current commitIndex 110 lastIncludedIndex 109 snapshot exists ? true
update server 2 's matchIndex from 111 to 111
update server 1 's matchIndex from 111 to 111
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 17 state 2(leader true)(heartFlag false)
nextIndex
112 || 112 || 112 || 
matchIndex
111 || 111 || 111 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 111
getEntryTerm
current commitIndex 110 lastIncludedIndex 109 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 111
getEntryTerm
current commitIndex 110 lastIncludedIndex 109 snapshot exists ? true
update server 1 's matchIndex from 111 to 111
update server 2 's matchIndex from 111 to 111
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 17 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 111
getEntryTerm
current commitIndex 110 lastIncludedIndex 109 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 111
getEntryTerm
current commitIndex 110 lastIncludedIndex 109 snapshot exists ? true
update server 1 's matchIndex from 111 to 111
update server 2 's matchIndex from 111 to 111
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 17 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 111
getEntryTerm
current commitIndex 110 lastIncludedIndex 109 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 111
getEntryTerm
current commitIndex 110 lastIncludedIndex 109 snapshot exists ? true
update server 1 's matchIndex from 111 to 111
update server 2 's matchIndex from 111 to 111
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
append command 5672999219812823714
len(log) = 112
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 111
getEntryTerm
current commitIndex 110 lastIncludedIndex 109 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 111
getEntryTerm
current commitIndex 110 lastIncludedIndex 109 snapshot exists ? true
update server 1 's matchIndex from 111 to 112
update server 2 's matchIndex from 111 to 112
getEntryTerm
leader server 0 commit index 111 command 5672999219812823714
leader server 0 commit index 112 command 5672999219812823714
server 2 term 17 state 0(leader false)(heartFlag true)
server 0 term 17 state 2(leader true)(heartFlag false)
nextIndex
113 || 113 || 113 || 
matchIndex
112 || 112 || 112 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 112
getEntryTerm
current commitIndex 110 lastIncludedIndex 109 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 112
getEntryTerm
current commitIndex 110 lastIncludedIndex 109 snapshot exists ? true
follower server 1 commit index 111 command 5672999219812823714 
follower server 1 commit index 112 command 5672999219812823714 
follower server 2 commit index 111 command 5672999219812823714 
follower server 2 commit index 112 command 5672999219812823714 
update server 1 's matchIndex from 112 to 112
update server 2 's matchIndex from 112 to 112
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 112
current commitIndex 112 lastIncludedIndex 109 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 112
current commitIndex 112 lastIncludedIndex 109 snapshot exists ? true
update server 2 's matchIndex from 112 to 112
update server 1 's matchIndex from 112 to 112
server 1 term 17 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 112
current commitIndex 112 lastIncludedIndex 109 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 112
current commitIndex 112 lastIncludedIndex 109 snapshot exists ? true
update server 1 's matchIndex from 112 to 112
update server 2 's matchIndex from 112 to 112
server 2 term 17 state 0(leader false)(heartFlag true)
server 0 term 17 state 2(leader true)(heartFlag false)
nextIndex
113 || 113 || 113 || 
matchIndex
112 || 112 || 112 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 112
current commitIndex 112 lastIncludedIndex 109 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 112
current commitIndex 112 lastIncludedIndex 109 snapshot exists ? true
update server 2 's matchIndex from 112 to 112
update server 1 's matchIndex from 112 to 112
server 1 term 17 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 112
current commitIndex 112 lastIncludedIndex 109 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 112
current commitIndex 112 lastIncludedIndex 109 snapshot exists ? true
update server 1 's matchIndex from 112 to 112
update server 2 's matchIndex from 112 to 112
append command 1948288781885445716
len(log) = 113
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 112
current commitIndex 112 lastIncludedIndex 109 snapshot exists ? true
update server 2 's matchIndex from 112 to 113
getEntryTerm
leader server 0 commit index 113 command 1948288781885445716
server 2 term 17 state 0(leader false)(heartFlag true)
server 0 term 17 state 2(leader true)(heartFlag false)
nextIndex
114 || 113 || getEntryTerm
114 || getEntryTerm

matchIndex
113 || 112 || 113 || 
server 2 receives appendEntry from leader 0 prevLogIndex 113
getEntryTerm
current commitIndex 112 lastIncludedIndex 109 snapshot exists ? true
follower server 2 commit index 113 command 1948288781885445716 
update server 2 's matchIndex from 113 to 113
append command 1525387460750646985
len(log) = 114
append command 8995490598738997406
len(log) = 115
append command 7626086720198909320
len(log) = 116
append command 2523908734062660309
len(log) = 117
append command 5550751451537314169
len(log) = 118
append command 4945373517238016745
len(log) = 119
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 113
current commitIndex 113 lastIncludedIndex 109 snapshot exists ? true
update server 2 's matchIndex from 113 to 119
getEntryTerm
leader server 0 commit index 114 command 1525387460750646985
leader server 0 commit index 115 command 8995490598738997406
leader server 0 commit index 116 command 7626086720198909320
leader server 0 commit index 117 command 2523908734062660309
leader server 0 commit index 118 command 5550751451537314169
leader server 0 commit index 119 command 4945373517238016745
server 0 takes snopshot and discards logs before index 119
getEntryTerm
discard index before 119(included)
server 0 finished snopshot
server 2 receives appendEntry from leader 0 prevLogIndex 119
getEntryTerm
current commitIndex 113 lastIncludedIndex 109 snapshot exists ? true
follower server 2 commit index 114 command 1525387460750646985 
follower server 2 commit index 115 command 8995490598738997406 
follower server 2 commit index 116 command 7626086720198909320 
follower server 2 commit index 117 command 2523908734062660309 
follower server 2 commit index 118 command 5550751451537314169 
follower server 2 commit index 119 command 4945373517238016745 
server 2 takes snopshot and discards logs before index 119
getEntryTerm
discard index before 119(included)
server 2 finished snopshot
update server 2 's matchIndex from 119 to 119
server 1 read form stored snapshot
server 1 recover from snopshot
server 1 finishes recovery
append command 509235083696991225
server 1 term 17 state 0(leader false)(heartFlag false)
server 1 term 17 doesn't hear any heartbeat
server 1 convert to candidate
len(log) = 120
getEntryTerm
getEntryTerm
server 0 convert to follower
server 2 convert to follower
getEntryTerm
server 0 thinks candidate 1 is not up-to-date
server 0 grant false for candidate 1's requestVote
server 2 thinks candidate 1 is not up-to-date
server 2 grant false for candidate 1's requestVote
server 0 term 18 state 0(leader false)(heartFlag false)
server 0 term 18 doesn't hear any heartbeat
server 0 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
server 2 grant true for candidate 0's requestVote
server 1 convert to follower
getEntryTerm
server 1 grant true for candidate 0's requestVote
server 0 convert to leader
server 0 term 19 send appendEntries
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 120
lastLogIndex 119, args.PrevLogIndex 120
server 1 receives appendEntry from leader 0 prevLogIndex 120
lastLogIndex 112, args.PrevLogIndex 120
server 2 term 19 state 0(leader false)(heartFlag true)
server 2 receives appendEntry from leader 0 prevLogIndex 119
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
server 1 receives snopshot from leader 0
server 1 commit snopshot to lastIncludedIndex 119
update server 2 's matchIndex from 0 to 120
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 119
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
update server 2 's matchIndex from 120 to 120
update server 1 's matchIndex from 119 to 120
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 120
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
update server 1 's matchIndex from 120 to 120
update server 2 's matchIndex from 120 to 120
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
update server 2 's matchIndex from 120 to 120
update server 1 's matchIndex from 120 to 120
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 19 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
update server 2 's matchIndex from 120 to 120
update server 1 's matchIndex from 120 to 120
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 19 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
update server 1 's matchIndex from 120 to 120
update server 2 's matchIndex from 120 to 120
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
update server 2 's matchIndex from 120 to 120
update server 1 's matchIndex from 120 to 120
getEntryTerm
server 0 term 19 state 2(leader true)(heartFlag false)
nextIndex
121 || 121 || 121 || 
matchIndex
120 || 120 || 120 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 19 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
update server 1 's matchIndex from 120 to 120
update server 2 's matchIndex from 120 to 120
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
getEntryTerm
update server 1 's matchIndex from 120 to 120
update server 2 's matchIndex from 120 to 120
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 19 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
update server 2 's matchIndex from 120 to 120
update server 1 's matchIndex from 120 to 120
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 19 state 2(leader true)(heartFlag false)
nextIndex
121 || 121 || 121 || 
matchIndex
120 || 120 || 120 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
update server 1 's matchIndex from 120 to 120
update server 2 's matchIndex from 120 to 120
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
update server 2 's matchIndex from 120 to 120
update server 1 's matchIndex from 120 to 120
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 19 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
update server 2 's matchIndex from 120 to 120
update server 1 's matchIndex from 120 to 120
getEntryTerm
server 1 term 19 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
update server 1 's matchIndex from 120 to 120
update server 2 's matchIndex from 120 to 120
getEntryTerm
getEntryTerm
server 0 term 19 state 2(leader true)(heartFlag false)
nextIndex
121 || 121 || 121 || 
matchIndex
120 || getEntryTerm
120 || 120 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
update server 2 's matchIndex from 120 to 120
update server 1 's matchIndex from 120 to 120
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 120
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
update server 1 's matchIndex from 120 to 120
update server 2 's matchIndex from 120 to 120
getEntryTerm
server 2 term 19 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 19 state 0(leader false)(heartFlag true)
server 0 term 19 state 2(leader true)(heartFlag false)
nextIndex
121 || 121 || 121 || 
matchIndex
120 || 120 || 120 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
update server 2 's matchIndex from 120 to 120
update server 1 's matchIndex from 120 to 120
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
update server 1 's matchIndex from 120 to 120
update server 2 's matchIndex from 120 to 120
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
append command 509235083696991225
len(log) = 121
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
update server 2 's matchIndex from 120 to 121
update server 1 's matchIndex from 120 to 121
getEntryTerm
leader server 0 commit index 120 command 509235083696991225
leader server 0 commit index 121 command 509235083696991225
server 2 term 19 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 121
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
follower server 2 commit index 120 command 509235083696991225 
follower server 2 commit index 121 command 509235083696991225 
server 1 receives appendEntry from leader 0 prevLogIndex 121
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
follower server 1 commit index 120 command 509235083696991225 
follower server 1 commit index 121 command 509235083696991225 
update server 2 's matchIndex from 121 to 121
update server 1 's matchIndex from 121 to 121
server 1 term 19 state 0(leader false)(heartFlag true)
server 0 term 19 state 2(leader true)(heartFlag false)
nextIndex
122 || 122 || 122 || 
matchIndex
121 || 121 || 121 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 121
current commitIndex 121 lastIncludedIndex 119 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 121
current commitIndex 121 lastIncludedIndex 119 snapshot exists ? true
update server 2 's matchIndex from 121 to 121
update server 1 's matchIndex from 121 to 121
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 121
current commitIndex 121 lastIncludedIndex 119 snapshot exists ? true
update server 2 's matchIndex from 121 to 121
server 1 receives appendEntry from leader 0 prevLogIndex 121
current commitIndex 121 lastIncludedIndex 119 snapshot exists ? true
update server 1 's matchIndex from 121 to 121
server 2 term 19 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 121
current commitIndex 121 lastIncludedIndex 119 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 121
current commitIndex 121 lastIncludedIndex 119 snapshot exists ? true
update server 1 's matchIndex from 121 to 121
update server 2 's matchIndex from 121 to 121
server 0 term 19 state 2(leader true)(heartFlag false)
nextIndex
122 || 122 || 122 || 
matchIndex
121 || 121 || 121 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 121
current commitIndex 121 lastIncludedIndex 119 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 121
current commitIndex 121 lastIncludedIndex 119 snapshot exists ? true
update server 1 's matchIndex from 121 to 121
update server 2 's matchIndex from 121 to 121
server 1 term 19 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 121
current commitIndex 121 lastIncludedIndex 119 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 121
current commitIndex 121 lastIncludedIndex 119 snapshot exists ? true
update server 1 's matchIndex from 121 to 121
update server 2 's matchIndex from 121 to 121
server 2 term 19 state 0(leader false)(heartFlag true)
server 1 term 19 state 0(leader false)(heartFlag true)
server 2 term 19 state 0(leader false)(heartFlag false)
server 2 term 19 doesn't hear any heartbeat
server 2 convert to candidate
getEntryTerm
getEntryTerm
server 1 convert to follower
getEntryTerm
server 1 grant true for candidate 2's requestVote
server 2 convert to leader
server 2 term 20 send appendEntries
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 121
current commitIndex 121 lastIncludedIndex 119 snapshot exists ? true
update server 1 's matchIndex from 0 to 121
append command 7703277923418850194
len(log) = 122
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 121
current commitIndex 121 lastIncludedIndex 119 snapshot exists ? true
update server 1 's matchIndex from 121 to 122
getEntryTerm
leader server 2 commit index 122 command 7703277923418850194
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 122
getEntryTerm
current commitIndex 121 lastIncludedIndex 119 snapshot exists ? true
follower server 1 commit index 122 command 7703277923418850194 
update server 1 's matchIndex from 122 to 122
append command 5322258642924995919
len(log) = 123
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 122
current commitIndex 122 lastIncludedIndex 119 snapshot exists ? true
update server 1 's matchIndex from 122 to 123
server 1 term 20 state 0(leader false)(heartFlag true)
getEntryTerm
leader server 2 commit index 123 command 5322258642924995919
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 123
getEntryTerm
current commitIndex 122 lastIncludedIndex 119 snapshot exists ? true
follower server 1 commit index 123 command 5322258642924995919 
update server 1 's matchIndex from 123 to 123
server 0 read form stored snapshot
server 0 recover from snopshot
server 0 finishes recovery
append command 5778974862327886416
len(log) = 124
server 0 term 19 state 0(leader false)(heartFlag false)
server 0 term 19 doesn't hear any heartbeat
server 0 convert to candidate
getEntryTerm
getEntryTerm
getEntryTerm
server 2 already has a voteFor 2 but not candidate 0
server 2 grant false for candidate 0's requestVote
getEntryTerm
server 1 already has a voteFor 2 but not candidate 0
server 1 grant false for candidate 0's requestVote
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 123
current commitIndex 123 lastIncludedIndex 119 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 121
server 0 convert to follower
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
follower server 0 commit index 120 command 509235083696991225 
follower server 0 commit index 121 command 509235083696991225 
update server 1 's matchIndex from 123 to 124
follower server 0 commit index 122 command 7703277923418850194 
follower server 0 commit index 123 command 5322258642924995919 
update server 0 's matchIndex from 0 to 124
getEntryTerm
leader server 2 commit index 124 command 5778974862327886416
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 124
getEntryTerm
current commitIndex 123 lastIncludedIndex 119 snapshot exists ? true
follower server 0 commit index 124 command 5778974862327886416 
update server 0 's matchIndex from 124 to 124
server 1 receives appendEntry from leader 2 prevLogIndex 124
getEntryTerm
current commitIndex 123 lastIncludedIndex 119 snapshot exists ? true
follower server 1 commit index 124 command 5778974862327886416 
update server 1 's matchIndex from 124 to 124
server 1 term 20 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 124
current commitIndex 124 lastIncludedIndex 119 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 124
current commitIndex 124 lastIncludedIndex 119 snapshot exists ? true
update server 0 's matchIndex from 124 to 124
update server 1 's matchIndex from 124 to 124
server 2 term 20 state 2(leader true)(heartFlag false)
nextIndex
125 || 125 || 125 || 
matchIndex
124 || 124 || 124 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 124
current commitIndex 124 lastIncludedIndex 119 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 124
current commitIndex 124 lastIncludedIndex 119 snapshot exists ? true
update server 1 's matchIndex from 124 to 124
update server 0 's matchIndex from 124 to 124
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 124
current commitIndex 124 lastIncludedIndex 119 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 124
current commitIndex 124 lastIncludedIndex 119 snapshot exists ? true
update server 1 's matchIndex from 124 to 124
update server 0 's matchIndex from 124 to 124
server 1 term 20 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 124
current commitIndex 124 lastIncludedIndex 119 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 124
current commitIndex 124 lastIncludedIndex 119 snapshot exists ? true
update server 0 's matchIndex from 124 to 124
update server 1 's matchIndex from 124 to 124
append command 8985629242188882854
len(log) = 125
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 124
current commitIndex 124 lastIncludedIndex 119 snapshot exists ? true
update server 1 's matchIndex from 124 to 125
getEntryTerm
leader server 2 commit index 125 command 8985629242188882854
server 2 term 20 state 2(leader true)(heartFlag false)
nextIndex
125 || 126 || 126 || 
matchIndex
124 || 125 || 125 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 125
getEntryTerm
current commitIndex 124 lastIncludedIndex 119 snapshot exists ? true
follower server 1 commit index 125 command 8985629242188882854 
update server 1 's matchIndex from 125 to 125
append command 6572016473176876993
len(log) = 126
append command 8008790613193953990
len(log) = 127
append command 8638272191767130500
len(log) = 128
append command 5457604815566548238
len(log) = 129
append command 541403635374749368
len(log) = 130
append command 5894477890764909874
len(log) = 131
append command 1981557700424793414
len(log) = 132
append command 8986417155843801713
len(log) = 133
server 1 term 20 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 125
current commitIndex 125 lastIncludedIndex 119 snapshot exists ? true
update server 1 's matchIndex from 125 to 133
getEntryTerm
leader server 2 commit index 126 command 6572016473176876993
leader server 2 commit index 127 command 8008790613193953990
leader server 2 commit index 128 command 8638272191767130500
leader server 2 commit index 129 command 5457604815566548238
leader server 2 commit index 130 command 541403635374749368
server 2 takes snopshot and discards logs before index 129
getEntryTerm
discard index before 129(included)
server 2 finished snopshot
leader server 2 commit index 131 command 5894477890764909874
leader server 2 commit index 132 command 1981557700424793414
leader server 2 commit index 133 command 8986417155843801713
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 133
getEntryTerm
current commitIndex 125 lastIncludedIndex 119 snapshot exists ? true
follower server 1 commit index 126 command 6572016473176876993 
follower server 1 commit index 127 command 8008790613193953990 
follower server 1 commit index 128 command 8638272191767130500 
follower server 1 commit index 129 command 5457604815566548238 
follower server 1 commit index 130 command 541403635374749368 
server 1 takes snopshot and discards logs before index 129
getEntryTerm
discard index before 129(included)
server 1 finished snopshot
follower server 1 commit index 131 command 5894477890764909874 
follower server 1 commit index 132 command 1981557700424793414 
follower server 1 commit index 133 command 8986417155843801713 
update server 1 's matchIndex from 133 to 133
server 0 read form stored snapshot
server 0 recover from snopshot
server 0 finishes recovery
append command 3310302187903740049
server 0 term 20 state 0(leader false)(heartFlag false)
server 0 term 20 doesn't hear any heartbeat
server 0 convert to candidate
len(log) = 134
getEntryTerm
getEntryTerm
server 2 convert to follower
getEntryTerm
server 2 thinks candidate 0 is not up-to-date
server 1 convert to follower
server 2 grant false for candidate 0's requestVote
getEntryTerm
server 1 thinks candidate 0 is not up-to-date
server 1 grant false for candidate 0's requestVote
server 2 term 21 state 0(leader false)(heartFlag false)
server 2 term 21 doesn't hear any heartbeat
server 2 convert to candidate
getEntryTerm
getEntryTerm
server 1 convert to follower
server 0 convert to follower
getEntryTerm
getEntryTerm
server 1 grant true for candidate 2's requestVote
server 0 grant true for candidate 2's requestVote
server 2 convert to leader
server 2 term 22 send appendEntries
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 134
lastLogIndex 133, args.PrevLogIndex 134
server 0 receives appendEntry from leader 2 prevLogIndex 134
lastLogIndex 124, args.PrevLogIndex 134
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 133
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
server 0 receives snopshot from leader 2
server 0 commit snopshot to lastIncludedIndex 129
update server 1 's matchIndex from 0 to 134
getEntryTerm
getEntryTerm
server 1 term 22 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 129
current commitIndex 129 lastIncludedIndex 129 snapshot exists ? true
follower server 0 commit index 130 command 541403635374749368 
follower server 0 commit index 131 command 5894477890764909874 
follower server 0 commit index 132 command 1981557700424793414 
follower server 0 commit index 133 command 8986417155843801713 
server 1 receives appendEntry from leader 2 prevLogIndex 134
getEntryTerm
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
update server 0 's matchIndex from 129 to 134
update server 1 's matchIndex from 134 to 134
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 134
getEntryTerm
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 134
getEntryTerm
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
update server 0 's matchIndex from 134 to 134
update server 1 's matchIndex from 134 to 134
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 134
getEntryTerm
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 134
getEntryTerm
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
update server 1 's matchIndex from 134 to 134
update server 0 's matchIndex from 134 to 134
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 22 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 134
getEntryTerm
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 134
getEntryTerm
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
update server 0 's matchIndex from 134 to 134
update server 1 's matchIndex from 134 to 134
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 22 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 134
getEntryTerm
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 134
getEntryTerm
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
update server 1 's matchIndex from 134 to 134
update server 0 's matchIndex from 134 to 134
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 134
getEntryTerm
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 134
getEntryTerm
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
update server 1 's matchIndex from 134 to 134
update server 0 's matchIndex from 134 to 134
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 22 state 2(leader true)(heartFlag false)
nextIndex
135 || 135 || 135 || 
matchIndex
134 || 134 || 134 || 
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 134
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 134
getEntryTerm
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
update server 0 's matchIndex from 134 to 134
update server 1 's matchIndex from 134 to 134
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 134
getEntryTerm
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 134
getEntryTerm
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
update server 1 's matchIndex from 134 to 134
update server 0 's matchIndex from 134 to 134
getEntryTerm
server 1 term 22 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 134
getEntryTerm
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 134
getEntryTerm
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
update server 1 's matchIndex from 134 to 134
update server 0 's matchIndex from 134 to 134
getEntryTerm
getEntryTerm
server 0 term 22 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 134
getEntryTerm
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 134
getEntryTerm
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
update server 0 's matchIndex from 134 to 134
update server 1 's matchIndex from 134 to 134
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 22 state 2(leader true)(heartFlag false)
nextIndex
135 || 135 || 135 || 
matchIndex
134 || 134 || getEntryTerm
134 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 134
getEntryTerm
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 134
getEntryTerm
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
update server 0 's matchIndex from 134 to 134
update server 1 's matchIndex from 134 to 134
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 134
getEntryTerm
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 134
getEntryTerm
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
update server 0 's matchIndex from 134 to 134
update server 1 's matchIndex from 134 to 134
getEntryTerm
server 1 term 22 state 0(leader false)(heartFlag true)
server 0 term 22 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 134
getEntryTerm
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 134
getEntryTerm
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
update server 1 's matchIndex from 134 to 134
update server 0 's matchIndex from 134 to 134
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 134
getEntryTerm
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 134
getEntryTerm
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
update server 1 's matchIndex from 134 to 134
update server 0 's matchIndex from 134 to 134
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 22 state 2(leader true)(heartFlag false)
nextIndex
135 || 135 || 135 || 
matchIndex
134 || 134 || 134 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 134
getEntryTerm
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 134
getEntryTerm
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
update server 1 's matchIndex from 134 to 134
update server 0 's matchIndex from 134 to 134
server 0 term 22 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 22 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 134
getEntryTerm
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 134
getEntryTerm
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
update server 0 's matchIndex from 134 to 134
update server 1 's matchIndex from 134 to 134
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 134
getEntryTerm
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 134
getEntryTerm
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
update server 1 's matchIndex from 134 to 134
update server 0 's matchIndex from 134 to 134
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
append command 3310302187903740049
len(log) = 135
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 22 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 134
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 134
getEntryTerm
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
update server 0 's matchIndex from 134 to 135
update server 1 's matchIndex from 134 to 135
getEntryTerm
leader server 2 commit index 134 command 3310302187903740049
leader server 2 commit index 135 command 3310302187903740049
server 2 term 22 state 2(leader true)(heartFlag false)
nextIndex
136 || 136 || 136 || 
matchIndex
135 || 135 || 135 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 135
getEntryTerm
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
follower server 1 commit index 134 command 3310302187903740049 
follower server 1 commit index 135 command 3310302187903740049 
server 0 receives appendEntry from leader 2 prevLogIndex 135
getEntryTerm
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
follower server 0 commit index 134 command 3310302187903740049 
follower server 0 commit index 135 command 3310302187903740049 
update server 1 's matchIndex from 135 to 135
update server 0 's matchIndex from 135 to 135
server 1 term 22 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 135
current commitIndex 135 lastIncludedIndex 129 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 135
current commitIndex 135 lastIncludedIndex 129 snapshot exists ? true
update server 1 's matchIndex from 135 to 135
update server 0 's matchIndex from 135 to 135
server 2 term 22 state 2(leader true)(heartFlag false)
nextIndex
136 || 136 || 136 || 
matchIndex
135 || 135 || 135 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 135
current commitIndex 135 lastIncludedIndex 129 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 135
current commitIndex 135 lastIncludedIndex 129 snapshot exists ? true
update server 0 's matchIndex from 135 to 135
update server 1 's matchIndex from 135 to 135
server 0 term 22 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 135
current commitIndex 135 lastIncludedIndex 129 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 135
current commitIndex 135 lastIncludedIndex 129 snapshot exists ? true
update server 1 's matchIndex from 135 to 135
update server 0 's matchIndex from 135 to 135
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 135
current commitIndex 135 lastIncludedIndex 129 snapshot exists ? true
update server 1 's matchIndex from 135 to 135
server 0 receives appendEntry from leader 2 prevLogIndex 135
current commitIndex 135 lastIncludedIndex 129 snapshot exists ? true
update server 0 's matchIndex from 135 to 135
server 1 term 22 state 0(leader false)(heartFlag true)
server 2 term 22 state 2(leader true)(heartFlag false)
nextIndex
136 || 136 || 136 || 
matchIndex
135 || 135 || 135 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 135
current commitIndex 135 lastIncludedIndex 129 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 135
current commitIndex 135 lastIncludedIndex 129 snapshot exists ? true
update server 1 's matchIndex from 135 to 135
update server 0 's matchIndex from 135 to 135
append command 2002169401156561376
len(log) = 136
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 135
current commitIndex 135 lastIncludedIndex 129 snapshot exists ? true
update server 1 's matchIndex from 135 to 136
getEntryTerm
leader server 2 commit index 136 command 2002169401156561376
server 1 term 22 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 136
getEntryTerm
current commitIndex 135 lastIncludedIndex 129 snapshot exists ? true
follower server 1 commit index 136 command 2002169401156561376 
update server 1 's matchIndex from 136 to 136
append command 2504560295661258923
len(log) = 137
append command 7516995800225958640
len(log) = 138
append command 7752511218048009202
len(log) = 139
append command 3151911878400301725
len(log) = 140
append command 1820716676071866443
len(log) = 141
append command 5134135302463938404
len(log) = 142
append command 5065282049756806813
len(log) = 143
append command 8334978127227495463
len(log) = 144
server 2 term 22 state 2(leader true)(heartFlag false)
nextIndex
136 || 137 || 145 || 
matchIndex
135 || 136 || 144 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 136
current commitIndex 136 lastIncludedIndex 129 snapshot exists ? true
update server 1 's matchIndex from 136 to 144
getEntryTerm
leader server 2 commit index 137 command 2504560295661258923
leader server 2 commit index 138 command 7516995800225958640
leader server 2 commit index 139 command 7752511218048009202
leader server 2 commit index 140 command 3151911878400301725
server 2 takes snopshot and discards logs before index 139
getEntryTerm
discard index before 139(included)
server 2 finished snopshot
leader server 2 commit index 141 command 1820716676071866443
leader server 2 commit index 142 command 5134135302463938404
leader server 2 commit index 143 command 5065282049756806813
leader server 2 commit index 144 command 8334978127227495463
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 144
getEntryTerm
current commitIndex 136 lastIncludedIndex 129 snapshot exists ? true
follower server 1 commit index 137 command 2504560295661258923 
follower server 1 commit index 138 command 7516995800225958640 
follower server 1 commit index 139 command 7752511218048009202 
follower server 1 commit index 140 command 3151911878400301725 
server 1 takes snopshot and discards logs before index 139
getEntryTerm
discard index before 139(included)
server 1 finished snopshot
follower server 1 commit index 141 command 1820716676071866443 
follower server 1 commit index 142 command 5134135302463938404 
follower server 1 commit index 143 command 5065282049756806813 
follower server 1 commit index 144 command 8334978127227495463 
update server 1 's matchIndex from 144 to 144
server 0 read form stored snapshot
server 0 recover from snopshot
server 0 finishes recovery
append command 2946488003664811261
server 0 term 22 state 0(leader false)(heartFlag false)
server 0 term 22 doesn't hear any heartbeat
len(log) = 145
server 0 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
getEntryTerm
server 2 thinks candidate 0 is not up-to-date
server 2 grant false for candidate 0's requestVote
server 1 convert to follower
getEntryTerm
server 1 thinks candidate 0 is not up-to-date
server 1 grant false for candidate 0's requestVote
server 1 term 23 state 0(leader false)(heartFlag true)
server 2 term 23 state 0(leader false)(heartFlag false)
server 2 term 23 doesn't hear any heartbeat
server 2 convert to candidate
getEntryTerm
getEntryTerm
server 1 convert to follower
getEntryTerm
server 0 convert to follower
getEntryTerm
server 1 grant true for candidate 2's requestVote
server 0 grant true for candidate 2's requestVote
server 2 convert to leader
server 2 term 24 send appendEntries
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 145
lastLogIndex 135, args.PrevLogIndex 145
server 1 receives appendEntry from leader 2 prevLogIndex 145
lastLogIndex 144, args.PrevLogIndex 145
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 144
current commitIndex 144 lastIncludedIndex 139 snapshot exists ? true
server 0 receives snopshot from leader 2
server 0 commit snopshot to lastIncludedIndex 139
update server 1 's matchIndex from 0 to 145
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 145
getEntryTerm
current commitIndex 144 lastIncludedIndex 139 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 139
current commitIndex 139 lastIncludedIndex 139 snapshot exists ? true
follower server 0 commit index 140 command 3151911878400301725 
follower server 0 commit index 141 command 1820716676071866443 
follower server 0 commit index 142 command 5134135302463938404 
update server 1 's matchIndex from 145 to 145
follower server 0 commit index 143 command 5065282049756806813 
follower server 0 commit index 144 command 8334978127227495463 
update server 0 's matchIndex from 139 to 145
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 145
getEntryTerm
current commitIndex 144 lastIncludedIndex 139 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 145
getEntryTerm
current commitIndex 144 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 145 to 145
update server 0 's matchIndex from 145 to 145
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 24 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 145
getEntryTerm
current commitIndex 144 lastIncludedIndex 139 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 145
getEntryTerm
current commitIndex 144 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 145 to 145
update server 0 's matchIndex from 145 to 145
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 145
getEntryTerm
current commitIndex 144 lastIncludedIndex 139 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 145
getEntryTerm
current commitIndex 144 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 145 to 145
update server 0 's matchIndex from 145 to 145
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 24 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 145
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 145
getEntryTerm
current commitIndex 144 lastIncludedIndex 139 snapshot exists ? true
current commitIndex 144 lastIncludedIndex 139 snapshot exists ? true
update server 0 's matchIndex from 145 to 145
update server 1 's matchIndex from 145 to 145
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 145
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 145
getEntryTerm
current commitIndex 144 lastIncludedIndex 139 snapshot exists ? true
current commitIndex 144 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 145 to 145
update server 0 's matchIndex from 145 to 145
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 24 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 145
getEntryTerm
current commitIndex 144 lastIncludedIndex 139 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 145
getEntryTerm
current commitIndex 144 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 145 to 145
update server 0 's matchIndex from 145 to 145
getEntryTerm
getEntryTerm
server 2 term 24 state 2(leader true)(heartFlag false)
nextIndex
146 || 146 || 146 || 
matchIndex
145 || 145 || 145 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 145
getEntryTerm
current commitIndex 144 lastIncludedIndex 139 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 145
getEntryTerm
current commitIndex 144 lastIncludedIndex 139 snapshot exists ? true
update server 0 's matchIndex from 145 to 145
update server 1 's matchIndex from 145 to 145
getEntryTerm
getEntryTerm
server 0 term 24 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 145
getEntryTerm
current commitIndex 144 lastIncludedIndex 139 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 145
getEntryTerm
current commitIndex 144 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 145 to 145
update server 0 's matchIndex from 145 to 145
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 24 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 24 state 2(leader true)(heartFlag false)
nextIndex
146 || 146 || 146 || 
matchIndex
145 || 145 || 145 || 
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 145
getEntryTerm
current commitIndex 144 lastIncludedIndex 139 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 145
getEntryTerm
current commitIndex 144 lastIncludedIndex 139 snapshot exists ? true
update server 0 's matchIndex from 145 to 145
update server 1 's matchIndex from 145 to 145
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 145
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 145
getEntryTerm
current commitIndex 144 lastIncludedIndex 139 snapshot exists ? true
current commitIndex 144 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 145 to 145
update server 0 's matchIndex from 145 to 145
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 145
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 145
getEntryTerm
current commitIndex 144 lastIncludedIndex 139 snapshot exists ? true
current commitIndex 144 lastIncludedIndex 139 snapshot exists ? true
update server 0 's matchIndex from 145 to 145
update server 1 's matchIndex from 145 to 145
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 24 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 24 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 145
getEntryTerm
current commitIndex 144 lastIncludedIndex 139 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 145
getEntryTerm
current commitIndex 144 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 145 to 145
update server 0 's matchIndex from 145 to 145
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 145
getEntryTerm
current commitIndex 144 lastIncludedIndex 139 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 145
getEntryTerm
current commitIndex 144 lastIncludedIndex 139 snapshot exists ? true
update server 0 's matchIndex from 145 to 145
update server 1 's matchIndex from 145 to 145
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 24 state 2(leader true)(heartFlag false)
nextIndex
146 || 146 || 146 || 
matchIndex
145 || 145 || 145 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 145
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 145
getEntryTerm
current commitIndex 144 lastIncludedIndex 139 snapshot exists ? true
current commitIndex 144 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 145 to 145
update server 0 's matchIndex from 145 to 145
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 145
getEntryTerm
current commitIndex 144 lastIncludedIndex 139 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 145
getEntryTerm
current commitIndex 144 lastIncludedIndex 139 snapshot exists ? true
update server 0 's matchIndex from 145 to 145
update server 1 's matchIndex from 145 to 145
getEntryTerm
getEntryTerm
server 0 term 24 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
append command 2946488003664811261
len(log) = 146
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 24 state 0(leader false)(heartFlag true)
server 0 receives appendEntry from leader 2 prevLogIndex 145
getEntryTerm
current commitIndex 144 lastIncludedIndex 139 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 145
getEntryTerm
current commitIndex 144 lastIncludedIndex 139 snapshot exists ? true
update server 0 's matchIndex from 145 to 146
update server 1 's matchIndex from 145 to 146
getEntryTerm
leader server 2 commit index 145 command 2946488003664811261
leader server 2 commit index 146 command 2946488003664811261
server 2 term 24 state 2(leader true)(heartFlag false)
nextIndex
147 || 147 || 147 || 
matchIndex
146 || 146 || 146 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 146
getEntryTerm
current commitIndex 144 lastIncludedIndex 139 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 146
getEntryTerm
current commitIndex 144 lastIncludedIndex 139 snapshot exists ? true
follower server 1 commit index 145 command 2946488003664811261 
follower server 1 commit index 146 command 2946488003664811261 
follower server 0 commit index 145 command 2946488003664811261 
follower server 0 commit index 146 command 2946488003664811261 
update server 0 's matchIndex from 146 to 146
update server 1 's matchIndex from 146 to 146
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 146
current commitIndex 146 lastIncludedIndex 139 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 146
current commitIndex 146 lastIncludedIndex 139 snapshot exists ? true
update server 0 's matchIndex from 146 to 146
update server 1 's matchIndex from 146 to 146
server 0 term 24 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 146
current commitIndex 146 lastIncludedIndex 139 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 146
current commitIndex 146 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 146 to 146
update server 0 's matchIndex from 146 to 146
server 1 term 24 state 0(leader false)(heartFlag true)
server 2 term 24 state 2(leader true)(heartFlag false)
nextIndex
147 || 147 || 147 || 
matchIndex
146 || 146 || 146 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 146
current commitIndex 146 lastIncludedIndex 139 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 146
current commitIndex 146 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 146 to 146
update server 0 's matchIndex from 146 to 146
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 146
current commitIndex 146 lastIncludedIndex 139 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 146
current commitIndex 146 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 146 to 146
update server 0 's matchIndex from 146 to 146
server 2 term 24 state 2(leader true)(heartFlag false)
nextIndex
147 || 147 || 147 || 
matchIndex
146 || 146 || 146 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 146
current commitIndex 146 lastIncludedIndex 139 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 146
current commitIndex 146 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 146 to 146
update server 0 's matchIndex from 146 to 146
server 0 term 24 state 0(leader false)(heartFlag true)
server 1 term 24 state 0(leader false)(heartFlag true)
server 0 term 24 state 0(leader false)(heartFlag false)
server 0 term 24 doesn't hear any heartbeat
server 0 convert to candidate
getEntryTerm
getEntryTerm
server 1 convert to follower
getEntryTerm
server 1 grant true for candidate 0's requestVote
server 0 convert to leader
server 0 term 25 send appendEntries
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 146
current commitIndex 146 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 0 to 146
server 1 term 25 state 0(leader false)(heartFlag true)
append command 1983379855376077388
len(log) = 147
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 146
current commitIndex 146 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 146 to 147
getEntryTerm
leader server 0 commit index 147 command 1983379855376077388
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 147
getEntryTerm
current commitIndex 146 lastIncludedIndex 139 snapshot exists ? true
follower server 1 commit index 147 command 1983379855376077388 
update server 1 's matchIndex from 147 to 147
append command 6505974094301596205
len(log) = 148
append command 2583524625629552181
len(log) = 149
append command 2617277933965267530
len(log) = 150
append command 4930058985856560838
len(log) = 151
append command 1021612329287507657
len(log) = 152
append command 8342243569858494607
len(log) = 153
append command 137010013998992436
len(log) = 154
append command 7009247016116517307
len(log) = 155
append command 4432098992569415809
len(log) = 156
append command 2430329713137008907
len(log) = 157
append command 1112582559278219630
len(log) = 158
append command 3907314630067348070
len(log) = 159
append command 7426945233830818272
len(log) = 160
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 147
current commitIndex 147 lastIncludedIndex 139 snapshot exists ? true
update server 1 's matchIndex from 147 to 160
getEntryTerm
leader server 0 commit index 148 command 6505974094301596205
leader server 0 commit index 149 command 2583524625629552181
leader server 0 commit index 150 command 2617277933965267530
server 0 takes snopshot and discards logs before index 149
getEntryTerm
discard index before 149(included)
server 0 finished snopshot
leader server 0 commit index 151 command 4930058985856560838
leader server 0 commit index 152 command 1021612329287507657
leader server 0 commit index 153 command 8342243569858494607
leader server 0 commit index 154 command 137010013998992436
leader server 0 commit index 155 command 7009247016116517307
leader server 0 commit index 156 command 4432098992569415809
leader server 0 commit index 157 command 2430329713137008907
leader server 0 commit index 158 command 1112582559278219630
leader server 0 commit index 159 command 3907314630067348070
leader server 0 commit index 160 command 7426945233830818272
server 0 takes snopshot and discards logs before index 159
getEntryTerm
discard index before 159(included)
server 0 finished snopshot
server 1 term 25 state 0(leader false)(heartFlag true)
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 160
getEntryTerm
current commitIndex 147 lastIncludedIndex 139 snapshot exists ? true
follower server 1 commit index 148 command 6505974094301596205 
follower server 1 commit index 149 command 2583524625629552181 
follower server 1 commit index 150 command 2617277933965267530 
server 1 takes snopshot and discards logs before index 149
getEntryTerm
discard index before 149(included)
server 1 finished snopshot
follower server 1 commit index 151 command 4930058985856560838 
follower server 1 commit index 152 command 1021612329287507657 
follower server 1 commit index 153 command 8342243569858494607 
follower server 1 commit index 154 command 137010013998992436 
follower server 1 commit index 155 command 7009247016116517307 
follower server 1 commit index 156 command 4432098992569415809 
follower server 1 commit index 157 command 2430329713137008907 
follower server 1 commit index 158 command 1112582559278219630 
follower server 1 commit index 159 command 3907314630067348070 
follower server 1 commit index 160 command 7426945233830818272 
server 1 takes snopshot and discards logs before index 159
getEntryTerm
discard index before 159(included)
server 1 finished snopshot
update server 1 's matchIndex from 160 to 160
server 2 read form stored snapshot
server 2 recover from snopshot
server 2 finishes recovery
append command 5757338098277857356
server 2 term 24 state 0(leader false)(heartFlag false)
len(log) = 161
server 2 term 24 doesn't hear any heartbeat
server 2 convert to candidate
getEntryTerm
getEntryTerm
getEntryTerm
server 1 already has a voteFor 0 but not candidate 2
server 1 grant false for candidate 2's requestVote
getEntryTerm
server 0 already has a voteFor 0 but not candidate 2
server 0 grant false for candidate 2's requestVote
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 160
current commitIndex 160 lastIncludedIndex 159 snapshot exists ? true
server 2 receives snopshot from leader 0
server 2 commit snopshot to lastIncludedIndex 159
update server 1 's matchIndex from 160 to 161
getEntryTerm
leader server 0 commit index 161 command 5757338098277857356
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 161
getEntryTerm
current commitIndex 160 lastIncludedIndex 159 snapshot exists ? true
follower server 1 commit index 161 command 5757338098277857356 
server 2 receives appendEntry from leader 0 prevLogIndex 159
server 2 convert to follower
current commitIndex 159 lastIncludedIndex 159 snapshot exists ? true
follower server 2 commit index 160 command 7426945233830818272 
follower server 2 commit index 161 command 5757338098277857356 
update server 1 's matchIndex from 161 to 161
update server 2 's matchIndex from 159 to 161
server 0 term 25 state 2(leader true)(heartFlag false)
nextIndex
162 || 162 || 162 || 
matchIndex
161 || 161 || 161 || 
server 1 term 25 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 161
current commitIndex 161 lastIncludedIndex 159 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 161
current commitIndex 161 lastIncludedIndex 159 snapshot exists ? true
update server 2 's matchIndex from 161 to 161
update server 1 's matchIndex from 161 to 161
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 161
server 1 receives appendEntry from leader 0 prevLogIndex 161
current commitIndex 161 lastIncludedIndex 159 snapshot exists ? true
current commitIndex 161 lastIncludedIndex 159 snapshot exists ? true
update server 1 's matchIndex from 161 to 161
update server 2 's matchIndex from 161 to 161
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 161
current commitIndex 161 lastIncludedIndex 159 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 161
current commitIndex 161 lastIncludedIndex 159 snapshot exists ? true
update server 1 's matchIndex from 161 to 161
update server 2 's matchIndex from 161 to 161
server 0 term 25 state 2(leader true)(heartFlag false)
nextIndex
162 || 162 || 162 || 
matchIndex
161 || 161 || 161 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 161
current commitIndex 161 lastIncludedIndex 159 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 161
current commitIndex 161 lastIncludedIndex 159 snapshot exists ? true
update server 2 's matchIndex from 161 to 161
update server 1 's matchIndex from 161 to 161
append command 6264322368357950118
len(log) = 162
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 161
current commitIndex 161 lastIncludedIndex 159 snapshot exists ? true
update server 2 's matchIndex from 161 to 162
getEntryTerm
leader server 0 commit index 162 command 6264322368357950118
server 2 term 25 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 162
getEntryTerm
current commitIndex 161 lastIncludedIndex 159 snapshot exists ? true
follower server 2 commit index 162 command 6264322368357950118 
update server 2 's matchIndex from 162 to 162
append command 3829403825242322069
len(log) = 163
append command 4764947276188036577
len(log) = 164
append command 7551818196510377713
len(log) = 165
append command 1111608233832225748
len(log) = 166
append command 1189656950753307672
len(log) = 167
append command 1557420331037541628
len(log) = 168
append command 7027994511570401074
len(log) = 169
append command 1916112845205309030
len(log) = 170
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 162
current commitIndex 162 lastIncludedIndex 159 snapshot exists ? true
update server 2 's matchIndex from 162 to 170
getEntryTerm
leader server 0 commit index 163 command 3829403825242322069
leader server 0 commit index 164 command 4764947276188036577
leader server 0 commit index 165 command 7551818196510377713
leader server 0 commit index 166 command 1111608233832225748
leader server 0 commit index 167 command 1189656950753307672
leader server 0 commit index 168 command 1557420331037541628
leader server 0 commit index 169 command 7027994511570401074
leader server 0 commit index 170 command 1916112845205309030
server 0 takes snopshot and discards logs before index 169
getEntryTerm
discard index before 169(included)
server 0 finished snopshot
server 0 term 25 state 2(leader true)(heartFlag false)
nextIndex
171 || 162 || 171 || 
matchIndex
170 || 161 || 170 || 
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 170
getEntryTerm
current commitIndex 162 lastIncludedIndex 159 snapshot exists ? true
follower server 2 commit index 163 command 3829403825242322069 
follower server 2 commit index 164 command 4764947276188036577 
follower server 2 commit index 165 command 7551818196510377713 
follower server 2 commit index 166 command 1111608233832225748 
follower server 2 commit index 167 command 1189656950753307672 
follower server 2 commit index 168 command 1557420331037541628 
follower server 2 commit index 169 command 7027994511570401074 
follower server 2 commit index 170 command 1916112845205309030 
server 2 takes snopshot and discards logs before index 169
getEntryTerm
discard index before 169(included)
server 2 finished snopshot
update server 2 's matchIndex from 170 to 170
server 1 read form stored snapshot
server 1 recover from snopshot
server 1 finishes recovery
append command 9199012338596583430
len(log) = 171
server 1 term 25 state 0(leader false)(heartFlag false)
server 1 term 25 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
getEntryTerm
server 2 thinks candidate 1 is not up-to-date
server 0 convert to follower
getEntryTerm
server 0 thinks candidate 1 is not up-to-date
server 0 grant false for candidate 1's requestVote
server 2 grant false for candidate 1's requestVote
server 2 term 26 state 0(leader false)(heartFlag true)
server 0 term 26 state 0(leader false)(heartFlag false)
server 0 term 26 doesn't hear any heartbeat
server 0 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
getEntryTerm
server 1 convert to follower
getEntryTerm
server 2 grant true for candidate 0's requestVote
server 1 grant true for candidate 0's requestVote
server 0 convert to leader
server 0 term 27 send appendEntries
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 171
lastLogIndex 170, args.PrevLogIndex 171
server 1 receives appendEntry from leader 0 prevLogIndex 171
lastLogIndex 161, args.PrevLogIndex 171
getEntryTerm
server 1 receives snopshot from leader 0
server 1 commit snopshot to lastIncludedIndex 169
server 2 receives appendEntry from leader 0 prevLogIndex 170
current commitIndex 170 lastIncludedIndex 169 snapshot exists ? true
update server 2 's matchIndex from 0 to 171
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 27 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 171
getEntryTerm
current commitIndex 170 lastIncludedIndex 169 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 169
current commitIndex 169 lastIncludedIndex 169 snapshot exists ? true
follower server 1 commit index 170 command 1916112845205309030 
update server 2 's matchIndex from 171 to 171
update server 1 's matchIndex from 169 to 171
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 171
getEntryTerm
current commitIndex 170 lastIncludedIndex 169 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 171
getEntryTerm
current commitIndex 170 lastIncludedIndex 169 snapshot exists ? true
update server 1 's matchIndex from 171 to 171
update server 2 's matchIndex from 171 to 171
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 171
getEntryTerm
current commitIndex 170 lastIncludedIndex 169 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 171
getEntryTerm
current commitIndex 170 lastIncludedIndex 169 snapshot exists ? true
update server 2 's matchIndex from 171 to 171
update server 1 's matchIndex from 171 to 171
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 27 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 171
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 171
getEntryTerm
current commitIndex 170 lastIncludedIndex 169 snapshot exists ? true
current commitIndex 170 lastIncludedIndex 169 snapshot exists ? true
update server 1 's matchIndex from 171 to 171
update server 2 's matchIndex from 171 to 171
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 27 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 171
getEntryTerm
current commitIndex 170 lastIncludedIndex 169 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 171
getEntryTerm
current commitIndex 170 lastIncludedIndex 169 snapshot exists ? true
update server 2 's matchIndex from 171 to 171
update server 1 's matchIndex from 171 to 171
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 27 state 2(leader true)(heartFlag false)
nextIndex
172 || 172 || 172 || 
matchIndex
171 || 171 || 171 || 
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 171
getEntryTerm
current commitIndex 170 lastIncludedIndex 169 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 171
getEntryTerm
current commitIndex 170 lastIncludedIndex 169 snapshot exists ? true
update server 1 's matchIndex from 171 to 171
update server 2 's matchIndex from 171 to 171
getEntryTerm
getEntryTerm
server 1 term 27 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 171
getEntryTerm
current commitIndex 170 lastIncludedIndex 169 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 171
getEntryTerm
current commitIndex 170 lastIncludedIndex 169 snapshot exists ? true
update server 2 's matchIndex from 171 to 171
getEntryTerm
update server 1 's matchIndex from 171 to 171
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 171
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 171
getEntryTerm
current commitIndex 170 lastIncludedIndex 169 snapshot exists ? true
current commitIndex 170 lastIncludedIndex 169 snapshot exists ? true
update server 2 's matchIndex from 171 to 171
update server 1 's matchIndex from 171 to 171
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 27 state 2(leader true)(heartFlag false)
nextIndex
172 || 172 || 172 || 
matchIndex
171 || 171 || 171 || 
getEntryTerm
server 2 term 27 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 171
getEntryTerm
current commitIndex 170 lastIncludedIndex 169 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 171
getEntryTerm
current commitIndex 170 lastIncludedIndex 169 snapshot exists ? true
update server 2 's matchIndex from 171 to 171
update server 1 's matchIndex from 171 to 171
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 171
getEntryTerm
current commitIndex 170 lastIncludedIndex 169 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 171
getEntryTerm
current commitIndex 170 lastIncludedIndex 169 snapshot exists ? true
update server 1 's matchIndex from 171 to 171
update server 2 's matchIndex from 171 to 171
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 27 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 171
getEntryTerm
current commitIndex 170 lastIncludedIndex 169 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 171
getEntryTerm
current commitIndex 170 lastIncludedIndex 169 snapshot exists ? true
update server 2 's matchIndex from 171 to 171
update server 1 's matchIndex from 171 to 171
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 171
getEntryTerm
current commitIndex 170 lastIncludedIndex 169 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 171
getEntryTerm
current commitIndex 170 lastIncludedIndex 169 snapshot exists ? true
update server 2 's matchIndex from 171 to 171
update server 1 's matchIndex from 171 to 171
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 27 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 27 state 2(leader true)(heartFlag false)
nextIndex
172 || 172 || 172 || 
matchIndex
171 || 171 || 171 || 
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 171
getEntryTerm
current commitIndex 170 lastIncludedIndex 169 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 171
getEntryTerm
current commitIndex 170 lastIncludedIndex 169 snapshot exists ? true
update server 2 's matchIndex from 171 to 171
update server 1 's matchIndex from 171 to 171
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 27 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 171
getEntryTerm
current commitIndex 170 lastIncludedIndex 169 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 171
getEntryTerm
current commitIndex 170 lastIncludedIndex 169 snapshot exists ? true
getEntryTerm
update server 2 's matchIndex from 171 to 171
update server 1 's matchIndex from 171 to 171
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 171
getEntryTerm
current commitIndex 170 lastIncludedIndex 169 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 171
getEntryTerm
current commitIndex 170 lastIncludedIndex 169 snapshot exists ? true
update server 2 's matchIndex from 171 to 171
update server 1 's matchIndex from 171 to 171
getEntryTerm
getEntryTerm
server 2 term 27 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 171
getEntryTerm
current commitIndex 170 lastIncludedIndex 169 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 171
getEntryTerm
current commitIndex 170 lastIncludedIndex 169 snapshot exists ? true
update server 1 's matchIndex from 171 to 171
update server 2 's matchIndex from 171 to 171
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 27 state 2(leader true)(heartFlag false)
getEntryTerm
nextIndex
172 || 172 || 172 || 
matchIndex
171 || 171 || 171 || 
getEntryTerm
server 1 term 27 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 171
getEntryTerm
current commitIndex 170 lastIncludedIndex 169 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 171
getEntryTerm
current commitIndex 170 lastIncludedIndex 169 snapshot exists ? true
update server 2 's matchIndex from 171 to 171
update server 1 's matchIndex from 171 to 171
getEntryTerm
getEntryTerm
append command 9199012338596583430
len(log) = 172
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 171
getEntryTerm
current commitIndex 170 lastIncludedIndex 169 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 171
getEntryTerm
current commitIndex 170 lastIncludedIndex 169 snapshot exists ? true
update server 2 's matchIndex from 171 to 172
update server 1 's matchIndex from 171 to 172
getEntryTerm
leader server 0 commit index 171 command 9199012338596583430
leader server 0 commit index 172 command 9199012338596583430
server 2 term 27 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 172
getEntryTerm
current commitIndex 170 lastIncludedIndex 169 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 172
getEntryTerm
current commitIndex 170 lastIncludedIndex 169 snapshot exists ? true
follower server 1 commit index 171 command 9199012338596583430 
follower server 1 commit index 172 command 9199012338596583430 
follower server 2 commit index 171 command 9199012338596583430 
follower server 2 commit index 172 command 9199012338596583430 
update server 1 's matchIndex from 172 to 172
update server 2 's matchIndex from 172 to 172
server 0 term 27 state 2(leader true)(heartFlag false)
nextIndex
173 || 173 || 173 || 
matchIndex
172 || 172 || 172 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 172
current commitIndex 172 lastIncludedIndex 169 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 172
current commitIndex 172 lastIncludedIndex 169 snapshot exists ? true
update server 1 's matchIndex from 172 to 172
update server 2 's matchIndex from 172 to 172
server 1 term 27 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 172
current commitIndex 172 lastIncludedIndex 169 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 172
current commitIndex 172 lastIncludedIndex 169 snapshot exists ? true
update server 1 's matchIndex from 172 to 172
update server 2 's matchIndex from 172 to 172
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 172
current commitIndex 172 lastIncludedIndex 169 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 172
current commitIndex 172 lastIncludedIndex 169 snapshot exists ? true
update server 1 's matchIndex from 172 to 172
update server 2 's matchIndex from 172 to 172
server 2 term 27 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 172
current commitIndex 172 lastIncludedIndex 169 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 172
current commitIndex 172 lastIncludedIndex 169 snapshot exists ? true
update server 2 's matchIndex from 172 to 172
update server 1 's matchIndex from 172 to 172
server 0 term 27 state 2(leader true)(heartFlag false)
nextIndex
173 || 173 || 173 || 
matchIndex
172 || 172 || 172 || 
append command 5341358379647599155
len(log) = 173
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 172
current commitIndex 172 lastIncludedIndex 169 snapshot exists ? true
update server 2 's matchIndex from 172 to 173
getEntryTerm
leader server 0 commit index 173 command 5341358379647599155
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 173
getEntryTerm
current commitIndex 172 lastIncludedIndex 169 snapshot exists ? true
follower server 2 commit index 173 command 5341358379647599155 
update server 2 's matchIndex from 173 to 173
append command 5219716091291247946
len(log) = 174
append command 5536353671924845669
len(log) = 175
append command 7565518477476499252
len(log) = 176
append command 4219928290205248354
len(log) = 177
append command 6525757359245434710
len(log) = 178
append command 5332210143519602288
len(log) = 179
append command 8757265401804246338
len(log) = 180
append command 6965086707669706372
len(log) = 181
append command 6163780769210762144
len(log) = 182
append command 5042628114146681022
len(log) = 183
append command 5151157628213384694
len(log) = 184
append command 6599869775045407432
len(log) = 185
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 173
current commitIndex 173 lastIncludedIndex 169 snapshot exists ? true
update server 2 's matchIndex from 173 to 185
getEntryTerm
leader server 0 commit index 174 command 5219716091291247946
leader server 0 commit index 175 command 5536353671924845669
leader server 0 commit index 176 command 7565518477476499252
leader server 0 commit index 177 command 4219928290205248354
leader server 0 commit index 178 command 6525757359245434710
leader server 0 commit index 179 command 5332210143519602288
leader server 0 commit index 180 command 8757265401804246338
server 0 takes snopshot and discards logs before index 179
getEntryTerm
discard index before 179(included)
server 0 finished snopshot
leader server 0 commit index 181 command 6965086707669706372
leader server 0 commit index 182 command 6163780769210762144
leader server 0 commit index 183 command 5042628114146681022
leader server 0 commit index 184 command 5151157628213384694
leader server 0 commit index 185 command 6599869775045407432
server 2 term 27 state 0(leader false)(heartFlag true)
server 0 term 27 state 2(leader true)(heartFlag false)
nextIndex
186 || 173 || 186 || 
matchIndex
185 || 172 || 185 || 
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 185
getEntryTerm
current commitIndex 173 lastIncludedIndex 169 snapshot exists ? true
follower server 2 commit index 174 command 5219716091291247946 
follower server 2 commit index 175 command 5536353671924845669 
follower server 2 commit index 176 command 7565518477476499252 
follower server 2 commit index 177 command 4219928290205248354 
follower server 2 commit index 178 command 6525757359245434710 
follower server 2 commit index 179 command 5332210143519602288 
follower server 2 commit index 180 command 8757265401804246338 
server 2 takes snopshot and discards logs before index 179
getEntryTerm
discard index before 179(included)
server 2 finished snopshot
follower server 2 commit index 181 command 6965086707669706372 
follower server 2 commit index 182 command 6163780769210762144 
follower server 2 commit index 183 command 5042628114146681022 
follower server 2 commit index 184 command 5151157628213384694 
follower server 2 commit index 185 command 6599869775045407432 
update server 2 's matchIndex from 185 to 185
server 1 read form stored snapshot
server 1 recover from snopshot
server 1 finishes recovery
append command 6816652498775749298
server 1 term 27 state 0(leader false)(heartFlag false)
server 1 term 27 doesn't hear any heartbeat
len(log) = 186
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
getEntryTerm
server 2 thinks candidate 1 is not up-to-date
server 2 grant false for candidate 1's requestVote
server 0 convert to follower
getEntryTerm
server 0 thinks candidate 1 is not up-to-date
server 0 grant false for candidate 1's requestVote
server 0 term 28 state 0(leader false)(heartFlag false)
server 0 term 28 doesn't hear any heartbeat
server 0 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
getEntryTerm
server 1 convert to follower
server 2 grant true for candidate 0's requestVote
getEntryTerm
server 1 grant true for candidate 0's requestVote
server 0 convert to leader
server 0 term 29 send appendEntries
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 186
lastLogIndex 185, args.PrevLogIndex 186
server 1 receives appendEntry from leader 0 prevLogIndex 186
lastLogIndex 172, args.PrevLogIndex 186
server 2 term 29 state 0(leader false)(heartFlag true)
getEntryTerm
server 1 receives snopshot from leader 0
server 1 commit snopshot to lastIncludedIndex 179
server 2 receives appendEntry from leader 0 prevLogIndex 185
current commitIndex 185 lastIncludedIndex 179 snapshot exists ? true
update server 2 's matchIndex from 0 to 186
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 186
getEntryTerm
current commitIndex 185 lastIncludedIndex 179 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 179
current commitIndex 179 lastIncludedIndex 179 snapshot exists ? true
update server 2 's matchIndex from 186 to 186
follower server 1 commit index 180 command 8757265401804246338 
follower server 1 commit index 181 command 6965086707669706372 
follower server 1 commit index 182 command 6163780769210762144 
follower server 1 commit index 183 command 5042628114146681022 
follower server 1 commit index 184 command 5151157628213384694 
follower server 1 commit index 185 command 6599869775045407432 
update server 1 's matchIndex from 179 to 186
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 186
getEntryTerm
current commitIndex 185 lastIncludedIndex 179 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 186
getEntryTerm
current commitIndex 185 lastIncludedIndex 179 snapshot exists ? true
update server 2 's matchIndex from 186 to 186
update server 1 's matchIndex from 186 to 186
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 186
getEntryTerm
current commitIndex 185 lastIncludedIndex 179 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 186
getEntryTerm
current commitIndex 185 lastIncludedIndex 179 snapshot exists ? true
update server 2 's matchIndex from 186 to 186
update server 1 's matchIndex from 186 to 186
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 29 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 186
getEntryTerm
current commitIndex 185 lastIncludedIndex 179 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 186
getEntryTerm
current commitIndex 185 lastIncludedIndex 179 snapshot exists ? true
update server 1 's matchIndex from 186 to 186
update server 2 's matchIndex from 186 to 186
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 29 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 186
getEntryTerm
current commitIndex 185 lastIncludedIndex 179 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 186
getEntryTerm
current commitIndex 185 lastIncludedIndex 179 snapshot exists ? true
update server 2 's matchIndex from 186 to 186
update server 1 's matchIndex from 186 to 186
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 29 state 2(leader true)(heartFlag false)
nextIndex
187 || 187 || 187 || 
matchIndex
186 || 186 || 186 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 186
getEntryTerm
current commitIndex 185 lastIncludedIndex 179 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 186
getEntryTerm
current commitIndex 185 lastIncludedIndex 179 snapshot exists ? true
update server 1 's matchIndex from 186 to 186
update server 2 's matchIndex from 186 to 186
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 186
getEntryTerm
current commitIndex 185 lastIncludedIndex 179 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 186
getEntryTerm
current commitIndex 185 lastIncludedIndex 179 snapshot exists ? true
update server 2 's matchIndex from 186 to 186
update server 1 's matchIndex from 186 to 186
server 2 term 29 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 186
getEntryTerm
current commitIndex 185 lastIncludedIndex 179 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 186
getEntryTerm
current commitIndex 185 lastIncludedIndex 179 snapshot exists ? true
update server 2 's matchIndex from 186 to 186
update server 1 's matchIndex from 186 to 186
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 29 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 186
getEntryTerm
current commitIndex 185 lastIncludedIndex 179 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 186
getEntryTerm
current commitIndex 185 lastIncludedIndex 179 snapshot exists ? true
update server 2 's matchIndex from 186 to 186
update server 1 's matchIndex from 186 to 186
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 186
getEntryTerm
current commitIndex 185 lastIncludedIndex 179 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 186
getEntryTerm
current commitIndex 185 lastIncludedIndex 179 snapshot exists ? true
update server 1 's matchIndex from 186 to 186
update server 2 's matchIndex from 186 to 186
server 0 term 29 state 2(leader true)(heartFlag false)
nextIndex
187 || 187 || 187 || 
matchIndex
186 || 186 || 186 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 29 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 186
getEntryTerm
current commitIndex 185 lastIncludedIndex 179 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 186
getEntryTerm
current commitIndex 185 lastIncludedIndex 179 snapshot exists ? true
update server 1 's matchIndex from 186 to 186
update server 2 's matchIndex from 186 to 186
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 186
getEntryTerm
current commitIndex 185 lastIncludedIndex 179 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 186
getEntryTerm
current commitIndex 185 lastIncludedIndex 179 snapshot exists ? true
update server 2 's matchIndex from 186 to 186
update server 1 's matchIndex from 186 to 186
getEntryTerm
getEntryTerm
server 1 term 29 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 186
getEntryTerm
current commitIndex 185 lastIncludedIndex 179 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 186
getEntryTerm
current commitIndex 185 lastIncludedIndex 179 snapshot exists ? true
update server 2 's matchIndex from 186 to 186
update server 1 's matchIndex from 186 to 186
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 29 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 term 29 state 2(leader true)(heartFlag false)
nextIndex
187 || 187 || 187 || 
matchIndex
186 || 186 || 186 || 
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 186
getEntryTerm
current commitIndex 185 lastIncludedIndex 179 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 186
getEntryTerm
current commitIndex 185 lastIncludedIndex 179 snapshot exists ? true
update server 1 's matchIndex from 186 to 186
update server 2 's matchIndex from 186 to 186
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 186
getEntryTerm
current commitIndex 185 lastIncludedIndex 179 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 186
getEntryTerm
current commitIndex 185 lastIncludedIndex 179 snapshot exists ? true
update server 2 's matchIndex from 186 to 186
update server 1 's matchIndex from 186 to 186
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 186
getEntryTerm
current commitIndex 185 lastIncludedIndex 179 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 186
getEntryTerm
current commitIndex 185 lastIncludedIndex 179 snapshot exists ? true
update server 1 's matchIndex from 186 to 186
update server 2 's matchIndex from 186 to 186
getEntryTerm
getEntryTerm
server 1 term 29 state 0(leader false)(heartFlag true)
append command 6816652498775749298
len(log) = 187
getEntryTerm
getEntryTerm
server 2 term 29 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 186
getEntryTerm
current commitIndex 185 lastIncludedIndex 179 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 186
getEntryTerm
current commitIndex 185 lastIncludedIndex 179 snapshot exists ? true
update server 1 's matchIndex from 186 to 187
update server 2 's matchIndex from 186 to 187
getEntryTerm
leader server 0 commit index 186 command 6816652498775749298
leader server 0 commit index 187 command 6816652498775749298
server 0 term 29 state 2(leader true)(heartFlag false)
nextIndex
188 || 188 || 188 || 
matchIndex
187 || 187 || 187 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 187
getEntryTerm
current commitIndex 185 lastIncludedIndex 179 snapshot exists ? true
follower server 2 commit index 186 command 6816652498775749298 
follower server 2 commit index 187 command 6816652498775749298 
update server 2 's matchIndex from 187 to 187
server 1 receives appendEntry from leader 0 prevLogIndex 187
getEntryTerm
current commitIndex 185 lastIncludedIndex 179 snapshot exists ? true
follower server 1 commit index 186 command 6816652498775749298 
follower server 1 commit index 187 command 6816652498775749298 
update server 1 's matchIndex from 187 to 187
server 1 term 29 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 187
current commitIndex 187 lastIncludedIndex 179 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 187
current commitIndex 187 lastIncludedIndex 179 snapshot exists ? true
update server 2 's matchIndex from 187 to 187
update server 1 's matchIndex from 187 to 187
server 2 term 29 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 187
current commitIndex 187 lastIncludedIndex 179 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 187
update server 2 's matchIndex from 187 to 187
current commitIndex 187 lastIncludedIndex 179 snapshot exists ? true
update server 1 's matchIndex from 187 to 187
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 187
current commitIndex 187 lastIncludedIndex 179 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 187
current commitIndex 187 lastIncludedIndex 179 snapshot exists ? true
update server 2 's matchIndex from 187 to 187
update server 1 's matchIndex from 187 to 187
server 0 term 29 state 2(leader true)(heartFlag false)
nextIndex
188 || 188 || 188 || 
matchIndex
187 || 187 || 187 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 187
server 1 receives appendEntry from leader 0 prevLogIndex 187
current commitIndex 187 lastIncludedIndex 179 snapshot exists ? true
current commitIndex 187 lastIncludedIndex 179 snapshot exists ? true
update server 1 's matchIndex from 187 to 187
update server 2 's matchIndex from 187 to 187
server 2 term 29 state 0(leader false)(heartFlag true)
server 1 term 29 state 0(leader false)(heartFlag true)
server 2 term 29 state 0(leader false)(heartFlag false)
server 2 term 29 doesn't hear any heartbeat
server 2 convert to candidate
getEntryTerm
getEntryTerm
server 1 convert to follower
getEntryTerm
server 1 grant true for candidate 2's requestVote
server 2 convert to leader
server 2 term 30 send appendEntries
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 187
current commitIndex 187 lastIncludedIndex 179 snapshot exists ? true
update server 1 's matchIndex from 0 to 187
server 1 term 30 state 0(leader false)(heartFlag true)
append command 7612107100150477075
len(log) = 188
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 187
current commitIndex 187 lastIncludedIndex 179 snapshot exists ? true
update server 1 's matchIndex from 187 to 188
getEntryTerm
leader server 2 commit index 188 command 7612107100150477075
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 188
getEntryTerm
current commitIndex 187 lastIncludedIndex 179 snapshot exists ? true
follower server 1 commit index 188 command 7612107100150477075 
update server 1 's matchIndex from 188 to 188
append command 7516648427554982492
len(log) = 189
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 188
current commitIndex 188 lastIncludedIndex 179 snapshot exists ? true
update server 1 's matchIndex from 188 to 189
getEntryTerm
leader server 2 commit index 189 command 7516648427554982492
server 2 takes snopshot and discards logs before index 189
getEntryTerm
discard index before 189(included)
server 2 finished snopshot
server 1 receives appendEntry from leader 2 prevLogIndex 189
getEntryTerm
current commitIndex 188 lastIncludedIndex 179 snapshot exists ? true
follower server 1 commit index 189 command 7516648427554982492 
update server 1 's matchIndex from 189 to 189
server 1 takes snopshot and discards logs before index 189
getEntryTerm
discard index before 189(included)
server 1 finished snopshot
server 1 term 30 state 0(leader false)(heartFlag true)
server 0 read form stored snapshot
server 0 recover from snopshot
server 0 finishes recovery
append command 3017050615590297238
server 0 term 29 state 0(leader false)(heartFlag false)
server 0 term 29 doesn't hear any heartbeat
server 0 convert to candidate
len(log) = 190
getEntryTerm
getEntryTerm
getEntryTerm
server 2 already has a voteFor 2 but not candidate 0
server 2 grant false for candidate 0's requestVote
server 1 already has a voteFor 2 but not candidate 0
server 1 grant false for candidate 0's requestVote
server 0 receives snopshot from leader 2
server 0 commit snopshot to lastIncludedIndex 189
server 1 receives appendEntry from leader 2 prevLogIndex 189
current commitIndex 189 lastIncludedIndex 189 snapshot exists ? true
update server 1 's matchIndex from 189 to 190
getEntryTerm
leader server 2 commit index 190 command 3017050615590297238
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 190
getEntryTerm
current commitIndex 189 lastIncludedIndex 189 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 189
server 0 convert to follower
current commitIndex 189 lastIncludedIndex 189 snapshot exists ? true
follower server 0 commit index 190 command 3017050615590297238 
follower server 1 commit index 190 command 3017050615590297238 
update server 1 's matchIndex from 190 to 190
update server 0 's matchIndex from 189 to 190
server 2 term 30 state 2(leader true)(heartFlag false)
nextIndex
191 || 191 || 191 || 
matchIndex
190 || 190 || 190 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 190
current commitIndex 190 lastIncludedIndex 189 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 190
current commitIndex 190 lastIncludedIndex 189 snapshot exists ? true
update server 0 's matchIndex from 190 to 190
update server 1 's matchIndex from 190 to 190
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 190
current commitIndex 190 lastIncludedIndex 189 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 190
current commitIndex 190 lastIncludedIndex 189 snapshot exists ? true
update server 1 's matchIndex from 190 to 190
update server 0 's matchIndex from 190 to 190
server 1 term 30 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 190
current commitIndex 190 lastIncludedIndex 189 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 190
current commitIndex 190 lastIncludedIndex 189 snapshot exists ? true
update server 0 's matchIndex from 190 to 190
update server 1 's matchIndex from 190 to 190
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 190
current commitIndex 190 lastIncludedIndex 189 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 190
current commitIndex 190 lastIncludedIndex 189 snapshot exists ? true
update server 1 's matchIndex from 190 to 190
update server 0 's matchIndex from 190 to 190
server 0 term 30 state 0(leader false)(heartFlag true)
server 2 term 30 state 2(leader true)(heartFlag false)
nextIndex
191 || 191 || 191 || 
matchIndex
190 || 190 || 190 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 190
current commitIndex 190 lastIncludedIndex 189 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 190
current commitIndex 190 lastIncludedIndex 189 snapshot exists ? true
update server 0 's matchIndex from 190 to 190
update server 1 's matchIndex from 190 to 190
server 1 term 30 state 0(leader false)(heartFlag true)
append command 5489149682084000900
len(log) = 191
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 190
current commitIndex 190 lastIncludedIndex 189 snapshot exists ? true
update server 1 's matchIndex from 190 to 191
getEntryTerm
leader server 2 commit index 191 command 5489149682084000900
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 191
getEntryTerm
current commitIndex 190 lastIncludedIndex 189 snapshot exists ? true
follower server 1 commit index 191 command 5489149682084000900 
update server 1 's matchIndex from 191 to 191
append command 6883601733869538827
len(log) = 192
append command 3967524804311951603
len(log) = 193
append command 2106134149249492657
len(log) = 194
append command 8346729885344352592
len(log) = 195
append command 4548775978960162263
len(log) = 196
append command 1593474714833627263
len(log) = 197
append command 7448873609751151703
len(log) = 198
append command 602783319156408103
len(log) = 199
append command 3510424763201343880
len(log) = 200
append command 5301410335747648297
len(log) = 201
append command 30681594358976011
len(log) = 202
append command 3704847490668855786
len(log) = 203
append command 5632221657000811681
len(log) = 204
append command 7446488721211457805
len(log) = 205
append command 1418070213320133905
len(log) = 206
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 191
current commitIndex 191 lastIncludedIndex 189 snapshot exists ? true
update server 1 's matchIndex from 191 to 206
getEntryTerm
leader server 2 commit index 192 command 6883601733869538827
leader server 2 commit index 193 command 3967524804311951603
leader server 2 commit index 194 command 2106134149249492657
leader server 2 commit index 195 command 8346729885344352592
leader server 2 commit index 196 command 4548775978960162263
leader server 2 commit index 197 command 1593474714833627263
leader server 2 commit index 198 command 7448873609751151703
leader server 2 commit index 199 command 602783319156408103
leader server 2 commit index 200 command 3510424763201343880
server 2 takes snopshot and discards logs before index 199
getEntryTerm
discard index before 199(included)
server 2 finished snopshot
leader server 2 commit index 201 command 5301410335747648297
leader server 2 commit index 202 command 30681594358976011
leader server 2 commit index 203 command 3704847490668855786
leader server 2 commit index 204 command 5632221657000811681
leader server 2 commit index 205 command 7446488721211457805
leader server 2 commit index 206 command 1418070213320133905
server 1 term 30 state 0(leader false)(heartFlag true)
server 2 term 30 state 2(leader true)(heartFlag false)
nextIndex
191 || 207 || 207 || 
matchIndex
190 || 206 || 206 || 
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 206
getEntryTerm
current commitIndex 191 lastIncludedIndex 189 snapshot exists ? true
follower server 1 commit index 192 command 6883601733869538827 
follower server 1 commit index 193 command 3967524804311951603 
follower server 1 commit index 194 command 2106134149249492657 
follower server 1 commit index 195 command 8346729885344352592 
follower server 1 commit index 196 command 4548775978960162263 
follower server 1 commit index 197 command 1593474714833627263 
follower server 1 commit index 198 command 7448873609751151703 
follower server 1 commit index 199 command 602783319156408103 
follower server 1 commit index 200 command 3510424763201343880 
server 1 takes snopshot and discards logs before index 199
getEntryTerm
discard index before 199(included)
server 1 finished snopshot
follower server 1 commit index 201 command 5301410335747648297 
follower server 1 commit index 202 command 30681594358976011 
follower server 1 commit index 203 command 3704847490668855786 
follower server 1 commit index 204 command 5632221657000811681 
follower server 1 commit index 205 command 7446488721211457805 
follower server 1 commit index 206 command 1418070213320133905 
update server 1 's matchIndex from 206 to 206
server 0 read form stored snapshot
server 0 recover from snopshot
server 0 finishes recovery
append command 1880375203984001926
server 0 term 30 state 0(leader false)(heartFlag false)
server 0 term 30 doesn't hear any heartbeat
len(log) = 207
server 0 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
server 1 convert to follower
getEntryTerm
server 2 thinks candidate 0 is not up-to-date
server 2 grant false for candidate 0's requestVote
getEntryTerm
server 1 thinks candidate 0 is not up-to-date
server 1 grant false for candidate 0's requestVote
server 1 term 31 state 0(leader false)(heartFlag true)
server 2 term 31 state 0(leader false)(heartFlag false)
server 2 term 31 doesn't hear any heartbeat
server 2 convert to candidate
getEntryTerm
getEntryTerm
server 1 convert to follower
getEntryTerm
server 0 convert to follower
server 1 grant true for candidate 2's requestVote
getEntryTerm
server 0 grant true for candidate 2's requestVote
server 2 convert to leader
server 2 term 32 send appendEntries
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 207
lastLogIndex 206, args.PrevLogIndex 207
server 0 receives appendEntry from leader 2 prevLogIndex 207
lastLogIndex 190, args.PrevLogIndex 207
getEntryTerm
server 0 receives snopshot from leader 2
server 1 receives appendEntry from leader 2 prevLogIndex 206
current commitIndex 206 lastIncludedIndex 199 snapshot exists ? true
server 0 commit snopshot to lastIncludedIndex 199
update server 1 's matchIndex from 0 to 207
getEntryTerm
server 1 term 32 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 207
getEntryTerm
current commitIndex 206 lastIncludedIndex 199 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 199
current commitIndex 199 lastIncludedIndex 199 snapshot exists ? true
follower server 0 commit index 200 command 3510424763201343880 
follower server 0 commit index 201 command 5301410335747648297 
follower server 0 commit index 202 command 30681594358976011 
follower server 0 commit index 203 command 3704847490668855786 
follower server 0 commit index 204 command 5632221657000811681 
follower server 0 commit index 205 command 7446488721211457805 
follower server 0 commit index 206 command 1418070213320133905 
update server 1 's matchIndex from 207 to 207
update server 0 's matchIndex from 199 to 207
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 207
getEntryTerm
current commitIndex 206 lastIncludedIndex 199 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 207
getEntryTerm
current commitIndex 206 lastIncludedIndex 199 snapshot exists ? true
update server 1 's matchIndex from 207 to 207
update server 0 's matchIndex from 207 to 207
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 207
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 207
getEntryTerm
current commitIndex 206 lastIncludedIndex 199 snapshot exists ? true
current commitIndex 206 lastIncludedIndex 199 snapshot exists ? true
update server 0 's matchIndex from 207 to 207
update server 1 's matchIndex from 207 to 207
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 32 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 207
getEntryTerm
current commitIndex 206 lastIncludedIndex 199 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 207
getEntryTerm
update server 0 's matchIndex from 207 to 207
current commitIndex 206 lastIncludedIndex 199 snapshot exists ? true
update server 1 's matchIndex from 207 to 207
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 32 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 207
getEntryTerm
current commitIndex 206 lastIncludedIndex 199 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 207
getEntryTerm
current commitIndex 206 lastIncludedIndex 199 snapshot exists ? true
update server 0 's matchIndex from 207 to 207
update server 1 's matchIndex from 207 to 207
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 207
getEntryTerm
current commitIndex 206 lastIncludedIndex 199 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 207
getEntryTerm
current commitIndex 206 lastIncludedIndex 199 snapshot exists ? true
update server 1 's matchIndex from 207 to 207
update server 0 's matchIndex from 207 to 207
getEntryTerm
getEntryTerm
server 2 term 32 state 2(leader true)(heartFlag false)
nextIndex
208 || 208 || 208 || 
matchIndex
207 || 207 || 207 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 207
getEntryTerm
current commitIndex 206 lastIncludedIndex 199 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 207
getEntryTerm
current commitIndex 206 lastIncludedIndex 199 snapshot exists ? true
update server 1 's matchIndex from 207 to 207
update server 0 's matchIndex from 207 to 207
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 32 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 207
getEntryTerm
current commitIndex 206 lastIncludedIndex 199 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 207
getEntryTerm
current commitIndex 206 lastIncludedIndex 199 snapshot exists ? true
update server 1 's matchIndex from 207 to 207
update server 0 's matchIndex from 207 to 207
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 32 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 32 state 2(leader true)(heartFlag false)
getEntryTerm
nextIndex
208 || 208 || 208 || 
matchIndex
207 || 207 || 207 || 
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 207
getEntryTerm
current commitIndex 206 lastIncludedIndex 199 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 207
getEntryTerm
current commitIndex 206 lastIncludedIndex 199 snapshot exists ? true
update server 1 's matchIndex from 207 to 207
update server 0 's matchIndex from 207 to 207
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 207
getEntryTerm
current commitIndex 206 lastIncludedIndex 199 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 207
getEntryTerm
current commitIndex 206 lastIncludedIndex 199 snapshot exists ? true
update server 0 's matchIndex from 207 to 207
update server 1 's matchIndex from 207 to 207
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 207
getEntryTerm
current commitIndex 206 lastIncludedIndex 199 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 207
getEntryTerm
current commitIndex 206 lastIncludedIndex 199 snapshot exists ? true
update server 1 's matchIndex from 207 to 207
update server 0 's matchIndex from 207 to 207
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 32 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 term 32 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 207
getEntryTerm
current commitIndex 206 lastIncludedIndex 199 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 207
getEntryTerm
current commitIndex 206 lastIncludedIndex 199 snapshot exists ? true
update server 1 's matchIndex from 207 to 207
update server 0 's matchIndex from 207 to 207
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 207
getEntryTerm
current commitIndex 206 lastIncludedIndex 199 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 207
getEntryTerm
current commitIndex 206 lastIncludedIndex 199 snapshot exists ? true
update server 0 's matchIndex from 207 to 207
update server 1 's matchIndex from 207 to 207
getEntryTerm
server 2 term 32 state 2(leader true)(heartFlag false)
nextIndex
208 || 208 || 208 || 
matchIndex
207 || 207 || 207 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 207
getEntryTerm
current commitIndex 206 lastIncludedIndex 199 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 207
getEntryTerm
current commitIndex 206 lastIncludedIndex 199 snapshot exists ? true
update server 0 's matchIndex from 207 to 207
update server 1 's matchIndex from 207 to 207
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 207
getEntryTerm
current commitIndex 206 lastIncludedIndex 199 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 207
getEntryTerm
current commitIndex 206 lastIncludedIndex 199 snapshot exists ? true
update server 0 's matchIndex from 207 to 207
update server 1 's matchIndex from 207 to 207
append command 1880375203984001926
len(log) = 208
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 32 state 0(leader false)(heartFlag true)
getEntryTerm
server 1 term 32 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 32 state 2(leader true)(heartFlag false)
nextIndex
208 || 208 || 209 || 
matchIndex
207 || 207 || 208 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 207
getEntryTerm
current commitIndex 206 lastIncludedIndex 199 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 207
getEntryTerm
current commitIndex 206 lastIncludedIndex 199 snapshot exists ? true
update server 0 's matchIndex from 207 to 208
update server 1 's matchIndex from 207 to 208
getEntryTerm
leader server 2 commit index 207 command 1880375203984001926
leader server 2 commit index 208 command 1880375203984001926
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 208
getEntryTerm
current commitIndex 206 lastIncludedIndex 199 snapshot exists ? true
follower server 1 commit index 207 command 1880375203984001926 
follower server 1 commit index 208 command 1880375203984001926 
server 0 receives appendEntry from leader 2 prevLogIndex 208
getEntryTerm
current commitIndex 206 lastIncludedIndex 199 snapshot exists ? true
update server 1 's matchIndex from 208 to 208
follower server 0 commit index 207 command 1880375203984001926 
follower server 0 commit index 208 command 1880375203984001926 
update server 0 's matchIndex from 208 to 208
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 208
current commitIndex 208 lastIncludedIndex 199 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 208
current commitIndex 208 lastIncludedIndex 199 snapshot exists ? true
update server 0 's matchIndex from 208 to 208
update server 1 's matchIndex from 208 to 208
server 2 term 32 state 2(leader true)(heartFlag false)
nextIndex
209 || 209 || 209 || 
matchIndex
208 || 208 || 208 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 208
current commitIndex 208 lastIncludedIndex 199 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 208
current commitIndex 208 lastIncludedIndex 199 snapshot exists ? true
update server 1 's matchIndex from 208 to 208
update server 0 's matchIndex from 208 to 208
server 0 term 32 state 0(leader false)(heartFlag true)
server 1 term 32 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 208
current commitIndex 208 lastIncludedIndex 199 snapshot exists ? true
update server 0 's matchIndex from 208 to 208
server 1 receives appendEntry from leader 2 prevLogIndex 208
current commitIndex 208 lastIncludedIndex 199 snapshot exists ? true
update server 1 's matchIndex from 208 to 208
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 208
current commitIndex 208 lastIncludedIndex 199 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 208
current commitIndex 208 lastIncludedIndex 199 snapshot exists ? true
update server 1 's matchIndex from 208 to 208
update server 0 's matchIndex from 208 to 208
server 2 term 32 state 2(leader true)(heartFlag false)
nextIndex
209 || 209 || 209 || 
matchIndex
208 || 208 || 208 || 
server 0 term 32 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 208
current commitIndex 208 lastIncludedIndex 199 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 208
current commitIndex 208 lastIncludedIndex 199 snapshot exists ? true
update server 1 's matchIndex from 208 to 208
update server 0 's matchIndex from 208 to 208
append command 5075478931642846738
len(log) = 209
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 208
current commitIndex 208 lastIncludedIndex 199 snapshot exists ? true
update server 1 's matchIndex from 208 to 209
getEntryTerm
leader server 2 commit index 209 command 5075478931642846738
server 2 takes snopshot and discards logs before index 209
getEntryTerm
discard index before 209(included)
server 2 finished snopshot
server 1 term 32 state 0(leader false)(heartFlag true)
server 1 receives appendEntry from leader 2 prevLogIndex 209
getEntryTerm
current commitIndex 208 lastIncludedIndex 199 snapshot exists ? true
follower server 1 commit index 209 command 5075478931642846738 
update server 1 's matchIndex from 209 to 209
server 1 takes snopshot and discards logs before index 209
getEntryTerm
discard index before 209(included)
server 1 finished snopshot
append command 507927768177384035
len(log) = 210
append command 6710244241391641367
len(log) = 211
append command 2241976504374566978
len(log) = 212
append command 2716020058488454441
len(log) = 213
append command 5492206331611640823
len(log) = 214
append command 2421849075825923150
len(log) = 215
append command 3918961678659667141
len(log) = 216
append command 526395483108022878
len(log) = 217
append command 5099418675161512674
len(log) = 218
append command 4865740842611536477
len(log) = 219
append command 3274374118620585764
len(log) = 220
append command 4009907225095445008
len(log) = 221
server 1 receives appendEntry from leader 2 prevLogIndex 209
current commitIndex 209 lastIncludedIndex 209 snapshot exists ? true
update server 1 's matchIndex from 209 to 221
getEntryTerm
leader server 2 commit index 210 command 507927768177384035
leader server 2 commit index 211 command 6710244241391641367
leader server 2 commit index 212 command 2241976504374566978
leader server 2 commit index 213 command 2716020058488454441
leader server 2 commit index 214 command 5492206331611640823
leader server 2 commit index 215 command 2421849075825923150
leader server 2 commit index 216 command 3918961678659667141
leader server 2 commit index 217 command 526395483108022878
leader server 2 commit index 218 command 5099418675161512674
leader server 2 commit index 219 command 4865740842611536477
leader server 2 commit index 220 command 3274374118620585764
server 2 takes snopshot and discards logs before index 219
getEntryTerm
discard index before 219(included)
server 2 finished snopshot
leader server 2 commit index 221 command 4009907225095445008
server 2 term 32 state 2(leader true)(heartFlag false)
nextIndex
209 || 222 || 222 || 
matchIndex
208 || 221 || 221 || 
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 221
getEntryTerm
current commitIndex 209 lastIncludedIndex 209 snapshot exists ? true
follower server 1 commit index 210 command 507927768177384035 
follower server 1 commit index 211 command 6710244241391641367 
follower server 1 commit index 212 command 2241976504374566978 
follower server 1 commit index 213 command 2716020058488454441 
follower server 1 commit index 214 command 5492206331611640823 
follower server 1 commit index 215 command 2421849075825923150 
follower server 1 commit index 216 command 3918961678659667141 
follower server 1 commit index 217 command 526395483108022878 
follower server 1 commit index 218 command 5099418675161512674 
follower server 1 commit index 219 command 4865740842611536477 
follower server 1 commit index 220 command 3274374118620585764 
server 1 takes snopshot and discards logs before index 219
getEntryTerm
discard index before 219(included)
server 1 finished snopshot
follower server 1 commit index 221 command 4009907225095445008 
update server 1 's matchIndex from 221 to 221
server 0 read form stored snapshot
server 0 recover from snopshot
server 0 finishes recovery
append command 1391353434886927821
server 0 term 32 state 0(leader false)(heartFlag false)
server 0 term 32 doesn't hear any heartbeat
len(log) = 222
server 0 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
server 1 convert to follower
getEntryTerm
server 2 thinks candidate 0 is not up-to-date
server 2 grant false for candidate 0's requestVote
getEntryTerm
server 1 thinks candidate 0 is not up-to-date
server 1 grant false for candidate 0's requestVote
server 1 term 33 state 0(leader false)(heartFlag true)
server 2 term 33 state 0(leader false)(heartFlag false)
server 2 term 33 doesn't hear any heartbeat
server 2 convert to candidate
getEntryTerm
getEntryTerm
server 1 convert to follower
getEntryTerm
server 0 convert to follower
server 1 grant true for candidate 2's requestVote
getEntryTerm
server 0 grant true for candidate 2's requestVote
server 2 convert to leader
server 2 term 34 send appendEntries
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 222
lastLogIndex 208, args.PrevLogIndex 222
server 1 receives appendEntry from leader 2 prevLogIndex 222
lastLogIndex 221, args.PrevLogIndex 222
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 221
current commitIndex 221 lastIncludedIndex 219 snapshot exists ? true
server 0 receives snopshot from leader 2
server 0 commit snopshot to lastIncludedIndex 219
update server 1 's matchIndex from 0 to 222
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 222
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 219
current commitIndex 219 lastIncludedIndex 219 snapshot exists ? true
getEntryTerm
follower server 0 commit index 220 command 3274374118620585764 
follower server 0 commit index 221 command 4009907225095445008 
current commitIndex 221 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 219 to 222
update server 1 's matchIndex from 222 to 222
getEntryTerm
server 1 term 34 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 222
getEntryTerm
current commitIndex 221 lastIncludedIndex 219 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 222
getEntryTerm
current commitIndex 221 lastIncludedIndex 219 snapshot exists ? true
update server 1 's matchIndex from 222 to 222
update server 0 's matchIndex from 222 to 222
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 222
getEntryTerm
current commitIndex 221 lastIncludedIndex 219 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 222
getEntryTerm
current commitIndex 221 lastIncludedIndex 219 snapshot exists ? true
update server 1 's matchIndex from 222 to 222
update server 0 's matchIndex from 222 to 222
server 0 term 34 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 34 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 222
getEntryTerm
current commitIndex 221 lastIncludedIndex 219 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 222
getEntryTerm
current commitIndex 221 lastIncludedIndex 219 snapshot exists ? true
update server 1 's matchIndex from 222 to 222
update server 0 's matchIndex from 222 to 222
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 222
getEntryTerm
current commitIndex 221 lastIncludedIndex 219 snapshot exists ? true
update server 1 's matchIndex from 222 to 222
server 0 receives appendEntry from leader 2 prevLogIndex 222
getEntryTerm
current commitIndex 221 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 222 to 222
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 222
getEntryTerm
current commitIndex 221 lastIncludedIndex 219 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 222
getEntryTerm
current commitIndex 221 lastIncludedIndex 219 snapshot exists ? true
update server 1 's matchIndex from 222 to 222
update server 0 's matchIndex from 222 to 222
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 34 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 term 34 state 2(leader true)(heartFlag false)
nextIndex
223 || 223 || 223 || 
matchIndex
222 || 222 || 222 || 
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 222
getEntryTerm
current commitIndex 221 lastIncludedIndex 219 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 222
getEntryTerm
current commitIndex 221 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 222 to 222
update server 1 's matchIndex from 222 to 222
getEntryTerm
server 1 term 34 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 222
getEntryTerm
current commitIndex 221 lastIncludedIndex 219 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 222
getEntryTerm
current commitIndex 221 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 222 to 222
update server 1 's matchIndex from 222 to 222
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 222
getEntryTerm
current commitIndex 221 lastIncludedIndex 219 snapshot exists ? true
update server 1 's matchIndex from 222 to 222
server 0 receives appendEntry from leader 2 prevLogIndex 222
getEntryTerm
current commitIndex 221 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 222 to 222
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 34 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 222
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 222
getEntryTerm
current commitIndex 221 lastIncludedIndex 219 snapshot exists ? true
update server 1 's matchIndex from 222 to 222
current commitIndex 221 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 222 to 222
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 34 state 2(leader true)(heartFlag false)
nextIndex
223 || 223 || 223 || 
matchIndex
222 || 222 || 222 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 222
server 1 receives appendEntry from leader 2 prevLogIndex 222
getEntryTerm
getEntryTerm
current commitIndex 221 lastIncludedIndex 219 snapshot exists ? true
current commitIndex 221 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 222 to 222
update server 1 's matchIndex from 222 to 222
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 34 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 222
getEntryTerm
current commitIndex 221 lastIncludedIndex 219 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 222
getEntryTerm
current commitIndex 221 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 222 to 222
update server 1 's matchIndex from 222 to 222
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 222
getEntryTerm
current commitIndex 221 lastIncludedIndex 219 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 222
getEntryTerm
current commitIndex 221 lastIncludedIndex 219 snapshot exists ? true
update server 1 's matchIndex from 222 to 222
update server 0 's matchIndex from 222 to 222
getEntryTerm
server 0 term 34 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 34 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 222
getEntryTerm
current commitIndex 221 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 222 to 222
server 1 receives appendEntry from leader 2 prevLogIndex 222
getEntryTerm
current commitIndex 221 lastIncludedIndex 219 snapshot exists ? true
update server 1 's matchIndex from 222 to 222
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 222
getEntryTerm
current commitIndex 221 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 222 to 222
server 1 receives appendEntry from leader 2 prevLogIndex 222
getEntryTerm
current commitIndex 221 lastIncludedIndex 219 snapshot exists ? true
update server 1 's matchIndex from 222 to 222
server 2 term 34 state 2(leader true)(heartFlag false)
nextIndex
223 || 223 || 223 || 
matchIndex
222 || 222 || 222 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 222
getEntryTerm
current commitIndex 221 lastIncludedIndex 219 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 222
getEntryTerm
current commitIndex 221 lastIncludedIndex 219 snapshot exists ? true
update server 1 's matchIndex from 222 to 222
update server 0 's matchIndex from 222 to 222
getEntryTerm
getEntryTerm
append command 1391353434886927821
len(log) = 223
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 34 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 222
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 222
getEntryTerm
current commitIndex 221 lastIncludedIndex 219 snapshot exists ? true
current commitIndex 221 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 222 to 223
update server 1 's matchIndex from 222 to 223
getEntryTerm
leader server 2 commit index 222 command 1391353434886927821
leader server 2 commit index 223 command 1391353434886927821
server 2 term 34 state 2(leader true)(heartFlag false)
nextIndex
224 || 224 || 224 || 
matchIndex
223 || 223 || 223 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 223
getEntryTerm
current commitIndex 221 lastIncludedIndex 219 snapshot exists ? true
follower server 1 commit index 222 command 1391353434886927821 
follower server 1 commit index 223 command 1391353434886927821 
server 0 receives appendEntry from leader 2 prevLogIndex 223
getEntryTerm
current commitIndex 221 lastIncludedIndex 219 snapshot exists ? true
follower server 0 commit index 222 command 1391353434886927821 
follower server 0 commit index 223 command 1391353434886927821 
update server 1 's matchIndex from 223 to 223
update server 0 's matchIndex from 223 to 223
server 1 term 34 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 223
current commitIndex 223 lastIncludedIndex 219 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 223
current commitIndex 223 lastIncludedIndex 219 snapshot exists ? true
update server 1 's matchIndex from 223 to 223
update server 0 's matchIndex from 223 to 223
server 0 term 34 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 223
current commitIndex 223 lastIncludedIndex 219 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 223
current commitIndex 223 lastIncludedIndex 219 snapshot exists ? true
update server 1 's matchIndex from 223 to 223
update server 0 's matchIndex from 223 to 223
server 2 term 34 state 2(leader true)(heartFlag false)
nextIndex
224 || 224 || 224 || 
matchIndex
223 || 223 || 223 || 
server 1 term 34 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 223
current commitIndex 223 lastIncludedIndex 219 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 223
current commitIndex 223 lastIncludedIndex 219 snapshot exists ? true
update server 1 's matchIndex from 223 to 223
update server 0 's matchIndex from 223 to 223
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 223
current commitIndex 223 lastIncludedIndex 219 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 223
current commitIndex 223 lastIncludedIndex 219 snapshot exists ? true
update server 1 's matchIndex from 223 to 223
update server 0 's matchIndex from 223 to 223
server 0 term 34 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 223
current commitIndex 223 lastIncludedIndex 219 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 223
current commitIndex 223 lastIncludedIndex 219 snapshot exists ? true
update server 1 's matchIndex from 223 to 223
update server 0 's matchIndex from 223 to 223
server 1 term 34 state 0(leader false)(heartFlag true)
server 0 term 34 state 0(leader false)(heartFlag true)
server 1 term 34 state 0(leader false)(heartFlag false)
server 1 term 34 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 0 convert to follower
getEntryTerm
server 0 grant true for candidate 1's requestVote
server 1 convert to leader
server 1 term 35 send appendEntries
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 223
current commitIndex 223 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 0 to 223
append command 3293577793649100389
len(log) = 224
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 223
current commitIndex 223 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 223 to 224
getEntryTerm
leader server 1 commit index 224 command 3293577793649100389
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 224
getEntryTerm
current commitIndex 223 lastIncludedIndex 219 snapshot exists ? true
follower server 0 commit index 224 command 3293577793649100389 
update server 0 's matchIndex from 224 to 224
append command 6893755483837843507
len(log) = 225
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 224
current commitIndex 224 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 224 to 225
getEntryTerm
leader server 1 commit index 225 command 6893755483837843507
server 0 term 35 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 225
getEntryTerm
current commitIndex 224 lastIncludedIndex 219 snapshot exists ? true
follower server 0 commit index 225 command 6893755483837843507 
update server 0 's matchIndex from 225 to 225
server 2 read form stored snapshot
server 2 recover from snopshot
server 2 finishes recovery
append command 1585383101772734245
len(log) = 226
server 2 term 34 state 0(leader false)(heartFlag false)
server 2 term 34 doesn't hear any heartbeat
server 2 convert to candidate
getEntryTerm
getEntryTerm
getEntryTerm
server 1 already has a voteFor 1 but not candidate 2
server 1 grant false for candidate 2's requestVote
getEntryTerm
server 0 already has a voteFor 1 but not candidate 2
server 0 grant false for candidate 2's requestVote
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 225
current commitIndex 225 lastIncludedIndex 219 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 223
server 2 convert to follower
getEntryTerm
current commitIndex 219 lastIncludedIndex 219 snapshot exists ? true
follower server 2 commit index 220 command 3274374118620585764 
follower server 2 commit index 221 command 4009907225095445008 
update server 0 's matchIndex from 225 to 226
follower server 2 commit index 222 command 1391353434886927821 
follower server 2 commit index 223 command 1391353434886927821 
follower server 2 commit index 224 command 3293577793649100389 
follower server 2 commit index 225 command 6893755483837843507 
update server 2 's matchIndex from 0 to 226
getEntryTerm
leader server 1 commit index 226 command 1585383101772734245
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 226
getEntryTerm
current commitIndex 225 lastIncludedIndex 219 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 226
getEntryTerm
follower server 0 commit index 226 command 1585383101772734245 
update server 0 's matchIndex from 226 to 226
current commitIndex 225 lastIncludedIndex 219 snapshot exists ? true
follower server 2 commit index 226 command 1585383101772734245 
update server 2 's matchIndex from 226 to 226
server 0 term 35 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 226
current commitIndex 226 lastIncludedIndex 219 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 226
current commitIndex 226 lastIncludedIndex 219 snapshot exists ? true
update server 2 's matchIndex from 226 to 226
update server 0 's matchIndex from 226 to 226
server 1 term 35 state 2(leader true)(heartFlag false)
nextIndex
227 || 227 || 227 || 
matchIndex
226 || 226 || 226 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 226
current commitIndex 226 lastIncludedIndex 219 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 226
current commitIndex 226 lastIncludedIndex 219 snapshot exists ? true
update server 2 's matchIndex from 226 to 226
update server 0 's matchIndex from 226 to 226
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 226
current commitIndex 226 lastIncludedIndex 219 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 226
current commitIndex 226 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 226 to 226
update server 2 's matchIndex from 226 to 226
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 226
current commitIndex 226 lastIncludedIndex 219 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 226
current commitIndex 226 lastIncludedIndex 219 snapshot exists ? true
update server 2 's matchIndex from 226 to 226
update server 0 's matchIndex from 226 to 226
server 2 term 35 state 0(leader false)(heartFlag true)
server 0 term 35 state 0(leader false)(heartFlag true)
append command 2203437503162090530
len(log) = 227
server 1 term 35 state 2(leader true)(heartFlag false)
nextIndex
227 || 228 || 227 || 
matchIndex
226 || 227 || 226 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 226
current commitIndex 226 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 226 to 227
getEntryTerm
leader server 1 commit index 227 command 2203437503162090530
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 227
getEntryTerm
current commitIndex 226 lastIncludedIndex 219 snapshot exists ? true
follower server 0 commit index 227 command 2203437503162090530 
update server 0 's matchIndex from 227 to 227
append command 8966949064483544989
len(log) = 228
append command 4522885788835227415
len(log) = 229
append command 7641722140769553872
len(log) = 230
append command 8457555178205512617
len(log) = 231
append command 3456540423278585154
len(log) = 232
append command 3140786415283801092
len(log) = 233
append command 1448678343828508719
len(log) = 234
append command 5148427634456308194
len(log) = 235
append command 3570445662556642022
len(log) = 236
append command 2008682571267015140
len(log) = 237
append command 1428840812137614029
len(log) = 238
append command 8614879410953562318
len(log) = 239
append command 259668700248038331
len(log) = 240
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 227
current commitIndex 227 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 227 to 240
getEntryTerm
leader server 1 commit index 228 command 8966949064483544989
leader server 1 commit index 229 command 4522885788835227415
leader server 1 commit index 230 command 7641722140769553872
server 1 takes snopshot and discards logs before index 229
getEntryTerm
discard index before 229(included)
server 1 finished snopshot
leader server 1 commit index 231 command 8457555178205512617
leader server 1 commit index 232 command 3456540423278585154
leader server 1 commit index 233 command 3140786415283801092
leader server 1 commit index 234 command 1448678343828508719
leader server 1 commit index 235 command 5148427634456308194
leader server 1 commit index 236 command 3570445662556642022
leader server 1 commit index 237 command 2008682571267015140
leader server 1 commit index 238 command 1428840812137614029
leader server 1 commit index 239 command 8614879410953562318
leader server 1 commit index 240 command 259668700248038331
server 1 takes snopshot and discards logs before index 239
getEntryTerm
discard index before 239(included)
server 1 finished snopshot
server 1 term 35 state 2(leader true)(heartFlag false)
nextIndex
241 || 241 || 227 || 
matchIndex
240 || 240 || 226 || 
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 240
getEntryTerm
current commitIndex 227 lastIncludedIndex 219 snapshot exists ? true
follower server 0 commit index 228 command 8966949064483544989 
follower server 0 commit index 229 command 4522885788835227415 
server 0 takes snopshot and discards logs before index 229
getEntryTerm
discard index before 229(included)
server 0 finished snopshot
follower server 0 commit index 230 command 7641722140769553872 
follower server 0 commit index 231 command 8457555178205512617 
follower server 0 commit index 232 command 3456540423278585154 
follower server 0 commit index 233 command 3140786415283801092 
follower server 0 commit index 234 command 1448678343828508719 
follower server 0 commit index 235 command 5148427634456308194 
follower server 0 commit index 236 command 3570445662556642022 
follower server 0 commit index 237 command 2008682571267015140 
follower server 0 commit index 238 command 1428840812137614029 
follower server 0 commit index 239 command 8614879410953562318 
server 0 takes snopshot and discards logs before index 239
getEntryTerm
discard index before 239(included)
server 0 finished snopshot
follower server 0 commit index 240 command 259668700248038331 
update server 0 's matchIndex from 240 to 240
server 2 read form stored snapshot
server 2 recover from snopshot
server 2 finishes recovery
append command 1715721828102688706
len(log) = 241
server 2 term 35 state 0(leader false)(heartFlag false)
server 2 term 35 doesn't hear any heartbeat
server 2 convert to candidate
getEntryTerm
getEntryTerm
server 1 convert to follower
getEntryTerm
server 1 thinks candidate 2 is not up-to-date
server 1 grant false for candidate 2's requestVote
server 0 convert to follower
getEntryTerm
server 0 thinks candidate 2 is not up-to-date
server 0 grant false for candidate 2's requestVote
server 0 term 36 state 0(leader false)(heartFlag true)
server 2 term 36 ElectionTimeOut
server 2 convert to candidate
getEntryTerm
getEntryTerm
server 1 convert to follower
server 0 convert to follower
getEntryTerm
server 1 thinks candidate 2 is not up-to-date
server 1 grant false for candidate 2's requestVote
getEntryTerm
server 0 thinks candidate 2 is not up-to-date
server 0 grant false for candidate 2's requestVote
server 1 term 37 state 0(leader false)(heartFlag false)
server 1 term 37 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
server 0 convert to follower
getEntryTerm
getEntryTerm
server 2 grant true for candidate 1's requestVote
server 0 grant true for candidate 1's requestVote
server 1 convert to leader
server 1 term 38 send appendEntries
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 241
lastLogIndex 226, args.PrevLogIndex 241
server 0 receives appendEntry from leader 1 prevLogIndex 241
lastLogIndex 240, args.PrevLogIndex 241
server 0 term 38 state 0(leader false)(heartFlag true)
getEntryTerm
server 2 receives snopshot from leader 1
server 2 commit snopshot to lastIncludedIndex 239
server 0 receives appendEntry from leader 1 prevLogIndex 240
current commitIndex 240 lastIncludedIndex 239 snapshot exists ? true
update server 0 's matchIndex from 0 to 241
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 239
current commitIndex 239 lastIncludedIndex 239 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 241
getEntryTerm
current commitIndex 240 lastIncludedIndex 239 snapshot exists ? true
follower server 2 commit index 240 command 259668700248038331 
update server 2 's matchIndex from 239 to 241
update server 0 's matchIndex from 241 to 241
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 241
getEntryTerm
current commitIndex 240 lastIncludedIndex 239 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 241
getEntryTerm
current commitIndex 240 lastIncludedIndex 239 snapshot exists ? true
getEntryTerm
update server 2 's matchIndex from 241 to 241
update server 0 's matchIndex from 241 to 241
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 241
getEntryTerm
current commitIndex 240 lastIncludedIndex 239 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 241
getEntryTerm
current commitIndex 240 lastIncludedIndex 239 snapshot exists ? true
update server 0 's matchIndex from 241 to 241
update server 2 's matchIndex from 241 to 241
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 38 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 38 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 241
getEntryTerm
current commitIndex 240 lastIncludedIndex 239 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 241
getEntryTerm
current commitIndex 240 lastIncludedIndex 239 snapshot exists ? true
update server 0 's matchIndex from 241 to 241
update server 2 's matchIndex from 241 to 241
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 241
getEntryTerm
current commitIndex 240 lastIncludedIndex 239 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 241
getEntryTerm
current commitIndex 240 lastIncludedIndex 239 snapshot exists ? true
update server 0 's matchIndex from 241 to 241
update server 2 's matchIndex from 241 to 241
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 241
getEntryTerm
current commitIndex 240 lastIncludedIndex 239 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 241
getEntryTerm
current commitIndex 240 lastIncludedIndex 239 snapshot exists ? true
update server 2 's matchIndex from 241 to 241
update server 0 's matchIndex from 241 to 241
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 38 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 38 state 0(leader false)(heartFlag true)
getEntryTerm
server 1 term 38 state 2(leader true)(heartFlag false)
nextIndex
242 || 242 || 242 || 
matchIndex
241 || 241 || 241 || 
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 241
getEntryTerm
current commitIndex 240 lastIncludedIndex 239 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 241
getEntryTerm
current commitIndex 240 lastIncludedIndex 239 snapshot exists ? true
update server 2 's matchIndex from 241 to 241
update server 0 's matchIndex from 241 to 241
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 241
getEntryTerm
current commitIndex 240 lastIncludedIndex 239 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 241
getEntryTerm
current commitIndex 240 lastIncludedIndex 239 snapshot exists ? true
update server 2 's matchIndex from 241 to 241
update server 0 's matchIndex from 241 to 241
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 241
getEntryTerm
current commitIndex 240 lastIncludedIndex 239 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 241
getEntryTerm
current commitIndex 240 lastIncludedIndex 239 snapshot exists ? true
update server 0 's matchIndex from 241 to 241
update server 2 's matchIndex from 241 to 241
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 38 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 38 state 2(leader true)(heartFlag false)
nextIndex
242 || 242 || 242 || 
matchIndex
241 || 241 || 241 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 241
getEntryTerm
current commitIndex 240 lastIncludedIndex 239 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 241
getEntryTerm
current commitIndex 240 lastIncludedIndex 239 snapshot exists ? true
update server 2 's matchIndex from 241 to 241
update server 0 's matchIndex from 241 to 241
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 38 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 241
getEntryTerm
current commitIndex 240 lastIncludedIndex 239 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 241
getEntryTerm
current commitIndex 240 lastIncludedIndex 239 snapshot exists ? true
update server 0 's matchIndex from 241 to 241
update server 2 's matchIndex from 241 to 241
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 241
getEntryTerm
current commitIndex 240 lastIncludedIndex 239 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 241
getEntryTerm
current commitIndex 240 lastIncludedIndex 239 snapshot exists ? true
update server 0 's matchIndex from 241 to 241
update server 2 's matchIndex from 241 to 241
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 241
getEntryTerm
current commitIndex 240 lastIncludedIndex 239 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 241
getEntryTerm
current commitIndex 240 lastIncludedIndex 239 snapshot exists ? true
update server 2 's matchIndex from 241 to 241
update server 0 's matchIndex from 241 to 241
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 38 state 2(leader true)(heartFlag false)
nextIndex
242 || 242 || 242 || 
matchIndex
241 || 241 || 241 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 38 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 241
getEntryTerm
current commitIndex 240 lastIncludedIndex 239 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 241
getEntryTerm
current commitIndex 240 lastIncludedIndex 239 snapshot exists ? true
update server 2 's matchIndex from 241 to 241
update server 0 's matchIndex from 241 to 241
getEntryTerm
server 2 term 38 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 241
getEntryTerm
current commitIndex 240 lastIncludedIndex 239 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 241
getEntryTerm
current commitIndex 240 lastIncludedIndex 239 snapshot exists ? true
update server 2 's matchIndex from 241 to 241
update server 0 's matchIndex from 241 to 241
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
append command 1715721828102688706
len(log) = 242
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 241
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 241
getEntryTerm
current commitIndex 240 lastIncludedIndex 239 snapshot exists ? true
current commitIndex 240 lastIncludedIndex 239 snapshot exists ? true
update server 2 's matchIndex from 241 to 242
update server 0 's matchIndex from 241 to 242
getEntryTerm
leader server 1 commit index 241 command 1715721828102688706
leader server 1 commit index 242 command 1715721828102688706
server 0 term 38 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 242
getEntryTerm
current commitIndex 240 lastIncludedIndex 239 snapshot exists ? true
follower server 0 commit index 241 command 1715721828102688706 
follower server 0 commit index 242 command 1715721828102688706 
server 2 receives appendEntry from leader 1 prevLogIndex 242
getEntryTerm
current commitIndex 240 lastIncludedIndex 239 snapshot exists ? true
follower server 2 commit index 241 command 1715721828102688706 
follower server 2 commit index 242 command 1715721828102688706 
update server 0 's matchIndex from 242 to 242
update server 2 's matchIndex from 242 to 242
server 1 term 38 state 2(leader true)(heartFlag false)
nextIndex
243 || 243 || 243 || 
matchIndex
242 || 242 || 242 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 242
current commitIndex 242 lastIncludedIndex 239 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 242
current commitIndex 242 lastIncludedIndex 239 snapshot exists ? true
update server 0 's matchIndex from 242 to 242
update server 2 's matchIndex from 242 to 242
server 2 term 38 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 242
current commitIndex 242 lastIncludedIndex 239 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 242
current commitIndex 242 lastIncludedIndex 239 snapshot exists ? true
update server 2 's matchIndex from 242 to 242
update server 0 's matchIndex from 242 to 242
server 0 term 38 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 242
current commitIndex 242 lastIncludedIndex 239 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 242
current commitIndex 242 lastIncludedIndex 239 snapshot exists ? true
update server 2 's matchIndex from 242 to 242
update server 0 's matchIndex from 242 to 242
server 2 term 38 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 242
current commitIndex 242 lastIncludedIndex 239 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 242
current commitIndex 242 lastIncludedIndex 239 snapshot exists ? true
update server 2 's matchIndex from 242 to 242
update server 0 's matchIndex from 242 to 242
server 1 term 38 state 2(leader true)(heartFlag false)
nextIndex
243 || 243 || 243 || 
matchIndex
242 || 242 || 242 || 
append command 863987141131892962
len(log) = 243
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 242
current commitIndex 242 lastIncludedIndex 239 snapshot exists ? true
update server 0 's matchIndex from 242 to 243
getEntryTerm
leader server 1 commit index 243 command 863987141131892962
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 243
getEntryTerm
current commitIndex 242 lastIncludedIndex 239 snapshot exists ? true
follower server 0 commit index 243 command 863987141131892962 
update server 0 's matchIndex from 243 to 243
append command 8455923594831382421
len(log) = 244
append command 5998793623627171322
len(log) = 245
append command 5760061570104128192
len(log) = 246
append command 776515002317542024
len(log) = 247
append command 1329225498986783304
len(log) = 248
append command 1729671262398100817
len(log) = 249
append command 9132987522391990905
len(log) = 250
server 0 term 38 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 243
current commitIndex 243 lastIncludedIndex 239 snapshot exists ? true
update server 0 's matchIndex from 243 to 250
getEntryTerm
leader server 1 commit index 244 command 8455923594831382421
leader server 1 commit index 245 command 5998793623627171322
leader server 1 commit index 246 command 5760061570104128192
leader server 1 commit index 247 command 776515002317542024
leader server 1 commit index 248 command 1329225498986783304
leader server 1 commit index 249 command 1729671262398100817
leader server 1 commit index 250 command 9132987522391990905
server 1 takes snopshot and discards logs before index 249
getEntryTerm
discard index before 249(included)
server 1 finished snopshot
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 250
getEntryTerm
current commitIndex 243 lastIncludedIndex 239 snapshot exists ? true
follower server 0 commit index 244 command 8455923594831382421 
follower server 0 commit index 245 command 5998793623627171322 
follower server 0 commit index 246 command 5760061570104128192 
follower server 0 commit index 247 command 776515002317542024 
follower server 0 commit index 248 command 1329225498986783304 
follower server 0 commit index 249 command 1729671262398100817 
follower server 0 commit index 250 command 9132987522391990905 
server 0 takes snopshot and discards logs before index 249
getEntryTerm
discard index before 249(included)
server 0 finished snopshot
update server 0 's matchIndex from 250 to 250
server 2 read form stored snapshot
server 2 recover from snopshot
server 2 finishes recovery
append command 3120836534418140471
server 2 term 38 state 0(leader false)(heartFlag false)
server 2 term 38 doesn't hear any heartbeat
len(log) = 251
server 2 convert to candidate
getEntryTerm
getEntryTerm
server 0 convert to follower
server 1 convert to follower
getEntryTerm
server 0 thinks candidate 2 is not up-to-date
server 0 grant false for candidate 2's requestVote
getEntryTerm
server 1 thinks candidate 2 is not up-to-date
server 1 grant false for candidate 2's requestVote
server 1 term 39 state 0(leader false)(heartFlag false)
server 1 term 39 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
server 0 convert to follower
getEntryTerm
getEntryTerm
server 2 grant true for candidate 1's requestVote
server 0 grant true for candidate 1's requestVote
server 1 convert to leader
server 1 term 40 send appendEntries
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 251
lastLogIndex 242, args.PrevLogIndex 251
server 0 receives appendEntry from leader 1 prevLogIndex 251
lastLogIndex 250, args.PrevLogIndex 251
getEntryTerm
server 2 receives snopshot from leader 1
server 2 commit snopshot to lastIncludedIndex 249
server 0 receives appendEntry from leader 1 prevLogIndex 250
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
update server 0 's matchIndex from 0 to 251
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 249
current commitIndex 249 lastIncludedIndex 249 snapshot exists ? true
follower server 2 commit index 250 command 9132987522391990905 
update server 0 's matchIndex from 251 to 251
update server 2 's matchIndex from 249 to 251
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
update server 2 's matchIndex from 251 to 251
update server 0 's matchIndex from 251 to 251
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
update server 2 's matchIndex from 251 to 251
update server 0 's matchIndex from 251 to 251
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 40 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
update server 2 's matchIndex from 251 to 251
update server 0 's matchIndex from 251 to 251
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
update server 0 's matchIndex from 251 to 251
update server 2 's matchIndex from 251 to 251
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
update server 0 's matchIndex from 251 to 251
update server 2 's matchIndex from 251 to 251
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
update server 0 's matchIndex from 251 to 251
update server 2 's matchIndex from 251 to 251
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
update server 2 's matchIndex from 251 to 251
update server 0 's matchIndex from 251 to 251
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
update server 2 's matchIndex from 251 to 251
update server 0 's matchIndex from 251 to 251
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 40 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
update server 0 's matchIndex from 251 to 251
update server 2 's matchIndex from 251 to 251
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
update server 2 's matchIndex from 251 to 251
update server 0 's matchIndex from 251 to 251
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 40 state 2(leader true)(heartFlag false)
nextIndex
252 || 252 || 252 || 
matchIndex
251 || 251 || 251 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
getEntryTerm
getEntryTerm
update server 0 's matchIndex from 251 to 251
update server 2 's matchIndex from 251 to 251
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
update server 2 's matchIndex from 251 to 251
update server 0 's matchIndex from 251 to 251
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 40 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
update server 2 's matchIndex from 251 to 251
update server 0 's matchIndex from 251 to 251
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
update server 0 's matchIndex from 251 to 251
update server 2 's matchIndex from 251 to 251
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 40 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
update server 2 's matchIndex from 251 to 251
update server 0 's matchIndex from 251 to 251
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
update server 2 's matchIndex from 251 to 251
update server 0 's matchIndex from 251 to 251
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
update server 2 's matchIndex from 251 to 251
update server 0 's matchIndex from 251 to 251
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
update server 0 's matchIndex from 251 to 251
update server 2 's matchIndex from 251 to 251
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 40 state 2(leader true)(heartFlag false)
nextIndex
252 || getEntryTerm
252 || 252 || 
matchIndex
251 || 251 || 251 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
update server 0 's matchIndex from 251 to 251
update server 2 's matchIndex from 251 to 251
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
update server 0 's matchIndex from 251 to 251
update server 2 's matchIndex from 251 to 251
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 40 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 term 40 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
update server 0 's matchIndex from 251 to 251
update server 2 's matchIndex from 251 to 251
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
update server 2 's matchIndex from 251 to 251
update server 0 's matchIndex from 251 to 251
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
update server 2 's matchIndex from 251 to 251
update server 0 's matchIndex from 251 to 251
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
update server 2 's matchIndex from 251 to 251
update server 0 's matchIndex from 251 to 251
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
update server 0 's matchIndex from 251 to 251
update server 2 's matchIndex from 251 to 251
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
update server 2 's matchIndex from 251 to 251
update server 0 's matchIndex from 251 to 251
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 40 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 40 state 2(leader true)(heartFlag false)
nextIndex
252 || 252 || 252 || 
matchIndex
251 || 251 || 251 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
update server 2 's matchIndex from 251 to 251
server 0 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
update server 0 's matchIndex from 251 to 251
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
update server 0 's matchIndex from 251 to 251
update server 2 's matchIndex from 251 to 251
server 0 term 40 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
update server 2 's matchIndex from 251 to 251
update server 0 's matchIndex from 251 to 251
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
update server 2 's matchIndex from 251 to 251
update server 0 's matchIndex from 251 to 251
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
update server 0 's matchIndex from 251 to 251
update server 2 's matchIndex from 251 to 251
getEntryTerm
getEntryTerm
server 2 term 40 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
update server 2 's matchIndex from 251 to 251
update server 0 's matchIndex from 251 to 251
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 40 state 2(leader true)(heartFlag false)
nextIndex
252 || 252 || 252 || 
matchIndex
251 || 251 || 251 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
update server 2 's matchIndex from 251 to 251
update server 0 's matchIndex from 251 to 251
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
update server 2 's matchIndex from 251 to 251
update server 0 's matchIndex from 251 to 251
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 40 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
update server 0 's matchIndex from 251 to 251
update server 2 's matchIndex from 251 to 251
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
update server 0 's matchIndex from 251 to 251
update server 2 's matchIndex from 251 to 251
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
append command 3120836534418140471
len(log) = 252
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
update server 0 's matchIndex from 251 to 252
update server 2 's matchIndex from 251 to 252
server 2 term 40 state 0(leader false)(heartFlag true)
getEntryTerm
leader server 1 commit index 251 command 3120836534418140471
leader server 1 commit index 252 command 3120836534418140471
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 252
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
follower server 2 commit index 251 command 3120836534418140471 
follower server 2 commit index 252 command 3120836534418140471 
server 0 receives appendEntry from leader 1 prevLogIndex 252
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
follower server 0 commit index 251 command 3120836534418140471 
follower server 0 commit index 252 command 3120836534418140471 
update server 2 's matchIndex from 252 to 252
update server 0 's matchIndex from 252 to 252
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 252
current commitIndex 252 lastIncludedIndex 249 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 252
current commitIndex 252 lastIncludedIndex 249 snapshot exists ? true
update server 0 's matchIndex from 252 to 252
update server 2 's matchIndex from 252 to 252
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 252
current commitIndex 252 lastIncludedIndex 249 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 252
current commitIndex 252 lastIncludedIndex 249 snapshot exists ? true
update server 0 's matchIndex from 252 to 252
update server 2 's matchIndex from 252 to 252
server 1 term 40 state 2(leader true)(heartFlag false)
nextIndex
253 || 253 || 253 || 
matchIndex
252 || 252 || 252 || 
server 0 term 40 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 252
current commitIndex 252 lastIncludedIndex 249 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 252
current commitIndex 252 lastIncludedIndex 249 snapshot exists ? true
update server 2 's matchIndex from 252 to 252
update server 0 's matchIndex from 252 to 252
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 252
current commitIndex 252 lastIncludedIndex 249 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 252
current commitIndex 252 lastIncludedIndex 249 snapshot exists ? true
update server 0 's matchIndex from 252 to 252
update server 2 's matchIndex from 252 to 252
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 252
current commitIndex 252 lastIncludedIndex 249 snapshot exists ? true
update server 0 's matchIndex from 252 to 252
server 2 receives appendEntry from leader 1 prevLogIndex 252
current commitIndex 252 lastIncludedIndex 249 snapshot exists ? true
update server 2 's matchIndex from 252 to 252
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 252
current commitIndex 252 lastIncludedIndex 249 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 252
current commitIndex 252 lastIncludedIndex 249 snapshot exists ? true
update server 0 's matchIndex from 252 to 252
update server 2 's matchIndex from 252 to 252
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 252
current commitIndex 252 lastIncludedIndex 249 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 252
current commitIndex 252 lastIncludedIndex 249 snapshot exists ? true
update server 2 's matchIndex from 252 to 252
update server 0 's matchIndex from 252 to 252
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 252
current commitIndex 252 lastIncludedIndex 249 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 252
current commitIndex 252 lastIncludedIndex 249 snapshot exists ? true
update server 2 's matchIndex from 252 to 252
update server 0 's matchIndex from 252 to 252
server 1 term 40 state 2(leader true)(heartFlag false)
nextIndex
253 || 253 || 253 || 
matchIndex
252 || 252 || 252 || 
server 2 term 40 state 0(leader false)(heartFlag true)
server 0 term 40 state 0(leader false)(heartFlag true)
server 2 term 40 state 0(leader false)(heartFlag false)
server 2 term 40 doesn't hear any heartbeat
server 2 convert to candidate
getEntryTerm
getEntryTerm
server 0 convert to follower
getEntryTerm
server 0 grant true for candidate 2's requestVote
server 2 convert to leader
server 2 term 41 send appendEntries
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 252
current commitIndex 252 lastIncludedIndex 249 snapshot exists ? true
update server 0 's matchIndex from 0 to 252
append command 7059211537144095761
len(log) = 253
server 0 term 41 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 252
current commitIndex 252 lastIncludedIndex 249 snapshot exists ? true
update server 0 's matchIndex from 252 to 253
getEntryTerm
leader server 2 commit index 253 command 7059211537144095761
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 253
getEntryTerm
current commitIndex 252 lastIncludedIndex 249 snapshot exists ? true
follower server 0 commit index 253 command 7059211537144095761 
update server 0 's matchIndex from 253 to 253
append command 7271238818473215519
len(log) = 254
append command 5168441871046217064
len(log) = 255
append command 8007695430124364644
len(log) = 256
append command 6280897890323520812
len(log) = 257
append command 6458199796374665476
len(log) = 258
append command 6467361699184136030
len(log) = 259
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 253
current commitIndex 253 lastIncludedIndex 249 snapshot exists ? true
update server 0 's matchIndex from 253 to 259
getEntryTerm
leader server 2 commit index 254 command 7271238818473215519
leader server 2 commit index 255 command 5168441871046217064
leader server 2 commit index 256 command 8007695430124364644
leader server 2 commit index 257 command 6280897890323520812
leader server 2 commit index 258 command 6458199796374665476
leader server 2 commit index 259 command 6467361699184136030
server 2 takes snopshot and discards logs before index 259
getEntryTerm
discard index before 259(included)
server 2 finished snopshot
server 0 receives appendEntry from leader 2 prevLogIndex 259
getEntryTerm
current commitIndex 253 lastIncludedIndex 249 snapshot exists ? true
follower server 0 commit index 254 command 7271238818473215519 
follower server 0 commit index 255 command 5168441871046217064 
follower server 0 commit index 256 command 8007695430124364644 
follower server 0 commit index 257 command 6280897890323520812 
follower server 0 commit index 258 command 6458199796374665476 
follower server 0 commit index 259 command 6467361699184136030 
update server 0 's matchIndex from 259 to 259
server 0 takes snopshot and discards logs before index 259
getEntryTerm
discard index before 259(included)
server 0 finished snopshot
server 1 read form stored snapshot
server 1 recover from snopshot
server 1 finishes recovery
append command 7804132176381039178
server 1 term 40 state 0(leader false)(heartFlag false)
server 1 term 40 doesn't hear any heartbeat
server 1 convert to candidate
len(log) = 260
getEntryTerm
getEntryTerm
getEntryTerm
server 2 already has a voteFor 2 but not candidate 1
server 2 grant false for candidate 1's requestVote
server 0 already has a voteFor 2 but not candidate 1
server 0 grant false for candidate 1's requestVote
server 0 term 41 state 0(leader false)(heartFlag true)
server 1 receives snopshot from leader 2
server 1 commit snopshot to lastIncludedIndex 259
server 0 receives appendEntry from leader 2 prevLogIndex 259
current commitIndex 259 lastIncludedIndex 259 snapshot exists ? true
update server 0 's matchIndex from 259 to 260
getEntryTerm
leader server 2 commit index 260 command 7804132176381039178
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 260
getEntryTerm
current commitIndex 259 lastIncludedIndex 259 snapshot exists ? true
follower server 0 commit index 260 command 7804132176381039178 
server 1 receives appendEntry from leader 2 prevLogIndex 259
server 1 convert to follower
current commitIndex 259 lastIncludedIndex 259 snapshot exists ? true
update server 0 's matchIndex from 260 to 260
follower server 1 commit index 260 command 7804132176381039178 
update server 1 's matchIndex from 259 to 260
server 2 term 41 state 2(leader true)(heartFlag false)
nextIndex
261 || 261 || 261 || 
matchIndex
260 || 260 || 260 || 
server 0 term 41 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 260
current commitIndex 260 lastIncludedIndex 259 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 260
current commitIndex 260 lastIncludedIndex 259 snapshot exists ? true
update server 1 's matchIndex from 260 to 260
update server 0 's matchIndex from 260 to 260
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 260
current commitIndex 260 lastIncludedIndex 259 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 260
current commitIndex 260 lastIncludedIndex 259 snapshot exists ? true
update server 1 's matchIndex from 260 to 260
update server 0 's matchIndex from 260 to 260
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 260
current commitIndex 260 lastIncludedIndex 259 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 260
current commitIndex 260 lastIncludedIndex 259 snapshot exists ? true
update server 0 's matchIndex from 260 to 260
update server 1 's matchIndex from 260 to 260
server 0 term 41 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 260
current commitIndex 260 lastIncludedIndex 259 snapshot exists ? true
update server 0 's matchIndex from 260 to 260
server 1 receives appendEntry from leader 2 prevLogIndex 260
current commitIndex 260 lastIncludedIndex 259 snapshot exists ? true
update server 1 's matchIndex from 260 to 260
append command 5793416502850989146
len(log) = 261
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 260
current commitIndex 260 lastIncludedIndex 259 snapshot exists ? true
update server 1 's matchIndex from 260 to 261
server 2 term 41 state 2(leader true)(heartFlag false)
nextIndex
261 || 262 || 261 || 
matchIndex
260 || 261 || 260 || 
getEntryTerm
leader server 2 commit index 261 command 5793416502850989146
server 1 term 41 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 261
getEntryTerm
current commitIndex 260 lastIncludedIndex 259 snapshot exists ? true
follower server 1 commit index 261 command 5793416502850989146 
update server 1 's matchIndex from 261 to 261
append command 3801263950582535841
len(log) = 262
append command 3478356578664149958
len(log) = 263
append command 5781784472106721109
len(log) = 264
append command 1464613357293567686
len(log) = 265
append command 733977072839859908
len(log) = 266
append command 6104587894939138575
len(log) = 267
append command 9085822266278103977
len(log) = 268
append command 3256518129162711664
len(log) = 269
append command 8144645370657857619
len(log) = 270
append command 2699680991340138518
len(log) = 271
append command 4648433819276758960
len(log) = 272
append command 520122080752131248
len(log) = 273
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 261
current commitIndex 261 lastIncludedIndex 259 snapshot exists ? true
update server 1 's matchIndex from 261 to 273
getEntryTerm
leader server 2 commit index 262 command 3801263950582535841
leader server 2 commit index 263 command 3478356578664149958
leader server 2 commit index 264 command 5781784472106721109
leader server 2 commit index 265 command 1464613357293567686
leader server 2 commit index 266 command 733977072839859908
leader server 2 commit index 267 command 6104587894939138575
leader server 2 commit index 268 command 9085822266278103977
leader server 2 commit index 269 command 3256518129162711664
leader server 2 commit index 270 command 8144645370657857619
server 2 takes snopshot and discards logs before index 269
getEntryTerm
discard index before 269(included)
server 2 finished snopshot
leader server 2 commit index 271 command 2699680991340138518
leader server 2 commit index 272 command 4648433819276758960
leader server 2 commit index 273 command 520122080752131248
server 2 term 41 state 2(leader true)(heartFlag false)
nextIndex
261 || 274 || 274 || 
matchIndex
260 || 273 || 273 || 
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 273
getEntryTerm
current commitIndex 261 lastIncludedIndex 259 snapshot exists ? true
follower server 1 commit index 262 command 3801263950582535841 
follower server 1 commit index 263 command 3478356578664149958 
follower server 1 commit index 264 command 5781784472106721109 
follower server 1 commit index 265 command 1464613357293567686 
follower server 1 commit index 266 command 733977072839859908 
follower server 1 commit index 267 command 6104587894939138575 
follower server 1 commit index 268 command 9085822266278103977 
follower server 1 commit index 269 command 3256518129162711664 
follower server 1 commit index 270 command 8144645370657857619 
server 1 takes snopshot and discards logs before index 269
getEntryTerm
discard index before 269(included)
server 1 finished snopshot
follower server 1 commit index 271 command 2699680991340138518 
follower server 1 commit index 272 command 4648433819276758960 
follower server 1 commit index 273 command 520122080752131248 
update server 1 's matchIndex from 273 to 273
server 0 read form stored snapshot
server 0 recover from snopshot
server 0 finishes recovery
append command 6195112260025999301
len(log) = 274
server 0 term 41 state 0(leader false)(heartFlag false)
server 0 term 41 doesn't hear any heartbeat
server 0 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
getEntryTerm
server 2 thinks candidate 0 is not up-to-date
server 2 grant false for candidate 0's requestVote
server 1 convert to follower
getEntryTerm
server 1 thinks candidate 0 is not up-to-date
server 1 grant false for candidate 0's requestVote
server 1 term 42 state 0(leader false)(heartFlag true)
server 2 term 42 state 0(leader false)(heartFlag false)
server 2 term 42 doesn't hear any heartbeat
server 2 convert to candidate
getEntryTerm
getEntryTerm
server 1 convert to follower
server 0 convert to follower
getEntryTerm
getEntryTerm
server 1 grant true for candidate 2's requestVote
server 0 grant true for candidate 2's requestVote
server 2 convert to leader
server 2 term 43 send appendEntries
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 274
lastLogIndex 273, args.PrevLogIndex 274
server 0 receives appendEntry from leader 2 prevLogIndex 274
lastLogIndex 260, args.PrevLogIndex 274
getEntryTerm
server 0 receives snopshot from leader 2
server 0 commit snopshot to lastIncludedIndex 269
server 1 receives appendEntry from leader 2 prevLogIndex 273
current commitIndex 273 lastIncludedIndex 269 snapshot exists ? true
update server 1 's matchIndex from 0 to 274
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 43 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 274
getEntryTerm
current commitIndex 273 lastIncludedIndex 269 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 269
current commitIndex 269 lastIncludedIndex 269 snapshot exists ? true
follower server 0 commit index 270 command 8144645370657857619 
update server 1 's matchIndex from 274 to 274
follower server 0 commit index 271 command 2699680991340138518 
follower server 0 commit index 272 command 4648433819276758960 
follower server 0 commit index 273 command 520122080752131248 
update server 0 's matchIndex from 269 to 274
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 274
getEntryTerm
current commitIndex 273 lastIncludedIndex 269 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 274
getEntryTerm
current commitIndex 273 lastIncludedIndex 269 snapshot exists ? true
update server 0 's matchIndex from 274 to 274
update server 1 's matchIndex from 274 to 274
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 274
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 274
getEntryTerm
current commitIndex 273 lastIncludedIndex 269 snapshot exists ? true
current commitIndex 273 lastIncludedIndex 269 snapshot exists ? true
update server 0 's matchIndex from 274 to 274
update server 1 's matchIndex from 274 to 274
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 43 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 term 43 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 274
getEntryTerm
current commitIndex 273 lastIncludedIndex 269 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 274
getEntryTerm
current commitIndex 273 lastIncludedIndex 269 snapshot exists ? true
update server 1 's matchIndex from 274 to 274
update server 0 's matchIndex from 274 to 274
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 274
getEntryTerm
current commitIndex 273 lastIncludedIndex 269 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 274
getEntryTerm
current commitIndex 273 lastIncludedIndex 269 snapshot exists ? true
update server 1 's matchIndex from 274 to 274
update server 0 's matchIndex from 274 to 274
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 274
getEntryTerm
current commitIndex 273 lastIncludedIndex 269 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 274
getEntryTerm
current commitIndex 273 lastIncludedIndex 269 snapshot exists ? true
update server 0 's matchIndex from 274 to 274
update server 1 's matchIndex from 274 to 274
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 43 state 2(leader true)(heartFlag false)
nextIndex
275 || 275 || 275 || 
matchIndex
274 || 274 || 274 || 
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 43 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 274
getEntryTerm
current commitIndex 273 lastIncludedIndex 269 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 274
getEntryTerm
current commitIndex 273 lastIncludedIndex 269 snapshot exists ? true
update server 1 's matchIndex from 274 to 274
update server 0 's matchIndex from 274 to 274
server 1 term 43 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 274
getEntryTerm
current commitIndex 273 lastIncludedIndex 269 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 274
getEntryTerm
current commitIndex 273 lastIncludedIndex 269 snapshot exists ? true
update server 0 's matchIndex from 274 to 274
update server 1 's matchIndex from 274 to 274
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 274
getEntryTerm
current commitIndex 273 lastIncludedIndex 269 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 274
getEntryTerm
current commitIndex 273 lastIncludedIndex 269 snapshot exists ? true
update server 1 's matchIndex from 274 to 274
update server 0 's matchIndex from 274 to 274
getEntryTerm
server 0 term 43 state 0(leader false)(heartFlag true)
server 2 term 43 state 2(leader true)(heartFlag false)
nextIndex
275 || 275 || 275 || 
matchIndex
274 || 274 || 274 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 274
getEntryTerm
current commitIndex 273 lastIncludedIndex 269 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 274
getEntryTerm
current commitIndex 273 lastIncludedIndex 269 snapshot exists ? true
update server 1 's matchIndex from 274 to 274
update server 0 's matchIndex from 274 to 274
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 274
getEntryTerm
current commitIndex 273 lastIncludedIndex 269 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 274
getEntryTerm
current commitIndex 273 lastIncludedIndex 269 snapshot exists ? true
update server 1 's matchIndex from 274 to 274
update server 0 's matchIndex from 274 to 274
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 43 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 274
getEntryTerm
current commitIndex 273 lastIncludedIndex 269 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 274
getEntryTerm
update server 1 's matchIndex from 274 to 274
current commitIndex 273 lastIncludedIndex 269 snapshot exists ? true
update server 0 's matchIndex from 274 to 274
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 43 state 2(leader true)(heartFlag false)
nextIndex
275 || 275 || 275 || 
matchIndex
274 || 274 || 274 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 274
getEntryTerm
current commitIndex 273 lastIncludedIndex 269 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 274
getEntryTerm
current commitIndex 273 lastIncludedIndex 269 snapshot exists ? true
update server 1 's matchIndex from 274 to 274
update server 0 's matchIndex from 274 to 274
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 43 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 274
getEntryTerm
current commitIndex 273 lastIncludedIndex 269 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 274
getEntryTerm
current commitIndex 273 lastIncludedIndex 269 snapshot exists ? true
update server 1 's matchIndex from 274 to 274
update server 0 's matchIndex from 274 to 274
getEntryTerm
server 1 term 43 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 274
getEntryTerm
current commitIndex 273 lastIncludedIndex 269 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 274
getEntryTerm
current commitIndex 273 lastIncludedIndex 269 snapshot exists ? true
update server 1 's matchIndex from 274 to 274
update server 0 's matchIndex from 274 to 274
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 274
getEntryTerm
current commitIndex 273 lastIncludedIndex 269 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 274
getEntryTerm
current commitIndex 273 lastIncludedIndex 269 snapshot exists ? true
update server 1 's matchIndex from 274 to 274
update server 0 's matchIndex from 274 to 274
getEntryTerm
append command 6195112260025999301
len(log) = 275
getEntryTerm
server 0 term 43 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 term 43 state 2(leader true)(heartFlag false)
getEntryTerm
nextIndex
275 || 275 || 276 || 
matchIndex
274 || 274 || 275 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 274
getEntryTerm
current commitIndex 273 lastIncludedIndex 269 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 274
getEntryTerm
current commitIndex 273 lastIncludedIndex 269 snapshot exists ? true
update server 0 's matchIndex from 274 to 275
update server 1 's matchIndex from 274 to 275
getEntryTerm
leader server 2 commit index 274 command 6195112260025999301
leader server 2 commit index 275 command 6195112260025999301
server 1 term 43 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 275
getEntryTerm
current commitIndex 273 lastIncludedIndex 269 snapshot exists ? true
follower server 1 commit index 274 command 6195112260025999301 
follower server 1 commit index 275 command 6195112260025999301 
server 0 receives appendEntry from leader 2 prevLogIndex 275
getEntryTerm
current commitIndex 273 lastIncludedIndex 269 snapshot exists ? true
update server 1 's matchIndex from 275 to 275
follower server 0 commit index 274 command 6195112260025999301 
follower server 0 commit index 275 command 6195112260025999301 
update server 0 's matchIndex from 275 to 275
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 275
current commitIndex 275 lastIncludedIndex 269 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 275
current commitIndex 275 lastIncludedIndex 269 snapshot exists ? true
update server 1 's matchIndex from 275 to 275
update server 0 's matchIndex from 275 to 275
server 0 term 43 state 0(leader false)(heartFlag true)
server 2 term 43 state 2(leader true)(heartFlag false)
nextIndex
276 || 276 || 276 || 
matchIndex
275 || 275 || 275 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 275
current commitIndex 275 lastIncludedIndex 269 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 275
current commitIndex 275 lastIncludedIndex 269 snapshot exists ? true
update server 1 's matchIndex from 275 to 275
update server 0 's matchIndex from 275 to 275
server 1 term 43 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 275
current commitIndex 275 lastIncludedIndex 269 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 275
current commitIndex 275 lastIncludedIndex 269 snapshot exists ? true
update server 1 's matchIndex from 275 to 275
update server 0 's matchIndex from 275 to 275
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 275
current commitIndex 275 lastIncludedIndex 269 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 275
current commitIndex 275 lastIncludedIndex 269 snapshot exists ? true
update server 1 's matchIndex from 275 to 275
update server 0 's matchIndex from 275 to 275
append command 6575145151687920980
len(log) = 276
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 275
current commitIndex 275 lastIncludedIndex 269 snapshot exists ? true
update server 1 's matchIndex from 275 to 276
getEntryTerm
leader server 2 commit index 276 command 6575145151687920980
server 2 term 43 state 2(leader true)(heartFlag false)
nextIndex
276 || 277 || 277 || 
matchIndex
275 || 276 || 276 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 276
getEntryTerm
current commitIndex 275 lastIncludedIndex 269 snapshot exists ? true
follower server 1 commit index 276 command 6575145151687920980 
update server 1 's matchIndex from 276 to 276
append command 1256200446958892679
len(log) = 277
append command 641193659853233751
len(log) = 278
append command 8165511874603533824
len(log) = 279
append command 915295656999390010
len(log) = 280
append command 8926009126315442824
len(log) = 281
append command 6669354259165959588
len(log) = 282
append command 197346938813498500
len(log) = 283
append command 244309245953834361
len(log) = 284
append command 6551673041105534915
len(log) = 285
append command 9058332275982571017
len(log) = 286
append command 4585372881986240170
len(log) = 287
append command 2441764534971719550
len(log) = 288
append command 9171106079874243809
len(log) = 289
append command 2496193461639064461
len(log) = 290
server 1 term 43 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 276
current commitIndex 276 lastIncludedIndex 269 snapshot exists ? true
update server 1 's matchIndex from 276 to 290
getEntryTerm
leader server 2 commit index 277 command 1256200446958892679
leader server 2 commit index 278 command 641193659853233751
leader server 2 commit index 279 command 8165511874603533824
leader server 2 commit index 280 command 915295656999390010
server 2 takes snopshot and discards logs before index 279
getEntryTerm
discard index before 279(included)
server 2 finished snopshot
leader server 2 commit index 281 command 8926009126315442824
leader server 2 commit index 282 command 6669354259165959588
leader server 2 commit index 283 command 197346938813498500
leader server 2 commit index 284 command 244309245953834361
leader server 2 commit index 285 command 6551673041105534915
leader server 2 commit index 286 command 9058332275982571017
leader server 2 commit index 287 command 4585372881986240170
leader server 2 commit index 288 command 2441764534971719550
leader server 2 commit index 289 command 9171106079874243809
leader server 2 commit index 290 command 2496193461639064461
server 2 takes snopshot and discards logs before index 289
getEntryTerm
discard index before 289(included)
server 2 finished snopshot
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 290
getEntryTerm
current commitIndex 276 lastIncludedIndex 269 snapshot exists ? true
follower server 1 commit index 277 command 1256200446958892679 
follower server 1 commit index 278 command 641193659853233751 
follower server 1 commit index 279 command 8165511874603533824 
follower server 1 commit index 280 command 915295656999390010 
server 1 takes snopshot and discards logs before index 279
getEntryTerm
discard index before 279(included)
server 1 finished snopshot
follower server 1 commit index 281 command 8926009126315442824 
follower server 1 commit index 282 command 6669354259165959588 
follower server 1 commit index 283 command 197346938813498500 
follower server 1 commit index 284 command 244309245953834361 
follower server 1 commit index 285 command 6551673041105534915 
follower server 1 commit index 286 command 9058332275982571017 
follower server 1 commit index 287 command 4585372881986240170 
follower server 1 commit index 288 command 2441764534971719550 
follower server 1 commit index 289 command 9171106079874243809 
follower server 1 commit index 290 command 2496193461639064461 
server 1 takes snopshot and discards logs before index 289
getEntryTerm
discard index before 289(included)
server 1 finished snopshot
update server 1 's matchIndex from 290 to 290
server 0 read form stored snapshot
server 0 recover from snopshot
server 0 finishes recovery
server 0 term 43 state 0(leader false)(heartFlag false)
server 0 term 43 doesn't hear any heartbeat
append command 5058243925862898553
len(log) = 291
server 0 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
getEntryTerm
server 2 thinks candidate 0 is not up-to-date
server 2 grant false for candidate 0's requestVote
server 1 convert to follower
getEntryTerm
server 1 thinks candidate 0 is not up-to-date
server 1 grant false for candidate 0's requestVote
server 2 term 44 state 0(leader false)(heartFlag false)
server 2 term 44 doesn't hear any heartbeat
server 2 convert to candidate
getEntryTerm
getEntryTerm
server 1 convert to follower
getEntryTerm
server 1 grant true for candidate 2's requestVote
server 0 convert to follower
getEntryTerm
server 0 grant true for candidate 2's requestVote
server 2 convert to leader
server 2 term 45 send appendEntries
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 291
lastLogIndex 275, args.PrevLogIndex 291
server 1 receives appendEntry from leader 2 prevLogIndex 291
lastLogIndex 290, args.PrevLogIndex 291
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 290
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
server 0 receives snopshot from leader 2
server 0 commit snopshot to lastIncludedIndex 289
update server 1 's matchIndex from 0 to 291
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 289
current commitIndex 289 lastIncludedIndex 289 snapshot exists ? true
follower server 0 commit index 290 command 2496193461639064461 
update server 1 's matchIndex from 291 to 291
update server 0 's matchIndex from 289 to 291
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 45 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
update server 1 's matchIndex from 291 to 291
update server 0 's matchIndex from 291 to 291
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
update server 1 's matchIndex from 291 to 291
update server 0 's matchIndex from 291 to 291
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
update server 0 's matchIndex from 291 to 291
update server 1 's matchIndex from 291 to 291
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
update server 1 's matchIndex from 291 to 291
update server 0 's matchIndex from 291 to 291
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
update server 1 's matchIndex from 291 to 291
update server 0 's matchIndex from 291 to 291
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
update server 1 's matchIndex from 291 to 291
update server 0 's matchIndex from 291 to 291
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
update server 1 's matchIndex from 291 to 291
update server 0 's matchIndex from 291 to 291
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
update server 1 's matchIndex from 291 to 291
update server 0 's matchIndex from 291 to 291
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
update server 0 's matchIndex from 291 to 291
update server 1 's matchIndex from 291 to 291
server 1 term 45 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
update server 1 's matchIndex from 291 to 291
update server 0 's matchIndex from 291 to 291
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
update server 0 's matchIndex from 291 to 291
server 1 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
update server 1 's matchIndex from 291 to 291
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
update server 0 's matchIndex from 291 to 291
update server 1 's matchIndex from 291 to 291
getEntryTerm
server 2 term 45 state 2(leader true)(heartFlag false)
nextIndex
292 || 292 || 292 || 
matchIndex
291 || 291 || 291 || 
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 45 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
update server 0 's matchIndex from 291 to 291
update server 1 's matchIndex from 291 to 291
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
update server 1 's matchIndex from 291 to 291
update server 0 's matchIndex from 291 to 291
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
update server 1 's matchIndex from 291 to 291
update server 0 's matchIndex from 291 to 291
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
update server 1 's matchIndex from 291 to 291
update server 0 's matchIndex from 291 to 291
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 45 state 2(leader true)(heartFlag false)
nextIndex
292 || 292 || 292 || 
matchIndex
291 || 291 || 291 || 
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
update server 0 's matchIndex from 291 to 291
update server 1 's matchIndex from 291 to 291
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
update server 0 's matchIndex from 291 to 291
update server 1 's matchIndex from 291 to 291
server 1 term 45 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 45 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
update server 1 's matchIndex from 291 to 291
update server 0 's matchIndex from 291 to 291
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
update server 1 's matchIndex from 291 to 291
update server 0 's matchIndex from 291 to 291
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
update server 1 's matchIndex from 291 to 291
update server 0 's matchIndex from 291 to 291
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
update server 1 's matchIndex from 291 to 291
update server 0 's matchIndex from 291 to 291
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
update server 1 's matchIndex from 291 to 291
update server 0 's matchIndex from 291 to 291
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
update server 1 's matchIndex from 291 to 291
update server 0 's matchIndex from 291 to 291
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
update server 1 's matchIndex from 291 to 291
update server 0 's matchIndex from 291 to 291
getEntryTerm
server 1 term 45 state 0(leader false)(heartFlag true)
server 2 term 45 state 2(leader true)(heartFlag false)
nextIndex
292 || 292 || 292 || 
matchIndex
291 || 291 || 291 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
update server 0 's matchIndex from 291 to 291
update server 1 's matchIndex from 291 to 291
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 45 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
update server 1 's matchIndex from 291 to 291
update server 0 's matchIndex from 291 to 291
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
update server 1 's matchIndex from 291 to 291
update server 0 's matchIndex from 291 to 291
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
update server 1 's matchIndex from 291 to 291
update server 0 's matchIndex from 291 to 291
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
update server 1 's matchIndex from 291 to 291
update server 0 's matchIndex from 291 to 291
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
update server 0 's matchIndex from 291 to 291
update server 1 's matchIndex from 291 to 291
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
update server 0 's matchIndex from 291 to 291
update server 1 's matchIndex from 291 to 291
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 45 state 0(leader false)(heartFlag true)
getEntryTerm
server 0 term 45 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
update server 1 's matchIndex from 291 to 291
update server 0 's matchIndex from 291 to 291
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
update server 0 's matchIndex from 291 to 291
update server 1 's matchIndex from 291 to 291
getEntryTerm
getEntryTerm
server 2 term 45 state 2(leader true)(heartFlag false)
nextIndex
292 || 292 || 292 || 
matchIndex
291 || 291 || 291 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
update server 1 's matchIndex from 291 to 291
update server 0 's matchIndex from 291 to 291
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
update server 1 's matchIndex from 291 to 291
update server 0 's matchIndex from 291 to 291
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
update server 1 's matchIndex from 291 to 291
update server 0 's matchIndex from 291 to 291
append command 5058243925862898553
len(log) = 292
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
update server 1 's matchIndex from 291 to 292
update server 0 's matchIndex from 291 to 292
getEntryTerm
leader server 2 commit index 291 command 5058243925862898553
leader server 2 commit index 292 command 5058243925862898553
server 1 term 45 state 0(leader false)(heartFlag true)
server 0 term 45 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 292
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 292
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
follower server 0 commit index 291 command 5058243925862898553 
follower server 0 commit index 292 command 5058243925862898553 
follower server 1 commit index 291 command 5058243925862898553 
follower server 1 commit index 292 command 5058243925862898553 
update server 0 's matchIndex from 292 to 292
update server 1 's matchIndex from 292 to 292
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 292
current commitIndex 292 lastIncludedIndex 289 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 292
current commitIndex 292 lastIncludedIndex 289 snapshot exists ? true
update server 1 's matchIndex from 292 to 292
update server 0 's matchIndex from 292 to 292
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 292
current commitIndex 292 lastIncludedIndex 289 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 292
current commitIndex 292 lastIncludedIndex 289 snapshot exists ? true
update server 1 's matchIndex from 292 to 292
update server 0 's matchIndex from 292 to 292
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 292
current commitIndex 292 lastIncludedIndex 289 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 292
current commitIndex 292 lastIncludedIndex 289 snapshot exists ? true
update server 1 's matchIndex from 292 to 292
update server 0 's matchIndex from 292 to 292
server 2 term 45 state 2(leader true)(heartFlag false)
nextIndex
293 || 293 || 293 || 
matchIndex
292 || 292 || 292 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 292
current commitIndex 292 lastIncludedIndex 289 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 292
current commitIndex 292 lastIncludedIndex 289 snapshot exists ? true
update server 1 's matchIndex from 292 to 292
update server 0 's matchIndex from 292 to 292
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 292
current commitIndex 292 lastIncludedIndex 289 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 292
current commitIndex 292 lastIncludedIndex 289 snapshot exists ? true
update server 0 's matchIndex from 292 to 292
update server 1 's matchIndex from 292 to 292
server 1 term 45 state 0(leader false)(heartFlag true)
server 0 term 45 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 292
current commitIndex 292 lastIncludedIndex 289 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 292
current commitIndex 292 lastIncludedIndex 289 snapshot exists ? true
update server 1 's matchIndex from 292 to 292
update server 0 's matchIndex from 292 to 292
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 292
current commitIndex 292 lastIncludedIndex 289 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 292
current commitIndex 292 lastIncludedIndex 289 snapshot exists ? true
update server 1 's matchIndex from 292 to 292
update server 0 's matchIndex from 292 to 292
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 292
current commitIndex 292 lastIncludedIndex 289 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 292
current commitIndex 292 lastIncludedIndex 289 snapshot exists ? true
update server 1 's matchIndex from 292 to 292
update server 0 's matchIndex from 292 to 292
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 292
current commitIndex 292 lastIncludedIndex 289 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 292
current commitIndex 292 lastIncludedIndex 289 snapshot exists ? true
update server 0 's matchIndex from 292 to 292
update server 1 's matchIndex from 292 to 292
server 1 term 45 state 0(leader false)(heartFlag true)
server 0 term 45 state 0(leader false)(heartFlag true)
server 1 term 45 state 0(leader false)(heartFlag false)
server 1 term 45 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 0 convert to follower
getEntryTerm
server 0 grant true for candidate 1's requestVote
server 1 convert to leader
server 1 term 46 send appendEntries
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 292
current commitIndex 292 lastIncludedIndex 289 snapshot exists ? true
update server 0 's matchIndex from 0 to 292
append command 6626758373562242928
len(log) = 293
server 0 term 46 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 292
current commitIndex 292 lastIncludedIndex 289 snapshot exists ? true
update server 0 's matchIndex from 292 to 293
getEntryTerm
leader server 1 commit index 293 command 6626758373562242928
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 293
getEntryTerm
current commitIndex 292 lastIncludedIndex 289 snapshot exists ? true
follower server 0 commit index 293 command 6626758373562242928 
update server 0 's matchIndex from 293 to 293
append command 6636190721808809385
len(log) = 294
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 293
current commitIndex 293 lastIncludedIndex 289 snapshot exists ? true
update server 0 's matchIndex from 293 to 294
getEntryTerm
leader server 1 commit index 294 command 6636190721808809385
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 294
getEntryTerm
current commitIndex 293 lastIncludedIndex 289 snapshot exists ? true
follower server 0 commit index 294 command 6636190721808809385 
update server 0 's matchIndex from 294 to 294
server 2 read form stored snapshot
server 2 recover from snopshot
server 2 finishes recovery
append command 8592909864051494944
server 2 term 45 state 0(leader false)(heartFlag false)
server 2 term 45 doesn't hear any heartbeat
server 2 convert to candidate
getEntryTerm
getEntryTerm
len(log) = 295
getEntryTerm
server 1 already has a voteFor 1 but not candidate 2
server 1 grant false for candidate 2's requestVote
getEntryTerm
server 0 already has a voteFor 1 but not candidate 2
server 0 grant false for candidate 2's requestVote
server 0 term 46 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 292
server 2 convert to follower
getEntryTerm
current commitIndex 289 lastIncludedIndex 289 snapshot exists ? true
follower server 2 commit index 290 command 2496193461639064461 
follower server 2 commit index 291 command 5058243925862898553 
server 0 receives appendEntry from leader 1 prevLogIndex 294
current commitIndex 294 lastIncludedIndex 289 snapshot exists ? true
follower server 2 commit index 292 command 5058243925862898553 
follower server 2 commit index 293 command 6626758373562242928 
follower server 2 commit index 294 command 6636190721808809385 
update server 0 's matchIndex from 294 to 295
update server 2 's matchIndex from 0 to 295
getEntryTerm
leader server 1 commit index 295 command 8592909864051494944
server 1 term 46 state 2(leader true)(heartFlag false)
nextIndex
296 || 296 || 296 || 
matchIndex
295 || 295 || 295 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 295
getEntryTerm
current commitIndex 294 lastIncludedIndex 289 snapshot exists ? true
follower server 2 commit index 295 command 8592909864051494944 
server 0 receives appendEntry from leader 1 prevLogIndex 295
getEntryTerm
current commitIndex 294 lastIncludedIndex 289 snapshot exists ? true
update server 2 's matchIndex from 295 to 295
follower server 0 commit index 295 command 8592909864051494944 
update server 0 's matchIndex from 295 to 295
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 295
current commitIndex 295 lastIncludedIndex 289 snapshot exists ? true
update server 2 's matchIndex from 295 to 295
server 0 receives appendEntry from leader 1 prevLogIndex 295
current commitIndex 295 lastIncludedIndex 289 snapshot exists ? true
update server 0 's matchIndex from 295 to 295
server 0 term 46 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 295
current commitIndex 295 lastIncludedIndex 289 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 295
current commitIndex 295 lastIncludedIndex 289 snapshot exists ? true
update server 2 's matchIndex from 295 to 295
update server 0 's matchIndex from 295 to 295
server 1 term 46 state 2(leader true)(heartFlag false)
nextIndex
296 || 296 || 296 || 
matchIndex
295 || 295 || 295 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 295
current commitIndex 295 lastIncludedIndex 289 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 295
current commitIndex 295 lastIncludedIndex 289 snapshot exists ? true
update server 0 's matchIndex from 295 to 295
update server 2 's matchIndex from 295 to 295
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 295
current commitIndex 295 lastIncludedIndex 289 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 295
current commitIndex 295 lastIncludedIndex 289 snapshot exists ? true
update server 2 's matchIndex from 295 to 295
update server 0 's matchIndex from 295 to 295
server 0 term 46 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 295
current commitIndex 295 lastIncludedIndex 289 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 295
current commitIndex 295 lastIncludedIndex 289 snapshot exists ? true
update server 2 's matchIndex from 295 to 295
update server 0 's matchIndex from 295 to 295
append command 8584914908766339385
len(log) = 296
server 1 term 46 state 2(leader true)(heartFlag false)
nextIndex
296 || 297 || 296 || 
matchIndex
295 || 296 || 295 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 295
current commitIndex 295 lastIncludedIndex 289 snapshot exists ? true
update server 0 's matchIndex from 295 to 296
getEntryTerm
leader server 1 commit index 296 command 8584914908766339385
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 296
getEntryTerm
current commitIndex 295 lastIncludedIndex 289 snapshot exists ? true
follower server 0 commit index 296 command 8584914908766339385 
update server 0 's matchIndex from 296 to 296
append command 1177122824979849676
len(log) = 297
append command 5653939884108945274
len(log) = 298
append command 8826403469787484860
len(log) = 299
append command 1330661673263971805
len(log) = 300
append command 1850599625607698196
len(log) = 301
append command 3720964636761496625
len(log) = 302
append command 3367738644194268408
len(log) = 303
append command 5995996211788403690
len(log) = 304
append command 3354852623566298018
len(log) = 305
append command 7250179206474046199
len(log) = 306
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 296
current commitIndex 296 lastIncludedIndex 289 snapshot exists ? true
update server 0 's matchIndex from 296 to 306
getEntryTerm
leader server 1 commit index 297 command 1177122824979849676
leader server 1 commit index 298 command 5653939884108945274
leader server 1 commit index 299 command 8826403469787484860
leader server 1 commit index 300 command 1330661673263971805
server 1 takes snopshot and discards logs before index 299
getEntryTerm
discard index before 299(included)
server 1 finished snopshot
leader server 1 commit index 301 command 1850599625607698196
leader server 1 commit index 302 command 3720964636761496625
leader server 1 commit index 303 command 3367738644194268408
leader server 1 commit index 304 command 5995996211788403690
leader server 1 commit index 305 command 3354852623566298018
leader server 1 commit index 306 command 7250179206474046199
server 0 term 46 state 0(leader false)(heartFlag true)
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 306
getEntryTerm
current commitIndex 296 lastIncludedIndex 289 snapshot exists ? true
follower server 0 commit index 297 command 1177122824979849676 
follower server 0 commit index 298 command 5653939884108945274 
follower server 0 commit index 299 command 8826403469787484860 
follower server 0 commit index 300 command 1330661673263971805 
server 0 takes snopshot and discards logs before index 299
getEntryTerm
discard index before 299(included)
server 0 finished snopshot
follower server 0 commit index 301 command 1850599625607698196 
follower server 0 commit index 302 command 3720964636761496625 
follower server 0 commit index 303 command 3367738644194268408 
follower server 0 commit index 304 command 5995996211788403690 
follower server 0 commit index 305 command 3354852623566298018 
follower server 0 commit index 306 command 7250179206474046199 
update server 0 's matchIndex from 306 to 306
server 2 read form stored snapshot
server 2 recover from snopshot
server 2 finishes recovery
append command 248503115819730538
server 2 term 46 state 0(leader false)(heartFlag false)
server 2 term 46 doesn't hear any heartbeat
len(log) = 307
server 2 convert to candidate
getEntryTerm
getEntryTerm
server 1 convert to follower
getEntryTerm
server 1 thinks candidate 2 is not up-to-date
server 1 grant false for candidate 2's requestVote
server 0 convert to follower
getEntryTerm
server 0 thinks candidate 2 is not up-to-date
server 0 grant false for candidate 2's requestVote
server 1 term 47 state 0(leader false)(heartFlag false)
server 1 term 47 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
server 0 convert to follower
getEntryTerm
server 2 grant true for candidate 1's requestVote
getEntryTerm
server 0 grant true for candidate 1's requestVote
server 1 convert to leader
server 1 term 48 send appendEntries
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 307
lastLogIndex 295, args.PrevLogIndex 307
server 0 receives appendEntry from leader 1 prevLogIndex 307
lastLogIndex 306, args.PrevLogIndex 307
getEntryTerm
server 2 receives snopshot from leader 1
server 2 commit snopshot to lastIncludedIndex 299
server 0 receives appendEntry from leader 1 prevLogIndex 306
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 0 to 307
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 299
current commitIndex 299 lastIncludedIndex 299 snapshot exists ? true
follower server 2 commit index 300 command 1330661673263971805 
follower server 2 commit index 301 command 1850599625607698196 
follower server 2 commit index 302 command 3720964636761496625 
follower server 2 commit index 303 command 3367738644194268408 
follower server 2 commit index 304 command 5995996211788403690 
follower server 2 commit index 305 command 3354852623566298018 
follower server 2 commit index 306 command 7250179206474046199 
server 0 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 299 to 307
update server 0 's matchIndex from 307 to 307
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 307 to 307
update server 2 's matchIndex from 307 to 307
server 0 term 48 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 307 to 307
update server 0 's matchIndex from 307 to 307
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
getEntryTerm
update server 2 's matchIndex from 307 to 307
update server 0 's matchIndex from 307 to 307
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 307 to 307
update server 0 's matchIndex from 307 to 307
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 307 to 307
update server 0 's matchIndex from 307 to 307
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 48 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 307 to 307
update server 0 's matchIndex from 307 to 307
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 307 to 307
update server 0 's matchIndex from 307 to 307
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 307 to 307
update server 2 's matchIndex from 307 to 307
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 307 to 307
update server 0 's matchIndex from 307 to 307
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 307 to 307
update server 2 's matchIndex from 307 to 307
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 307 to 307
update server 0 's matchIndex from 307 to 307
getEntryTerm
server 2 term 48 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 48 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 307 to 307
update server 2 's matchIndex from 307 to 307
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 307 to 307
update server 2 's matchIndex from 307 to 307
getEntryTerm
server 1 term 48 state 2(leader true)(heartFlag false)
nextIndex
308 || 308 || 308 || 
matchIndex
307 || 307 || 307 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 307 to 307
update server 0 's matchIndex from 307 to 307
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 307
server 2 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 307 to 307
update server 2 's matchIndex from 307 to 307
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 307 to 307
update server 0 's matchIndex from 307 to 307
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 307 to 307
update server 0 's matchIndex from 307 to 307
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 48 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 307 to 307
update server 2 's matchIndex from 307 to 307
getEntryTerm
server 1 term 48 state 2(leader true)(heartFlag false)
nextIndex
308 || 308 || 308 || 
matchIndex
307 || 307 || 307 || 
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 307 to 307
update server 0 's matchIndex from 307 to 307
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 48 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 307 to 307
update server 2 's matchIndex from 307 to 307
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 307 to 307
update server 0 's matchIndex from 307 to 307
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 307 to 307
update server 0 's matchIndex from 307 to 307
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 307 to 307
update server 0 's matchIndex from 307 to 307
getEntryTerm
server 0 term 48 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 307 to 307
update server 0 's matchIndex from 307 to 307
getEntryTerm
getEntryTerm
server 1 term 48 state 2(leader true)(heartFlag false)
nextIndex
308 || 308 || 308 || 
matchIndex
307 || 307 || 307 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 307 to 307
update server 0 's matchIndex from 307 to 307
getEntryTerm
getEntryTerm
server 2 term 48 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 307 to 307
update server 0 's matchIndex from 307 to 307
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 307 to 307
update server 2 's matchIndex from 307 to 307
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 307 to 307
update server 0 's matchIndex from 307 to 307
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 307 to 307
update server 2 's matchIndex from 307 to 307
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 48 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 term 48 state 2(leader true)(heartFlag false)
nextIndex
308 || 308 || 308 || 
matchIndex
307 || 307 || 307 || 
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 307 to 307
update server 0 's matchIndex from 307 to 307
getEntryTerm
server 2 term 48 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 307 to 307
update server 0 's matchIndex from 307 to 307
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 307 to 307
update server 2 's matchIndex from 307 to 307
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 307 to 307
update server 0 's matchIndex from 307 to 307
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 307 to 307
update server 0 's matchIndex from 307 to 307
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 307 to 307
update server 0 's matchIndex from 307 to 307
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 48 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 307 to 307
update server 0 's matchIndex from 307 to 307
server 0 term 48 state 0(leader false)(heartFlag true)
getEntryTerm
server 1 term 48 state 2(leader true)(heartFlag false)
nextIndex
308 || 308 || 308 || 
matchIndex
307 || 307 || 307 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 307 to 307
update server 2 's matchIndex from 307 to 307
append command 248503115819730538
len(log) = 308
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 307
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 307 to 308
update server 0 's matchIndex from 307 to 308
getEntryTerm
leader server 1 commit index 307 command 248503115819730538
leader server 1 commit index 308 command 248503115819730538
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 308
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
follower server 2 commit index 307 command 248503115819730538 
follower server 2 commit index 308 command 248503115819730538 
server 0 receives appendEntry from leader 1 prevLogIndex 308
getEntryTerm
current commitIndex 306 lastIncludedIndex 299 snapshot exists ? true
follower server 0 commit index 307 command 248503115819730538 
follower server 0 commit index 308 command 248503115819730538 
update server 2 's matchIndex from 308 to 308
update server 0 's matchIndex from 308 to 308
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 308
current commitIndex 308 lastIncludedIndex 299 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 308
current commitIndex 308 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 308 to 308
update server 0 's matchIndex from 308 to 308
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 308
current commitIndex 308 lastIncludedIndex 299 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 308
current commitIndex 308 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 308 to 308
update server 0 's matchIndex from 308 to 308
server 2 term 48 state 0(leader false)(heartFlag true)
server 0 term 48 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 308
current commitIndex 308 lastIncludedIndex 299 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 308
current commitIndex 308 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 308 to 308
update server 2 's matchIndex from 308 to 308
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 308
current commitIndex 308 lastIncludedIndex 299 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 308
current commitIndex 308 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 308 to 308
update server 0 's matchIndex from 308 to 308
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 308
current commitIndex 308 lastIncludedIndex 299 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 308
current commitIndex 308 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 308 to 308
update server 0 's matchIndex from 308 to 308
server 1 term 48 state 2(leader true)(heartFlag false)
nextIndex
309 || 309 || 309 || 
matchIndex
308 || 308 || 308 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 308
current commitIndex 308 lastIncludedIndex 299 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 308
current commitIndex 308 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 308 to 308
update server 0 's matchIndex from 308 to 308
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 308
current commitIndex 308 lastIncludedIndex 299 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 308
current commitIndex 308 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 308 to 308
update server 0 's matchIndex from 308 to 308
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 308
server 0 receives appendEntry from leader 1 prevLogIndex 308
current commitIndex 308 lastIncludedIndex 299 snapshot exists ? true
current commitIndex 308 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 308 to 308
update server 2 's matchIndex from 308 to 308
server 0 term 48 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
append command 1020177133350726637
len(log) = 309
server 0 receives appendEntry from leader 1 prevLogIndex 308
current commitIndex 308 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 308 to 308
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 308
current commitIndex 308 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 308 to 309
getEntryTerm
leader server 1 commit index 309 command 1020177133350726637
server 1 takes snopshot and discards logs before index 309
getEntryTerm
discard index before 309(included)
server 1 finished snopshot
server 0 receives appendEntry from leader 1 prevLogIndex 309
getEntryTerm
current commitIndex 308 lastIncludedIndex 299 snapshot exists ? true
follower server 0 commit index 309 command 1020177133350726637 
update server 0 's matchIndex from 309 to 309
server 0 takes snopshot and discards logs before index 309
getEntryTerm
discard index before 309(included)
server 0 finished snopshot
append command 3404090418360446946
len(log) = 310
append command 4696733730145230774
len(log) = 311
append command 8999888092996856415
len(log) = 312
append command 8220993283204286861
len(log) = 313
append command 8089649062865454582
len(log) = 314
append command 8815955650954887541
len(log) = 315
append command 1437509456467691390
len(log) = 316
append command 2261838101404599707
len(log) = 317
append command 3493946518654518725
len(log) = 318
append command 5692371382773837441
len(log) = 319
append command 951663806786551547
len(log) = 320
append command 5258484596565121958
len(log) = 321
append command 8993874535909225028
len(log) = 322
append command 1338022206309203151
len(log) = 323
server 0 receives appendEntry from leader 1 prevLogIndex 309
current commitIndex 309 lastIncludedIndex 309 snapshot exists ? true
update server 0 's matchIndex from 309 to 323
getEntryTerm
leader server 1 commit index 310 command 3404090418360446946
leader server 1 commit index 311 command 4696733730145230774
leader server 1 commit index 312 command 8999888092996856415
leader server 1 commit index 313 command 8220993283204286861
leader server 1 commit index 314 command 8089649062865454582
leader server 1 commit index 315 command 8815955650954887541
leader server 1 commit index 316 command 1437509456467691390
leader server 1 commit index 317 command 2261838101404599707
leader server 1 commit index 318 command 3493946518654518725
leader server 1 commit index 319 command 5692371382773837441
leader server 1 commit index 320 command 951663806786551547
server 1 takes snopshot and discards logs before index 319
getEntryTerm
discard index before 319(included)
server 1 finished snopshot
leader server 1 commit index 321 command 5258484596565121958
leader server 1 commit index 322 command 8993874535909225028
leader server 1 commit index 323 command 1338022206309203151
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 323
getEntryTerm
current commitIndex 309 lastIncludedIndex 309 snapshot exists ? true
follower server 0 commit index 310 command 3404090418360446946 
follower server 0 commit index 311 command 4696733730145230774 
follower server 0 commit index 312 command 8999888092996856415 
follower server 0 commit index 313 command 8220993283204286861 
follower server 0 commit index 314 command 8089649062865454582 
follower server 0 commit index 315 command 8815955650954887541 
follower server 0 commit index 316 command 1437509456467691390 
follower server 0 commit index 317 command 2261838101404599707 
follower server 0 commit index 318 command 3493946518654518725 
follower server 0 commit index 319 command 5692371382773837441 
follower server 0 commit index 320 command 951663806786551547 
server 0 takes snopshot and discards logs before index 319
getEntryTerm
discard index before 319(included)
server 0 finished snopshot
follower server 0 commit index 321 command 5258484596565121958 
follower server 0 commit index 322 command 8993874535909225028 
follower server 0 commit index 323 command 1338022206309203151 
update server 0 's matchIndex from 323 to 323
server 2 read form stored snapshot
server 2 recover from snopshot
server 2 finishes recovery
append command 2846982501655015716
server 2 term 48 state 0(leader false)(heartFlag false)
server 2 term 48 doesn't hear any heartbeat
len(log) = 324
server 2 convert to candidate
getEntryTerm
getEntryTerm
server 0 convert to follower
getEntryTerm
server 0 thinks candidate 2 is not up-to-date
server 0 grant false for candidate 2's requestVote
server 1 convert to follower
getEntryTerm
server 1 thinks candidate 2 is not up-to-date
server 1 grant false for candidate 2's requestVote
server 1 term 49 state 0(leader false)(heartFlag false)
server 1 term 49 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
server 0 convert to follower
getEntryTerm
getEntryTerm
server 2 grant true for candidate 1's requestVote
server 0 grant true for candidate 1's requestVote
server 1 convert to leader
server 1 term 50 send appendEntries
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 324
lastLogIndex 323, args.PrevLogIndex 324
server 2 receives appendEntry from leader 1 prevLogIndex 324
lastLogIndex 308, args.PrevLogIndex 324
getEntryTerm
server 2 receives snopshot from leader 1
server 2 commit snopshot to lastIncludedIndex 319
server 0 receives appendEntry from leader 1 prevLogIndex 323
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 0 to 324
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 50 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 319
current commitIndex 319 lastIncludedIndex 319 snapshot exists ? true
follower server 2 commit index 320 command 951663806786551547 
follower server 2 commit index 321 command 5258484596565121958 
server 0 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
follower server 2 commit index 322 command 8993874535909225028 
follower server 2 commit index 323 command 1338022206309203151 
update server 0 's matchIndex from 324 to 324
update server 2 's matchIndex from 319 to 324
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 324 to 324
update server 2 's matchIndex from 324 to 324
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 324 to 324
update server 2 's matchIndex from 324 to 324
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 324 to 324
update server 2 's matchIndex from 324 to 324
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
update server 2 's matchIndex from 324 to 324
update server 0 's matchIndex from 324 to 324
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 324 to 324
update server 2 's matchIndex from 324 to 324
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
update server 2 's matchIndex from 324 to 324
update server 0 's matchIndex from 324 to 324
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
update server 2 's matchIndex from 324 to 324
update server 0 's matchIndex from 324 to 324
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 50 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 324 to 324
update server 2 's matchIndex from 324 to 324
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
getEntryTerm
update server 2 's matchIndex from 324 to 324
update server 0 's matchIndex from 324 to 324
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 324 to 324
update server 2 's matchIndex from 324 to 324
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 324 to 324
update server 2 's matchIndex from 324 to 324
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
update server 2 's matchIndex from 324 to 324
update server 0 's matchIndex from 324 to 324
getEntryTerm
server 1 term 50 state 2(leader true)(heartFlag false)
nextIndex
325 || 325 || 325 || 
matchIndex
324 || 324 || 324 || 
getEntryTerm
server 2 term 50 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
update server 2 's matchIndex from 324 to 324
update server 0 's matchIndex from 324 to 324
getEntryTerm
server 0 term 50 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
update server 2 's matchIndex from 324 to 324
update server 0 's matchIndex from 324 to 324
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 324 to 324
update server 2 's matchIndex from 324 to 324
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 324 to 324
update server 2 's matchIndex from 324 to 324
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 324 to 324
update server 2 's matchIndex from 324 to 324
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 50 state 2(leader true)(heartFlag false)
nextIndex
325 || 325 || 325 || 
matchIndex
324 || 324 || 324 || 
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
update server 2 's matchIndex from 324 to 324
update server 0 's matchIndex from 324 to 324
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
update server 2 's matchIndex from 324 to 324
update server 0 's matchIndex from 324 to 324
getEntryTerm
getEntryTerm
server 2 term 50 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 50 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 324 to 324
update server 2 's matchIndex from 324 to 324
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 324 to 324
update server 2 's matchIndex from 324 to 324
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 324 to 324
update server 2 's matchIndex from 324 to 324
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
update server 2 's matchIndex from 324 to 324
update server 0 's matchIndex from 324 to 324
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
update server 2 's matchIndex from 324 to 324
update server 0 's matchIndex from 324 to 324
getEntryTerm
server 1 term 50 state 2(leader true)(heartFlag false)
nextIndex
325 || 325 || 325 || 
matchIndex
324 || 324 || 324 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 324 to 324
update server 2 's matchIndex from 324 to 324
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 324 to 324
update server 2 's matchIndex from 324 to 324
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
update server 2 's matchIndex from 324 to 324
update server 0 's matchIndex from 324 to 324
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 50 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 324 to 324
update server 2 's matchIndex from 324 to 324
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 50 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
update server 2 's matchIndex from 324 to 324
update server 0 's matchIndex from 324 to 324
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
update server 2 's matchIndex from 324 to 324
update server 0 's matchIndex from 324 to 324
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 324 to 324
update server 2 's matchIndex from 324 to 324
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 324 to 324
update server 2 's matchIndex from 324 to 324
server 1 term 50 state 2(leader true)(heartFlag false)
nextIndex
325 || 325 || 325 || 
matchIndex
324 || 324 || 324 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
update server 2 's matchIndex from 324 to 324
update server 0 's matchIndex from 324 to 324
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 50 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 324 to 324
update server 2 's matchIndex from 324 to 324
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 324 to 324
update server 2 's matchIndex from 324 to 324
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 324 to 324
update server 2 's matchIndex from 324 to 324
getEntryTerm
getEntryTerm
append command 2846982501655015716
len(log) = 325
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 324
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 324 to 325
update server 2 's matchIndex from 324 to 325
getEntryTerm
leader server 1 commit index 324 command 2846982501655015716
leader server 1 commit index 325 command 2846982501655015716
server 0 term 50 state 0(leader false)(heartFlag true)
server 1 term 50 state 2(leader true)(heartFlag false)
nextIndex
326 || 326 || 326 || 
matchIndex
325 || 325 || 325 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 325
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
follower server 2 commit index 324 command 2846982501655015716 
follower server 2 commit index 325 command 2846982501655015716 
server 0 receives appendEntry from leader 1 prevLogIndex 325
getEntryTerm
current commitIndex 323 lastIncludedIndex 319 snapshot exists ? true
update server 2 's matchIndex from 325 to 325
follower server 0 commit index 324 command 2846982501655015716 
follower server 0 commit index 325 command 2846982501655015716 
update server 0 's matchIndex from 325 to 325
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 325
current commitIndex 325 lastIncludedIndex 319 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 325
current commitIndex 325 lastIncludedIndex 319 snapshot exists ? true
update server 2 's matchIndex from 325 to 325
update server 0 's matchIndex from 325 to 325
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 325
current commitIndex 325 lastIncludedIndex 319 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 325
current commitIndex 325 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 325 to 325
update server 2 's matchIndex from 325 to 325
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 325
current commitIndex 325 lastIncludedIndex 319 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 325
current commitIndex 325 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 325 to 325
update server 2 's matchIndex from 325 to 325
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 325
current commitIndex 325 lastIncludedIndex 319 snapshot exists ? true
update server 2 's matchIndex from 325 to 325
server 0 receives appendEntry from leader 1 prevLogIndex 325
current commitIndex 325 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 325 to 325
server 2 term 50 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 325
current commitIndex 325 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 325 to 325
server 2 receives appendEntry from leader 1 prevLogIndex 325
current commitIndex 325 lastIncludedIndex 319 snapshot exists ? true
update server 2 's matchIndex from 325 to 325
server 0 term 50 state 0(leader false)(heartFlag true)
server 1 term 50 state 2(leader true)(heartFlag false)
nextIndex
326 || 326 || 326 || 
matchIndex
325 || 325 || 325 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 325
current commitIndex 325 lastIncludedIndex 319 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 325
current commitIndex 325 lastIncludedIndex 319 snapshot exists ? true
update server 2 's matchIndex from 325 to 325
update server 0 's matchIndex from 325 to 325
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 325
current commitIndex 325 lastIncludedIndex 319 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 325
current commitIndex 325 lastIncludedIndex 319 snapshot exists ? true
update server 2 's matchIndex from 325 to 325
update server 0 's matchIndex from 325 to 325
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 325
current commitIndex 325 lastIncludedIndex 319 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 325
current commitIndex 325 lastIncludedIndex 319 snapshot exists ? true
update server 2 's matchIndex from 325 to 325
update server 0 's matchIndex from 325 to 325
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 325
current commitIndex 325 lastIncludedIndex 319 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 325
current commitIndex 325 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 325 to 325
update server 2 's matchIndex from 325 to 325
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 325
current commitIndex 325 lastIncludedIndex 319 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 325
current commitIndex 325 lastIncludedIndex 319 snapshot exists ? true
update server 2 's matchIndex from 325 to 325
update server 0 's matchIndex from 325 to 325
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 325
current commitIndex 325 lastIncludedIndex 319 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 325
current commitIndex 325 lastIncludedIndex 319 snapshot exists ? true
update server 2 's matchIndex from 325 to 325
server 0 term 50 state 0(leader false)(heartFlag true)
update server 0 's matchIndex from 325 to 325
server 2 term 50 state 0(leader false)(heartFlag true)
server 2 term 50 state 0(leader false)(heartFlag false)
server 2 term 50 doesn't hear any heartbeat
server 2 convert to candidate
getEntryTerm
getEntryTerm
server 0 convert to follower
getEntryTerm
server 0 grant true for candidate 2's requestVote
server 2 convert to leader
server 2 term 51 send appendEntries
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 325
current commitIndex 325 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 0 to 325
append command 1410904580924479858
len(log) = 326
server 0 term 51 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 325
current commitIndex 325 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 325 to 326
getEntryTerm
leader server 2 commit index 326 command 1410904580924479858
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 326
getEntryTerm
current commitIndex 325 lastIncludedIndex 319 snapshot exists ? true
follower server 0 commit index 326 command 1410904580924479858 
update server 0 's matchIndex from 326 to 326
append command 6891434590933917983
len(log) = 327
append command 5837303228655976183
len(log) = 328
append command 2962130180866577287
len(log) = 329
append command 2384982759976189326
len(log) = 330
append command 3709779166872456365
len(log) = 331
append command 4401518889049756553
len(log) = 332
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 326
current commitIndex 326 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 326 to 332
getEntryTerm
leader server 2 commit index 327 command 6891434590933917983
leader server 2 commit index 328 command 5837303228655976183
leader server 2 commit index 329 command 2962130180866577287
leader server 2 commit index 330 command 2384982759976189326
server 2 takes snopshot and discards logs before index 329
getEntryTerm
discard index before 329(included)
server 2 finished snopshot
leader server 2 commit index 331 command 3709779166872456365
leader server 2 commit index 332 command 4401518889049756553
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 332
getEntryTerm
current commitIndex 326 lastIncludedIndex 319 snapshot exists ? true
follower server 0 commit index 327 command 6891434590933917983 
follower server 0 commit index 328 command 5837303228655976183 
follower server 0 commit index 329 command 2962130180866577287 
follower server 0 commit index 330 command 2384982759976189326 
server 0 takes snopshot and discards logs before index 329
getEntryTerm
discard index before 329(included)
server 0 finished snopshot
follower server 0 commit index 331 command 3709779166872456365 
follower server 0 commit index 332 command 4401518889049756553 
update server 0 's matchIndex from 332 to 332
server 1 read form stored snapshot
server 1 recover from snopshot
server 1 finishes recovery
append command 2207776387059127670
len(log) = 333
server 1 term 50 state 0(leader false)(heartFlag false)
server 1 term 50 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 already has a voteFor 2 but not candidate 1
server 0 grant false for candidate 1's requestVote
server 2 already has a voteFor 2 but not candidate 1
server 2 grant false for candidate 1's requestVote
server 0 term 51 state 0(leader false)(heartFlag true)
getEntryTerm
server 1 receives snopshot from leader 2
server 1 commit snopshot to lastIncludedIndex 329
server 0 receives appendEntry from leader 2 prevLogIndex 332
current commitIndex 332 lastIncludedIndex 329 snapshot exists ? true
update server 0 's matchIndex from 332 to 333
getEntryTerm
leader server 2 commit index 333 command 2207776387059127670
server 2 term 51 state 2(leader true)(heartFlag false)
nextIndex
334 || 330 || 334 || 
matchIndex
333 || 329 || 333 || 
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 333
getEntryTerm
current commitIndex 332 lastIncludedIndex 329 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 329
server 1 convert to follower
current commitIndex 329 lastIncludedIndex 329 snapshot exists ? true
follower server 1 commit index 330 command 2384982759976189326 
follower server 1 commit index 331 command 3709779166872456365 
follower server 0 commit index 333 command 2207776387059127670 
follower server 1 commit index 332 command 4401518889049756553 
follower server 1 commit index 333 command 2207776387059127670 
update server 0 's matchIndex from 333 to 333
update server 1 's matchIndex from 329 to 333
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 333
current commitIndex 333 lastIncludedIndex 329 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 333
current commitIndex 333 lastIncludedIndex 329 snapshot exists ? true
update server 1 's matchIndex from 333 to 333
update server 0 's matchIndex from 333 to 333
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 333
current commitIndex 333 lastIncludedIndex 329 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 333
current commitIndex 333 lastIncludedIndex 329 snapshot exists ? true
update server 1 's matchIndex from 333 to 333
update server 0 's matchIndex from 333 to 333
server 2 term 51 state 2(leader true)(heartFlag false)
nextIndex
334 || 334 || 334 || 
matchIndex
333 || 333 || 333 || 
server 0 term 51 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 333
current commitIndex 333 lastIncludedIndex 329 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 333
current commitIndex 333 lastIncludedIndex 329 snapshot exists ? true
update server 1 's matchIndex from 333 to 333
update server 0 's matchIndex from 333 to 333
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 333
current commitIndex 333 lastIncludedIndex 329 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 333
current commitIndex 333 lastIncludedIndex 329 snapshot exists ? true
update server 1 's matchIndex from 333 to 333
update server 0 's matchIndex from 333 to 333
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 333
current commitIndex 333 lastIncludedIndex 329 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 333
current commitIndex 333 lastIncludedIndex 329 snapshot exists ? true
update server 1 's matchIndex from 333 to 333
update server 0 's matchIndex from 333 to 333
append command 313890358247291030
len(log) = 334
server 1 term 51 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 333
current commitIndex 333 lastIncludedIndex 329 snapshot exists ? true
update server 1 's matchIndex from 333 to 334
getEntryTerm
leader server 2 commit index 334 command 313890358247291030
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 334
getEntryTerm
current commitIndex 333 lastIncludedIndex 329 snapshot exists ? true
follower server 1 commit index 334 command 313890358247291030 
update server 1 's matchIndex from 334 to 334
server 2 term 51 state 2(leader true)(heartFlag false)
nextIndex
334 || 335 || 335 || 
matchIndex
333 || 334 || 334 || 
append command 5612630358323667706
len(log) = 335
append command 5110803475190240674
len(log) = 336
append command 7876163992087329918
len(log) = 337
append command 7723784868728840794
len(log) = 338
append command 5635510727221332465
len(log) = 339
append command 4841414134392918853
len(log) = 340
append command 5401936049445903587
len(log) = 341
append command 3770229053494424114
len(log) = 342
append command 4154804442052213883
len(log) = 343
append command 4686111170565968282
len(log) = 344
append command 2320597548300981277
len(log) = 345
append command 3690106003586263515
len(log) = 346
append command 7464020629318802551
len(log) = 347
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 334
current commitIndex 334 lastIncludedIndex 329 snapshot exists ? true
update server 1 's matchIndex from 334 to 347
getEntryTerm
leader server 2 commit index 335 command 5612630358323667706
leader server 2 commit index 336 command 5110803475190240674
leader server 2 commit index 337 command 7876163992087329918
leader server 2 commit index 338 command 7723784868728840794
leader server 2 commit index 339 command 5635510727221332465
leader server 2 commit index 340 command 4841414134392918853
server 2 takes snopshot and discards logs before index 339
getEntryTerm
discard index before 339(included)
server 2 finished snopshot
leader server 2 commit index 341 command 5401936049445903587
leader server 2 commit index 342 command 3770229053494424114
leader server 2 commit index 343 command 4154804442052213883
leader server 2 commit index 344 command 4686111170565968282
leader server 2 commit index 345 command 2320597548300981277
leader server 2 commit index 346 command 3690106003586263515
leader server 2 commit index 347 command 7464020629318802551
server 1 term 51 state 0(leader false)(heartFlag true)
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 347
getEntryTerm
current commitIndex 334 lastIncludedIndex 329 snapshot exists ? true
follower server 1 commit index 335 command 5612630358323667706 
follower server 1 commit index 336 command 5110803475190240674 
follower server 1 commit index 337 command 7876163992087329918 
follower server 1 commit index 338 command 7723784868728840794 
follower server 1 commit index 339 command 5635510727221332465 
follower server 1 commit index 340 command 4841414134392918853 
server 1 takes snopshot and discards logs before index 339
getEntryTerm
discard index before 339(included)
server 1 finished snopshot
follower server 1 commit index 341 command 5401936049445903587 
follower server 1 commit index 342 command 3770229053494424114 
follower server 1 commit index 343 command 4154804442052213883 
follower server 1 commit index 344 command 4686111170565968282 
follower server 1 commit index 345 command 2320597548300981277 
follower server 1 commit index 346 command 3690106003586263515 
follower server 1 commit index 347 command 7464020629318802551 
update server 1 's matchIndex from 347 to 347
server 0 read form stored snapshot
server 0 recover from snopshot
server 0 finishes recovery
append command 7569808030206891224
server 0 term 51 state 0(leader false)(heartFlag false)
server 0 term 51 doesn't hear any heartbeat
server 0 convert to candidate
len(log) = 348
getEntryTerm
getEntryTerm
server 2 convert to follower
getEntryTerm
server 2 thinks candidate 0 is not up-to-date
server 2 grant false for candidate 0's requestVote
server 1 convert to follower
getEntryTerm
server 1 thinks candidate 0 is not up-to-date
server 1 grant false for candidate 0's requestVote
server 2 term 52 state 0(leader false)(heartFlag false)
server 2 term 52 doesn't hear any heartbeat
server 2 convert to candidate
getEntryTerm
getEntryTerm
server 0 convert to follower
server 1 convert to follower
getEntryTerm
server 0 grant true for candidate 2's requestVote
getEntryTerm
server 1 grant true for candidate 2's requestVote
server 2 convert to leader
server 2 term 53 send appendEntries
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 348
lastLogIndex 347, args.PrevLogIndex 348
server 0 receives appendEntry from leader 2 prevLogIndex 348
lastLogIndex 333, args.PrevLogIndex 348
getEntryTerm
server 0 receives snopshot from leader 2
server 0 commit snopshot to lastIncludedIndex 339
server 1 receives appendEntry from leader 2 prevLogIndex 347
current commitIndex 347 lastIncludedIndex 339 snapshot exists ? true
update server 1 's matchIndex from 0 to 348
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 53 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 348
getEntryTerm
current commitIndex 347 lastIncludedIndex 339 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 339
current commitIndex 339 lastIncludedIndex 339 snapshot exists ? true
update server 1 's matchIndex from 348 to 348
follower server 0 commit index 340 command 4841414134392918853 
follower server 0 commit index 341 command 5401936049445903587 
follower server 0 commit index 342 command 3770229053494424114 
follower server 0 commit index 343 command 4154804442052213883 
follower server 0 commit index 344 command 4686111170565968282 
follower server 0 commit index 345 command 2320597548300981277 
follower server 0 commit index 346 command 3690106003586263515 
follower server 0 commit index 347 command 7464020629318802551 
update server 0 's matchIndex from 339 to 348
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 348
getEntryTerm
current commitIndex 347 lastIncludedIndex 339 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 348
getEntryTerm
current commitIndex 347 lastIncludedIndex 339 snapshot exists ? true
update server 1 's matchIndex from 348 to 348
update server 0 's matchIndex from 348 to 348
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 348
getEntryTerm
current commitIndex 347 lastIncludedIndex 339 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 348
getEntryTerm
current commitIndex 347 lastIncludedIndex 339 snapshot exists ? true
update server 1 's matchIndex from 348 to 348
update server 0 's matchIndex from 348 to 348
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 348
getEntryTerm
current commitIndex 347 lastIncludedIndex 339 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 348
getEntryTerm
current commitIndex 347 lastIncludedIndex 339 snapshot exists ? true
update server 1 's matchIndex from 348 to 348
update server 0 's matchIndex from 348 to 348
server 1 term 53 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 348
getEntryTerm
current commitIndex 347 lastIncludedIndex 339 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 348
getEntryTerm
current commitIndex 347 lastIncludedIndex 339 snapshot exists ? true
update server 1 's matchIndex from 348 to 348
update server 0 's matchIndex from 348 to 348
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 348
getEntryTerm
current commitIndex 347 lastIncludedIndex 339 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 348
getEntryTerm
current commitIndex 347 lastIncludedIndex 339 snapshot exists ? true
update server 1 's matchIndex from 348 to 348
update server 0 's matchIndex from 348 to 348
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 53 state 0(leader false)(heartFlag true)
server 2 term 53 state 2(leader true)(heartFlag false)
nextIndex
349 || 349 || 349 || 
matchIndex
348 || 348 || 348 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 348
getEntryTerm
current commitIndex 347 lastIncludedIndex 339 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 348
getEntryTerm
current commitIndex 347 lastIncludedIndex 339 snapshot exists ? true
update server 1 's matchIndex from 348 to 348
update server 0 's matchIndex from 348 to 348
server 1 term 53 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 348
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 348
getEntryTerm
current commitIndex 347 lastIncludedIndex 339 snapshot exists ? true
current commitIndex 347 lastIncludedIndex 339 snapshot exists ? true
update server 0 's matchIndex from 348 to 348
update server 1 's matchIndex from 348 to 348
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 348
getEntryTerm
getEntryTerm
current commitIndex 347 lastIncludedIndex 339 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 348
getEntryTerm
current commitIndex 347 lastIncludedIndex 339 snapshot exists ? true
update server 1 's matchIndex from 348 to 348
update server 0 's matchIndex from 348 to 348
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 348
getEntryTerm
current commitIndex 347 lastIncludedIndex 339 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 348
getEntryTerm
current commitIndex 347 lastIncludedIndex 339 snapshot exists ? true
update server 1 's matchIndex from 348 to 348
update server 0 's matchIndex from 348 to 348
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 53 state 2(leader true)(heartFlag false)
nextIndex
349 || 349 || 349 || 
matchIndex
348 || 348 || 348 || 
server 0 term 53 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 348
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 348
getEntryTerm
current commitIndex 347 lastIncludedIndex 339 snapshot exists ? true
current commitIndex 347 lastIncludedIndex 339 snapshot exists ? true
update server 0 's matchIndex from 348 to 348
update server 1 's matchIndex from 348 to 348
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 53 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 348
getEntryTerm
current commitIndex 347 lastIncludedIndex 339 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 348
getEntryTerm
current commitIndex 347 lastIncludedIndex 339 snapshot exists ? true
update server 0 's matchIndex from 348 to 348
update server 1 's matchIndex from 348 to 348
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 348
getEntryTerm
current commitIndex 347 lastIncludedIndex 339 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 348
getEntryTerm
current commitIndex 347 lastIncludedIndex 339 snapshot exists ? true
update server 0 's matchIndex from 348 to 348
update server 1 's matchIndex from 348 to 348
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 53 state 0(leader false)(heartFlag true)
server 2 term 53 state 2(leader true)(heartFlag false)
nextIndex
349 || 349 || getEntryTerm
349 || 
matchIndex
348 || 348 || 348 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 348
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 348
getEntryTerm
current commitIndex 347 lastIncludedIndex 339 snapshot exists ? true
current commitIndex 347 lastIncludedIndex 339 snapshot exists ? true
update server 0 's matchIndex from 348 to 348
update server 1 's matchIndex from 348 to 348
getEntryTerm
server 1 term 53 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 348
getEntryTerm
current commitIndex 347 lastIncludedIndex 339 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 348
getEntryTerm
update server 1 's matchIndex from 348 to 348
current commitIndex 347 lastIncludedIndex 339 snapshot exists ? true
update server 0 's matchIndex from 348 to 348
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 348
getEntryTerm
current commitIndex 347 lastIncludedIndex 339 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 348
getEntryTerm
update server 0 's matchIndex from 348 to 348
current commitIndex 347 lastIncludedIndex 339 snapshot exists ? true
update server 1 's matchIndex from 348 to 348
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 53 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 348
getEntryTerm
current commitIndex 347 lastIncludedIndex 339 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 348
getEntryTerm
current commitIndex 347 lastIncludedIndex 339 snapshot exists ? true
update server 1 's matchIndex from 348 to 348
update server 0 's matchIndex from 348 to 348
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
append command 7569808030206891224
len(log) = 349
getEntryTerm
getEntryTerm
server 0 term 53 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 348
getEntryTerm
current commitIndex 347 lastIncludedIndex 339 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 348
getEntryTerm
current commitIndex 347 lastIncludedIndex 339 snapshot exists ? true
update server 0 's matchIndex from 348 to 349
update server 1 's matchIndex from 348 to 349
getEntryTerm
leader server 2 commit index 348 command 7569808030206891224
leader server 2 commit index 349 command 7569808030206891224
server 2 takes snopshot and discards logs before index 349
getEntryTerm
discard index before 349(included)
server 2 finished snopshot
server 2 term 53 state 2(leader true)(heartFlag false)
nextIndex
350 || 350 || 350 || 
matchIndex
349 || 349 || 349 || 
server 1 receives appendEntry from leader 2 prevLogIndex 349
getEntryTerm
current commitIndex 347 lastIncludedIndex 339 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 349
getEntryTerm
follower server 1 commit index 348 command 7569808030206891224 
follower server 1 commit index 349 command 7569808030206891224 
current commitIndex 347 lastIncludedIndex 339 snapshot exists ? true
follower server 0 commit index 348 command 7569808030206891224 
follower server 0 commit index 349 command 7569808030206891224 
update server 1 's matchIndex from 349 to 349
server 1 takes snopshot and discards logs before index 349
getEntryTerm
discard index before 349(included)
update server 0 's matchIndex from 349 to 349
server 1 finished snopshot
server 0 takes snopshot and discards logs before index 349
getEntryTerm
discard index before 349(included)
server 0 finished snopshot
server 1 term 53 state 0(leader false)(heartFlag true)
server 1 receives appendEntry from leader 2 prevLogIndex 349
current commitIndex 349 lastIncludedIndex 349 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 349
current commitIndex 349 lastIncludedIndex 349 snapshot exists ? true
update server 1 's matchIndex from 349 to 349
update server 0 's matchIndex from 349 to 349
server 1 receives appendEntry from leader 2 prevLogIndex 349
current commitIndex 349 lastIncludedIndex 349 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 349
current commitIndex 349 lastIncludedIndex 349 snapshot exists ? true
update server 1 's matchIndex from 349 to 349
update server 0 's matchIndex from 349 to 349
server 0 term 53 state 0(leader false)(heartFlag true)
server 1 receives appendEntry from leader 2 prevLogIndex 349
server 0 receives appendEntry from leader 2 prevLogIndex 349
current commitIndex 349 lastIncludedIndex 349 snapshot exists ? true
current commitIndex 349 lastIncludedIndex 349 snapshot exists ? true
update server 0 's matchIndex from 349 to 349
update server 1 's matchIndex from 349 to 349
server 2 term 53 state 2(leader true)(heartFlag false)
nextIndex
350 || 350 || 350 || 
matchIndex
349 || 349 || 349 || 
server 1 receives appendEntry from leader 2 prevLogIndex 349
current commitIndex 349 lastIncludedIndex 349 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 349
current commitIndex 349 lastIncludedIndex 349 snapshot exists ? true
update server 1 's matchIndex from 349 to 349
update server 0 's matchIndex from 349 to 349
server 1 term 53 state 0(leader false)(heartFlag true)
server 1 receives appendEntry from leader 2 prevLogIndex 349
current commitIndex 349 lastIncludedIndex 349 snapshot exists ? true
update server 1 's matchIndex from 349 to 349
server 0 receives appendEntry from leader 2 prevLogIndex 349
current commitIndex 349 lastIncludedIndex 349 snapshot exists ? true
update server 0 's matchIndex from 349 to 349
  ... Passed --  75.4  3 1841  698297  349
server 0 no snopshot yet
server 1 no snopshot yet
server 2 no snopshot yet
Test (2D): install snapshots (unreliable+crash) ...
server 0 term 0 state 0(leader false)(heartFlag false)
server 0 term 0 doesn't hear any heartbeat
server 0 convert to candidate
server 1 term 0 state 0(leader false)(heartFlag false)
server 2 term 0 state 0(leader false)(heartFlag false)
server 2 term 0 doesn't hear any heartbeat
server 1 term 0 doesn't hear any heartbeat
server 1 convert to candidate
server 2 convert to candidate
server 1 already has a voteFor 1 but not candidate 2
server 1 grant false for candidate 2's requestVote
server 2 already has a voteFor 2 but not candidate 1
server 2 grant false for candidate 1's requestVote
server 0 already has a voteFor 0 but not candidate 2
server 0 grant false for candidate 2's requestVote
server 1 already has a voteFor 1 but not candidate 0
server 1 grant false for candidate 0's requestVote
server 2 already has a voteFor 2 but not candidate 0
server 2 grant false for candidate 0's requestVote
server 0 already has a voteFor 0 but not candidate 1
server 0 grant false for candidate 1's requestVote
server 1 term 1 ElectionTimeOut
server 1 convert to candidate
server 2 convert to follower
server 2 grant true for candidate 1's requestVote
server 1 convert to leader
server 1 term 2 send appendEntries
server 0 convert to follower
server 0 grant true for candidate 1's requestVote
append command 2858502655018986633
len(log) = 1
server 0 receives appendEntry from leader 1 prevLogIndex 0
current commitIndex 0 lastIncludedIndex 0 snapshot exists ? false
update server 0 's matchIndex from 0 to 1
getEntryTerm
leader server 1 commit index 1 command 2858502655018986633
server 2 receives appendEntry from leader 1 prevLogIndex 0
current commitIndex 0 lastIncludedIndex 0 snapshot exists ? false
update server 2 's matchIndex from 0 to 1
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 1
getEntryTerm
current commitIndex 0 lastIncludedIndex 0 snapshot exists ? false
follower server 0 commit index 1 command 2858502655018986633 
update server 0 's matchIndex from 1 to 1
server 2 receives appendEntry from leader 1 prevLogIndex 1
getEntryTerm
current commitIndex 0 lastIncludedIndex 0 snapshot exists ? false
follower server 2 commit index 1 command 2858502655018986633 
update server 2 's matchIndex from 1 to 1
getEntryTerm
getEntryTerm
server 0 term 2 state 0(leader false)(heartFlag true)
server 2 receives appendEntry from leader 1 prevLogIndex 1
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
update server 2 's matchIndex from 1 to 1
server 2 term 2 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 1
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
update server 2 's matchIndex from 1 to 1
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 1
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
update server 2 's matchIndex from 1 to 1
server 0 receives appendEntry from leader 1 prevLogIndex 1
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
update server 0 's matchIndex from 1 to 1
server 1 term 2 state 2(leader true)(heartFlag false)
nextIndex
2 || 2 || 2 || 
matchIndex
1 || 1 || 1 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 1
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
update server 2 's matchIndex from 1 to 1
server 0 receives appendEntry from leader 1 prevLogIndex 1
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
update server 0 's matchIndex from 1 to 1
server 0 term 2 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
append command 8567515032605886328
len(log) = 2
server 0 receives appendEntry from leader 1 prevLogIndex 1
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
update server 0 's matchIndex from 1 to 1
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 1
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
update server 0 's matchIndex from 1 to 2
getEntryTerm
leader server 1 commit index 2 command 8567515032605886328
server 1 term 2 state 2(leader true)(heartFlag false)
nextIndex
3 || 3 || 2 || 
matchIndex
2 || 2 || 1 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 2
getEntryTerm
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
follower server 0 commit index 2 command 8567515032605886328 
update server 0 's matchIndex from 2 to 2
append command 8146837563298808542
len(log) = 3
append command 8217989206795354799
len(log) = 4
append command 4506374783816431178
len(log) = 5
append command 1279925593101412485
len(log) = 6
append command 8492905846183868886
len(log) = 7
append command 6180952181220009180
len(log) = 8
append command 923243448155377457
len(log) = 9
append command 2553777367456497064
len(log) = 10
append command 5872842522137181316
len(log) = 11
append command 1303015111668473820
len(log) = 12
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 2
current commitIndex 2 lastIncludedIndex 0 snapshot exists ? false
update server 0 's matchIndex from 2 to 12
getEntryTerm
leader server 1 commit index 3 command 8146837563298808542
leader server 1 commit index 4 command 8217989206795354799
leader server 1 commit index 5 command 4506374783816431178
leader server 1 commit index 6 command 1279925593101412485
leader server 1 commit index 7 command 8492905846183868886
leader server 1 commit index 8 command 6180952181220009180
leader server 1 commit index 9 command 923243448155377457
leader server 1 commit index 10 command 2553777367456497064
server 1 takes snopshot and discards logs before index 9
getEntryTerm
discard index before 9(included)
server 1 finished snopshot
leader server 1 commit index 11 command 5872842522137181316
leader server 1 commit index 12 command 1303015111668473820
server 0 term 2 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 term 2 state 2(leader true)(heartFlag false)
nextIndex
13 || 13 || 2 || 
matchIndex
12 || 12 || 1 || 
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 12
getEntryTerm
current commitIndex 2 lastIncludedIndex 0 snapshot exists ? false
follower server 0 commit index 3 command 8146837563298808542 
follower server 0 commit index 4 command 8217989206795354799 
follower server 0 commit index 5 command 4506374783816431178 
follower server 0 commit index 6 command 1279925593101412485 
follower server 0 commit index 7 command 8492905846183868886 
follower server 0 commit index 8 command 6180952181220009180 
follower server 0 commit index 9 command 923243448155377457 
server 0 takes snopshot and discards logs before index 9
getEntryTerm
follower server 0 commit index 10 command 2553777367456497064 
discard index before 9(included)
server 0 finished snopshot
follower server 0 commit index 11 command 5872842522137181316 
follower server 0 commit index 12 command 1303015111668473820 
update server 0 's matchIndex from 12 to 12
server 2 no snopshot yet
append command 7765079923149560781
server 2 term 2 state 0(leader false)(heartFlag false)
server 2 term 2 doesn't hear any heartbeat
server 2 convert to candidate
len(log) = 13
getEntryTerm
getEntryTerm
server 0 term 2 state 0(leader false)(heartFlag true)
server 0 convert to follower
getEntryTerm
server 0 thinks candidate 2 is not up-to-date
server 0 grant false for candidate 2's requestVote
server 1 convert to follower
getEntryTerm
server 1 thinks candidate 2 is not up-to-date
server 1 grant false for candidate 2's requestVote
server 1 term 3 state 0(leader false)(heartFlag false)
server 1 term 3 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 0 convert to follower
getEntryTerm
server 0 grant true for candidate 1's requestVote
server 1 convert to leader
server 1 term 4 send appendEntries
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 13
lastLogIndex 12, args.PrevLogIndex 13
server 2 receives appendEntry from leader 1 prevLogIndex 13
server 2 convert to follower
lastLogIndex 1, args.PrevLogIndex 13
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 12
current commitIndex 12 lastIncludedIndex 9 snapshot exists ? true
update server 0 's matchIndex from 0 to 13
getEntryTerm
server 2 receives snopshot from leader 1
server 2 commit snopshot to lastIncludedIndex 9
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 4 state 0(leader false)(heartFlag true)
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 9
current commitIndex 9 lastIncludedIndex 9 snapshot exists ? true
follower server 2 commit index 10 command 2553777367456497064 
follower server 2 commit index 11 command 5872842522137181316 
follower server 2 commit index 12 command 1303015111668473820 
update server 2 's matchIndex from 9 to 13
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 13
getEntryTerm
current commitIndex 12 lastIncludedIndex 9 snapshot exists ? true
getEntryTerm
update server 0 's matchIndex from 13 to 13
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 13
getEntryTerm
current commitIndex 12 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 13 to 13
server 2 term 4 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 13
getEntryTerm
current commitIndex 12 lastIncludedIndex 9 snapshot exists ? true
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 13
getEntryTerm
current commitIndex 12 lastIncludedIndex 9 snapshot exists ? true
update server 0 's matchIndex from 13 to 13
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 13
getEntryTerm
current commitIndex 12 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 13 to 13
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 4 state 2(leader true)(heartFlag false)
nextIndex
14 || 14 || 14 || 
matchIndex
13 || 13 || 13 || 
getEntryTerm
getEntryTerm
server 0 term 4 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 13
getEntryTerm
current commitIndex 12 lastIncludedIndex 9 snapshot exists ? true
update server 0 's matchIndex from 13 to 13
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 4 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 13
getEntryTerm
current commitIndex 12 lastIncludedIndex 9 snapshot exists ? true
update server 0 's matchIndex from 13 to 13
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 13
getEntryTerm
current commitIndex 12 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 13 to 13
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 13
getEntryTerm
current commitIndex 12 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 13 to 13
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 4 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 13
getEntryTerm
current commitIndex 12 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 13 to 13
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 13
getEntryTerm
current commitIndex 12 lastIncludedIndex 9 snapshot exists ? true
getEntryTerm
update server 0 's matchIndex from 13 to 13
getEntryTerm
getEntryTerm
server 1 term 4 state 2(leader true)(heartFlag false)
nextIndex
14 || 14 || 14 || getEntryTerm

matchIndex
13 || 13 || 13 || 
server 2 term 4 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 13
getEntryTerm
current commitIndex 12 lastIncludedIndex 9 snapshot exists ? true
update server 0 's matchIndex from 13 to 13
server 2 receives appendEntry from leader 1 prevLogIndex 13
getEntryTerm
current commitIndex 12 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 13 to 13
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 13
getEntryTerm
current commitIndex 12 lastIncludedIndex 9 snapshot exists ? true
update server 0 's matchIndex from 13 to 13
server 2 receives appendEntry from leader 1 prevLogIndex 13
getEntryTerm
current commitIndex 12 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 13 to 13
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 13
getEntryTerm
current commitIndex 12 lastIncludedIndex 9 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 13
getEntryTerm
current commitIndex 12 lastIncludedIndex 9 snapshot exists ? true
update server 0 's matchIndex from 13 to 13
update server 2 's matchIndex from 13 to 13
server 2 term 4 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 4 state 2(leader true)(heartFlag false)
nextIndex
14 || 14 || 14 || 
matchIndex
13 || 13 || 13 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 13
getEntryTerm
current commitIndex 12 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 13 to 13
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 13
getEntryTerm
current commitIndex 12 lastIncludedIndex 9 snapshot exists ? true
update server 0 's matchIndex from 13 to 13
server 0 term 4 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 13
getEntryTerm
current commitIndex 12 lastIncludedIndex 9 snapshot exists ? true
update server 0 's matchIndex from 13 to 13
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 13
getEntryTerm
current commitIndex 12 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 13 to 13
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 4 state 0(leader false)(heartFlag true)
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 13
getEntryTerm
current commitIndex 12 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 13 to 13
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 13
getEntryTerm
current commitIndex 12 lastIncludedIndex 9 snapshot exists ? true
update server 0 's matchIndex from 13 to 13
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 4 state 0(leader false)(heartFlag true)
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 13
getEntryTerm
current commitIndex 12 lastIncludedIndex 9 snapshot exists ? true
update server 0 's matchIndex from 13 to 13
getEntryTerm
server 1 term 4 state 2(leader true)(heartFlag false)
nextIndex
14 || 14 || 14 || 
matchIndex
13 || 13 || 13 || 
server 2 receives appendEntry from leader 1 prevLogIndex 13
getEntryTerm
current commitIndex 12 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 13 to 13
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
append command 7765079923149560781
len(log) = 14
server 2 receives appendEntry from leader 1 prevLogIndex 13
getEntryTerm
current commitIndex 12 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 13 to 13
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 13
getEntryTerm
current commitIndex 12 lastIncludedIndex 9 snapshot exists ? true
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 13
getEntryTerm
current commitIndex 12 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 13 to 14
getEntryTerm
leader server 1 commit index 13 command 7765079923149560781
leader server 1 commit index 14 command 7765079923149560781
server 2 term 4 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 13
getEntryTerm
current commitIndex 12 lastIncludedIndex 9 snapshot exists ? true
follower server 0 commit index 13 command 7765079923149560781 
follower server 0 commit index 14 command 7765079923149560781 
update server 0 's matchIndex from 13 to 14
server 2 receives appendEntry from leader 1 prevLogIndex 14
getEntryTerm
current commitIndex 12 lastIncludedIndex 9 snapshot exists ? true
follower server 2 commit index 13 command 7765079923149560781 
follower server 2 commit index 14 command 7765079923149560781 
update server 2 's matchIndex from 14 to 14
server 1 term 4 state 2(leader true)(heartFlag false)
nextIndex
15 || 15 || 15 || 
matchIndex
14 || 14 || 14 || 
server 0 term 4 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 14
current commitIndex 14 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 14 to 14
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 14
current commitIndex 14 lastIncludedIndex 9 snapshot exists ? true
update server 0 's matchIndex from 14 to 14
server 2 receives appendEntry from leader 1 prevLogIndex 14
current commitIndex 14 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 14 to 14
server 2 term 4 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 14
current commitIndex 14 lastIncludedIndex 9 snapshot exists ? true
update server 0 's matchIndex from 14 to 14
server 2 receives appendEntry from leader 1 prevLogIndex 14
current commitIndex 14 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 14 to 14
server 0 term 4 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 14
current commitIndex 14 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 14 to 14
server 1 term 4 state 2(leader true)(heartFlag false)
nextIndex
15 || 15 || 15 || 
matchIndex
14 || 14 || 14 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 14
current commitIndex 14 lastIncludedIndex 9 snapshot exists ? true
update server 0 's matchIndex from 14 to 14
server 2 receives appendEntry from leader 1 prevLogIndex 14
current commitIndex 14 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 14 to 14
server 2 term 4 state 0(leader false)(heartFlag true)
server 0 term 4 state 0(leader false)(heartFlag true)
server 2 term 4 state 0(leader false)(heartFlag false)
server 2 term 4 doesn't hear any heartbeat
server 2 convert to candidate
getEntryTerm
getEntryTerm
server 0 term 4 state 0(leader false)(heartFlag false)
server 0 term 4 doesn't hear any heartbeat
server 0 convert to candidate
getEntryTerm
getEntryTerm
getEntryTerm
server 2 already has a voteFor 2 but not candidate 0
server 2 grant false for candidate 0's requestVote
server 2 term 5 ElectionTimeOut
server 2 convert to candidate
getEntryTerm
getEntryTerm
server 0 convert to follower
getEntryTerm
server 0 grant true for candidate 2's requestVote
server 2 convert to leader
server 2 term 6 send appendEntries
getEntryTerm
getEntryTerm
append command 18520192849373084
len(log) = 15
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 14
current commitIndex 14 lastIncludedIndex 9 snapshot exists ? true
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 14
current commitIndex 14 lastIncludedIndex 9 snapshot exists ? true
update server 0 's matchIndex from 0 to 15
getEntryTerm
leader server 2 commit index 15 command 18520192849373084
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 15
getEntryTerm
current commitIndex 14 lastIncludedIndex 9 snapshot exists ? true
follower server 0 commit index 15 command 18520192849373084 
update server 0 's matchIndex from 15 to 15
append command 5760106433243299620
len(log) = 16
append command 3827694077489711006
len(log) = 17
append command 6734029847723451299
len(log) = 18
append command 4404574949836352703
len(log) = 19
append command 7706380610304069130
len(log) = 20
append command 4415389714088466244
len(log) = 21
append command 6176648307583605419
len(log) = 22
append command 1354962689881697570
len(log) = 23
append command 3570380629503257793
len(log) = 24
append command 2398643175333145739
len(log) = 25
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 0 's matchIndex from 15 to 25
getEntryTerm
leader server 2 commit index 16 command 5760106433243299620
leader server 2 commit index 17 command 3827694077489711006
leader server 2 commit index 18 command 6734029847723451299
leader server 2 commit index 19 command 4404574949836352703
server 2 takes snopshot and discards logs before index 19
getEntryTerm
discard index before 19(included)
server 2 finished snopshot
leader server 2 commit index 20 command 7706380610304069130
leader server 2 commit index 21 command 4415389714088466244
leader server 2 commit index 22 command 6176648307583605419
leader server 2 commit index 23 command 1354962689881697570
leader server 2 commit index 24 command 3570380629503257793
leader server 2 commit index 25 command 2398643175333145739
server 0 term 6 state 0(leader false)(heartFlag true)
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 25
getEntryTerm
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
follower server 0 commit index 16 command 5760106433243299620 
follower server 0 commit index 17 command 3827694077489711006 
follower server 0 commit index 18 command 6734029847723451299 
follower server 0 commit index 19 command 4404574949836352703 
server 0 takes snopshot and discards logs before index 19
getEntryTerm
discard index before 19(included)
server 0 finished snopshot
follower server 0 commit index 20 command 7706380610304069130 
follower server 0 commit index 21 command 4415389714088466244 
follower server 0 commit index 22 command 6176648307583605419 
follower server 0 commit index 23 command 1354962689881697570 
follower server 0 commit index 24 command 3570380629503257793 
follower server 0 commit index 25 command 2398643175333145739 
update server 0 's matchIndex from 25 to 25
server 1 read form stored snapshot
server 1 recover from snopshot
server 1 finishes recovery
append command 7894205082042038903
server 1 term 4 state 0(leader false)(heartFlag false)
server 1 term 4 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
len(log) = 26
server 1 convert to follower
getEntryTerm
server 1 receives snopshot from leader 2
server 1 commit snopshot to lastIncludedIndex 19
server 0 receives appendEntry from leader 2 prevLogIndex 25
current commitIndex 25 lastIncludedIndex 19 snapshot exists ? true
update server 0 's matchIndex from 25 to 26
getEntryTerm
leader server 2 commit index 26 command 7894205082042038903
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 19
current commitIndex 19 lastIncludedIndex 19 snapshot exists ? true
follower server 1 commit index 20 command 7706380610304069130 
follower server 1 commit index 21 command 4415389714088466244 
follower server 1 commit index 22 command 6176648307583605419 
follower server 1 commit index 23 command 1354962689881697570 
follower server 1 commit index 24 command 3570380629503257793 
follower server 1 commit index 25 command 2398643175333145739 
follower server 1 commit index 26 command 7894205082042038903 
update server 1 's matchIndex from 19 to 26
server 0 receives appendEntry from leader 2 prevLogIndex 26
getEntryTerm
current commitIndex 25 lastIncludedIndex 19 snapshot exists ? true
follower server 0 commit index 26 command 7894205082042038903 
update server 0 's matchIndex from 26 to 26
server 0 term 6 state 0(leader false)(heartFlag true)
server 2 term 6 state 2(leader true)(heartFlag false)
nextIndex
27 || getEntryTerm
27 || getEntryTerm
27 || 
matchIndex
26 || 26 || 26 || 
server 1 receives appendEntry from leader 2 prevLogIndex 26
current commitIndex 26 lastIncludedIndex 19 snapshot exists ? true
update server 1 's matchIndex from 26 to 26
server 0 receives appendEntry from leader 2 prevLogIndex 26
current commitIndex 26 lastIncludedIndex 19 snapshot exists ? true
update server 0 's matchIndex from 26 to 26
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 26
current commitIndex 26 lastIncludedIndex 19 snapshot exists ? true
update server 1 's matchIndex from 26 to 26
server 0 receives appendEntry from leader 2 prevLogIndex 26
current commitIndex 26 lastIncludedIndex 19 snapshot exists ? true
update server 0 's matchIndex from 26 to 26
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 26
current commitIndex 26 lastIncludedIndex 19 snapshot exists ? true
update server 0 's matchIndex from 26 to 26
server 1 receives appendEntry from leader 2 prevLogIndex 26
current commitIndex 26 lastIncludedIndex 19 snapshot exists ? true
update server 1 's matchIndex from 26 to 26
server 2 term 6 state 2(leader true)(heartFlag false)
nextIndex
27 || 27 || 27 || 
matchIndex
26 || 26 || 26 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 26
current commitIndex 26 lastIncludedIndex 19 snapshot exists ? true
update server 0 's matchIndex from 26 to 26
server 1 receives appendEntry from leader 2 prevLogIndex 26
current commitIndex 26 lastIncludedIndex 19 snapshot exists ? true
update server 1 's matchIndex from 26 to 26
server 0 term 6 state 0(leader false)(heartFlag true)
append command 3423699442515158929
len(log) = 27
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 26
current commitIndex 26 lastIncludedIndex 19 snapshot exists ? true
update server 1 's matchIndex from 26 to 27
getEntryTerm
leader server 2 commit index 27 command 3423699442515158929
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 27
getEntryTerm
current commitIndex 26 lastIncludedIndex 19 snapshot exists ? true
follower server 1 commit index 27 command 3423699442515158929 
update server 1 's matchIndex from 27 to 27
append command 6905022001765822359
len(log) = 28
append command 5118596230659556017
len(log) = 29
append command 8188181045720099602
len(log) = 30
append command 7791277957995582237
len(log) = 31
append command 8579225025500685551
len(log) = 32
append command 4771591861196645928
len(log) = 33
append command 3654064265168628999
len(log) = 34
append command 8334485610046870536
len(log) = 35
append command 5733186378922083880
len(log) = 36
append command 21757784964193116
len(log) = 37
append command 5023748516797518200
len(log) = 38
append command 6573374965159009991
len(log) = 39
server 2 term 6 state 2(leader true)(heartFlag false)
nextIndex
27 || 28 || 40 || 
matchIndex
26 || 27 || 39 || 
server 1 term 6 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 27
current commitIndex 27 lastIncludedIndex 19 snapshot exists ? true
update server 1 's matchIndex from 27 to 39
getEntryTerm
leader server 2 commit index 28 command 6905022001765822359
leader server 2 commit index 29 command 5118596230659556017
server 2 takes snopshot and discards logs before index 29
getEntryTerm
discard index before 29(included)
leader server 2 commit index 30 command 8188181045720099602
server 2 finished snopshot
leader server 2 commit index 31 command 7791277957995582237
leader server 2 commit index 32 command 8579225025500685551
leader server 2 commit index 33 command 4771591861196645928
leader server 2 commit index 34 command 3654064265168628999
leader server 2 commit index 35 command 8334485610046870536
leader server 2 commit index 36 command 5733186378922083880
leader server 2 commit index 37 command 21757784964193116
leader server 2 commit index 38 command 5023748516797518200
leader server 2 commit index 39 command 6573374965159009991
server 2 takes snopshot and discards logs before index 39
getEntryTerm
discard index before 39(included)
server 2 finished snopshot
server 1 receives appendEntry from leader 2 prevLogIndex 39
getEntryTerm
current commitIndex 27 lastIncludedIndex 19 snapshot exists ? true
follower server 1 commit index 28 command 6905022001765822359 
follower server 1 commit index 29 command 5118596230659556017 
server 1 takes snopshot and discards logs before index 29
getEntryTerm
discard index before 29(included)
follower server 1 commit index 30 command 8188181045720099602 
server 1 finished snopshot
follower server 1 commit index 31 command 7791277957995582237 
follower server 1 commit index 32 command 8579225025500685551 
follower server 1 commit index 33 command 4771591861196645928 
follower server 1 commit index 34 command 3654064265168628999 
follower server 1 commit index 35 command 8334485610046870536 
follower server 1 commit index 36 command 5733186378922083880 
follower server 1 commit index 37 command 21757784964193116 
follower server 1 commit index 38 command 5023748516797518200 
follower server 1 commit index 39 command 6573374965159009991 
update server 1 's matchIndex from 39 to 39
server 1 takes snopshot and discards logs before index 39
getEntryTerm
discard index before 39(included)
server 1 finished snopshot
server 0 read form stored snapshot
server 0 recover from snopshot
server 0 finishes recovery
append command 4720820727174019082
server 0 term 6 state 0(leader false)(heartFlag false)
server 0 term 6 doesn't hear any heartbeat
server 0 convert to candidate
len(log) = 40
getEntryTerm
getEntryTerm
server 2 convert to follower
getEntryTerm
server 1 convert to follower
server 1 thinks candidate 0 is not up-to-date
server 1 grant false for candidate 0's requestVote
server 2 thinks candidate 0 is not up-to-date
server 2 grant false for candidate 0's requestVote
server 2 term 7 state 0(leader false)(heartFlag false)
server 2 term 7 doesn't hear any heartbeat
server 2 convert to candidate
getEntryTerm
getEntryTerm
server 1 convert to follower
server 0 convert to follower
server 1 grant true for candidate 2's requestVote
getEntryTerm
server 0 grant true for candidate 2's requestVote
server 2 convert to leader
server 2 term 8 send appendEntries
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 40
lastLogIndex 26, args.PrevLogIndex 40
server 1 receives appendEntry from leader 2 prevLogIndex 40
lastLogIndex 39, args.PrevLogIndex 40
server 1 term 8 state 0(leader false)(heartFlag true)
server 0 receives snopshot from leader 2
server 0 commit snopshot to lastIncludedIndex 39
server 1 receives appendEntry from leader 2 prevLogIndex 39
current commitIndex 39 lastIncludedIndex 39 snapshot exists ? true
update server 1 's matchIndex from 0 to 40
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 40
getEntryTerm
current commitIndex 39 lastIncludedIndex 39 snapshot exists ? true
update server 1 's matchIndex from 40 to 40
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 39
current commitIndex 39 lastIncludedIndex 39 snapshot exists ? true
update server 0 's matchIndex from 39 to 40
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 40
getEntryTerm
current commitIndex 39 lastIncludedIndex 39 snapshot exists ? true
update server 0 's matchIndex from 40 to 40
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 40
getEntryTerm
current commitIndex 39 lastIncludedIndex 39 snapshot exists ? true
update server 1 's matchIndex from 40 to 40
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 8 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 40
getEntryTerm
current commitIndex 39 lastIncludedIndex 39 snapshot exists ? true
update server 0 's matchIndex from 40 to 40
server 1 receives appendEntry from leader 2 prevLogIndex 40
getEntryTerm
current commitIndex 39 lastIncludedIndex 39 snapshot exists ? true
update server 1 's matchIndex from 40 to 40
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 8 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 40
getEntryTerm
current commitIndex 39 lastIncludedIndex 39 snapshot exists ? true
update server 0 's matchIndex from 40 to 40
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 40
getEntryTerm
current commitIndex 39 lastIncludedIndex 39 snapshot exists ? true
getEntryTerm
update server 1 's matchIndex from 40 to 40
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 40
getEntryTerm
current commitIndex 39 lastIncludedIndex 39 snapshot exists ? true
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 40
getEntryTerm
current commitIndex 39 lastIncludedIndex 39 snapshot exists ? true
update server 0 's matchIndex from 40 to 40
getEntryTerm
getEntryTerm
server 0 term 8 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 40
getEntryTerm
current commitIndex 39 lastIncludedIndex 39 snapshot exists ? true
update server 0 's matchIndex from 40 to 40
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 40
getEntryTerm
current commitIndex 39 lastIncludedIndex 39 snapshot exists ? true
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 8 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 40
getEntryTerm
current commitIndex 39 lastIncludedIndex 39 snapshot exists ? true
update server 1 's matchIndex from 40 to 40
getEntryTerm
server 2 term 8 state 2(leader true)(heartFlag false)
nextIndex
41 || 41 || 41 || 
matchIndex
40 || 40 || 40 || 
server 0 receives appendEntry from leader 2 prevLogIndex 40
getEntryTerm
current commitIndex 39 lastIncludedIndex 39 snapshot exists ? true
update server 0 's matchIndex from 40 to 40
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 40
getEntryTerm
current commitIndex 39 lastIncludedIndex 39 snapshot exists ? true
update server 0 's matchIndex from 40 to 40
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 40
getEntryTerm
current commitIndex 39 lastIncludedIndex 39 snapshot exists ? true
update server 1 's matchIndex from 40 to 40
server 0 term 8 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 40
getEntryTerm
current commitIndex 39 lastIncludedIndex 39 snapshot exists ? true
update server 1 's matchIndex from 40 to 40
getEntryTerm
getEntryTerm
server 1 term 8 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 8 state 2(leader true)(heartFlag false)
nextIndex
41 || 41 || 41 || 
matchIndex
40 || 40 || 40 || 
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 40
getEntryTerm
current commitIndex 39 lastIncludedIndex 39 snapshot exists ? true
update server 0 's matchIndex from 40 to 40
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 40
getEntryTerm
current commitIndex 39 lastIncludedIndex 39 snapshot exists ? true
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 40
getEntryTerm
current commitIndex 39 lastIncludedIndex 39 snapshot exists ? true
update server 1 's matchIndex from 40 to 40
server 0 receives appendEntry from leader 2 prevLogIndex 40
getEntryTerm
current commitIndex 39 lastIncludedIndex 39 snapshot exists ? true
update server 0 's matchIndex from 40 to 40
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 8 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 40
getEntryTerm
current commitIndex 39 lastIncludedIndex 39 snapshot exists ? true
update server 0 's matchIndex from 40 to 40
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 40
getEntryTerm
current commitIndex 39 lastIncludedIndex 39 snapshot exists ? true
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 40
getEntryTerm
current commitIndex 39 lastIncludedIndex 39 snapshot exists ? true
getEntryTerm
update server 1 's matchIndex from 40 to 40
server 0 receives appendEntry from leader 2 prevLogIndex 40
getEntryTerm
current commitIndex 39 lastIncludedIndex 39 snapshot exists ? true
update server 0 's matchIndex from 40 to 40
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 8 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 8 state 2(leader true)(heartFlag false)
nextIndex
41 || 41 || 41 || 
matchIndex
40 || 40 || 40 || 
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 40
getEntryTerm
current commitIndex 39 lastIncludedIndex 39 snapshot exists ? true
update server 1 's matchIndex from 40 to 40
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 40
getEntryTerm
current commitIndex 39 lastIncludedIndex 39 snapshot exists ? true
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 8 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 40
getEntryTerm
current commitIndex 39 lastIncludedIndex 39 snapshot exists ? true
update server 0 's matchIndex from 40 to 40
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 40
getEntryTerm
current commitIndex 39 lastIncludedIndex 39 snapshot exists ? true
update server 0 's matchIndex from 40 to 40
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 40
getEntryTerm
current commitIndex 39 lastIncludedIndex 39 snapshot exists ? true
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 40
getEntryTerm
current commitIndex 39 lastIncludedIndex 39 snapshot exists ? true
update server 0 's matchIndex from 40 to 40
server 2 term 8 state 2(leader true)(heartFlag false)
nextIndex
41 || 41 || 41 || 
matchIndex
40 || 40 || 40 || 
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 40
getEntryTerm
current commitIndex 39 lastIncludedIndex 39 snapshot exists ? true
update server 1 's matchIndex from 40 to 40
getEntryTerm
append command 4720820727174019082
len(log) = 41
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 8 state 0(leader false)(heartFlag true)
server 1 receives appendEntry from leader 2 prevLogIndex 40
getEntryTerm
current commitIndex 39 lastIncludedIndex 39 snapshot exists ? true
update server 1 's matchIndex from 40 to 41
getEntryTerm
leader server 2 commit index 40 command 4720820727174019082
leader server 2 commit index 41 command 4720820727174019082
server 0 receives appendEntry from leader 2 prevLogIndex 40
getEntryTerm
current commitIndex 39 lastIncludedIndex 39 snapshot exists ? true
server 0 term 8 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 40
getEntryTerm
current commitIndex 39 lastIncludedIndex 39 snapshot exists ? true
follower server 0 commit index 40 command 4720820727174019082 
follower server 0 commit index 41 command 4720820727174019082 
update server 0 's matchIndex from 40 to 41
server 1 receives appendEntry from leader 2 prevLogIndex 41
getEntryTerm
current commitIndex 39 lastIncludedIndex 39 snapshot exists ? true
follower server 1 commit index 40 command 4720820727174019082 
follower server 1 commit index 41 command 4720820727174019082 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 41
current commitIndex 41 lastIncludedIndex 39 snapshot exists ? true
update server 0 's matchIndex from 41 to 41
server 1 receives appendEntry from leader 2 prevLogIndex 41
current commitIndex 41 lastIncludedIndex 39 snapshot exists ? true
update server 1 's matchIndex from 41 to 41
server 2 term 8 state 2(leader true)(heartFlag false)
nextIndex
42 || 42 || 42 || 
matchIndex
41 || 41 || 41 || 
server 1 term 8 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 41
current commitIndex 41 lastIncludedIndex 39 snapshot exists ? true
update server 1 's matchIndex from 41 to 41
server 0 receives appendEntry from leader 2 prevLogIndex 41
current commitIndex 41 lastIncludedIndex 39 snapshot exists ? true
update server 0 's matchIndex from 41 to 41
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 41
current commitIndex 41 lastIncludedIndex 39 snapshot exists ? true
update server 1 's matchIndex from 41 to 41
server 0 receives appendEntry from leader 2 prevLogIndex 41
current commitIndex 41 lastIncludedIndex 39 snapshot exists ? true
update server 0 's matchIndex from 41 to 41
server 0 term 8 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 41
current commitIndex 41 lastIncludedIndex 39 snapshot exists ? true
update server 0 's matchIndex from 41 to 41
server 1 term 8 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 41
current commitIndex 41 lastIncludedIndex 39 snapshot exists ? true
update server 0 's matchIndex from 41 to 41
server 1 receives appendEntry from leader 2 prevLogIndex 41
current commitIndex 41 lastIncludedIndex 39 snapshot exists ? true
update server 1 's matchIndex from 41 to 41
append command 533703227148428761
len(log) = 42
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 41
current commitIndex 41 lastIncludedIndex 39 snapshot exists ? true
server 2 term 8 state 2(leader true)(heartFlag false)
nextIndex
42 || 42 || 43 || 
matchIndex
41 || 41 || 42 || 
getEntryTerm
getEntryTerm
server 1 term 8 state 0(leader false)(heartFlag true)
server 1 receives appendEntry from leader 2 prevLogIndex 41
current commitIndex 41 lastIncludedIndex 39 snapshot exists ? true
update server 1 's matchIndex from 41 to 42
getEntryTerm
leader server 2 commit index 42 command 533703227148428761
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 42
getEntryTerm
current commitIndex 41 lastIncludedIndex 39 snapshot exists ? true
follower server 1 commit index 42 command 533703227148428761 
update server 1 's matchIndex from 42 to 42
append command 8784631370728519813
len(log) = 43
append command 845237353398654813
len(log) = 44
append command 5928587289340687077
len(log) = 45
append command 5421060577182835346
len(log) = 46
append command 4916961320525167220
len(log) = 47
append command 4328700795142399447
len(log) = 48
append command 62318662843713014
len(log) = 49
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 42
current commitIndex 42 lastIncludedIndex 39 snapshot exists ? true
update server 1 's matchIndex from 42 to 49
getEntryTerm
leader server 2 commit index 43 command 8784631370728519813
leader server 2 commit index 44 command 845237353398654813
leader server 2 commit index 45 command 5928587289340687077
leader server 2 commit index 46 command 5421060577182835346
leader server 2 commit index 47 command 4916961320525167220
leader server 2 commit index 48 command 4328700795142399447
leader server 2 commit index 49 command 62318662843713014
server 2 takes snopshot and discards logs before index 49
getEntryTerm
discard index before 49(included)
server 2 finished snopshot
server 1 receives appendEntry from leader 2 prevLogIndex 49
getEntryTerm
current commitIndex 42 lastIncludedIndex 39 snapshot exists ? true
follower server 1 commit index 43 command 8784631370728519813 
follower server 1 commit index 44 command 845237353398654813 
follower server 1 commit index 45 command 5928587289340687077 
follower server 1 commit index 46 command 5421060577182835346 
follower server 1 commit index 47 command 4916961320525167220 
follower server 1 commit index 48 command 4328700795142399447 
follower server 1 commit index 49 command 62318662843713014 
server 1 takes snopshot and discards logs before index 49
getEntryTerm
discard index before 49(included)
server 1 finished snopshot
server 0 read form stored snapshot
server 0 recover from snopshot
server 0 finishes recovery
server 0 term 8 state 0(leader false)(heartFlag false)
append command 8957736700214775408
len(log) = 50
server 0 term 8 doesn't hear any heartbeat
server 0 convert to candidate
getEntryTerm
getEntryTerm
server 2 term 8 state 2(leader true)(heartFlag false)
nextIndex
42 || 50 || 50 || 
matchIndex
41 || 49 || 49 || 
server 1 convert to follower
server 1 thinks candidate 0 is not up-to-date
server 1 grant false for candidate 0's requestVote
server 2 convert to follower
getEntryTerm
server 2 thinks candidate 0 is not up-to-date
server 2 grant false for candidate 0's requestVote
server 1 term 9 state 0(leader false)(heartFlag true)
server 0 term 9 ElectionTimeOut
server 0 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
getEntryTerm
server 2 thinks candidate 0 is not up-to-date
server 2 grant false for candidate 0's requestVote
server 1 convert to follower
server 1 thinks candidate 0 is not up-to-date
server 1 grant false for candidate 0's requestVote
server 2 term 10 state 0(leader false)(heartFlag false)
server 2 term 10 doesn't hear any heartbeat
server 2 convert to candidate
getEntryTerm
getEntryTerm
server 1 convert to follower
server 1 grant true for candidate 2's requestVote
server 2 convert to leader
server 2 term 11 send appendEntries
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 50
lastLogIndex 49, args.PrevLogIndex 50
server 0 convert to follower
getEntryTerm
server 0 grant true for candidate 2's requestVote
server 0 receives appendEntry from leader 2 prevLogIndex 50
lastLogIndex 41, args.PrevLogIndex 50
server 1 term 11 state 0(leader false)(heartFlag true)
server 1 receives appendEntry from leader 2 prevLogIndex 49
current commitIndex 49 lastIncludedIndex 49 snapshot exists ? true
update server 1 's matchIndex from 0 to 50
getEntryTerm
server 0 receives snopshot from leader 2
server 0 commit snopshot to lastIncludedIndex 49
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 50
getEntryTerm
current commitIndex 49 lastIncludedIndex 49 snapshot exists ? true
update server 1 's matchIndex from 50 to 50
getEntryTerm
server 0 receives snopshot from leader 2
server 0 commit snopshot to lastIncludedIndex 49
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 11 state 0(leader false)(heartFlag true)
server 1 receives appendEntry from leader 2 prevLogIndex 50
getEntryTerm
current commitIndex 49 lastIncludedIndex 49 snapshot exists ? true
update server 1 's matchIndex from 50 to 50
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 49
current commitIndex 49 lastIncludedIndex 49 snapshot exists ? true
update server 0 's matchIndex from 49 to 50
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 50
getEntryTerm
current commitIndex 49 lastIncludedIndex 49 snapshot exists ? true
update server 0 's matchIndex from 50 to 50
server 1 receives appendEntry from leader 2 prevLogIndex 50
getEntryTerm
current commitIndex 49 lastIncludedIndex 49 snapshot exists ? true
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 50
getEntryTerm
current commitIndex 49 lastIncludedIndex 49 snapshot exists ? true
update server 1 's matchIndex from 50 to 50
server 2 term 11 state 2(leader true)(heartFlag false)
nextIndex
51 || 51 || 51 || 
matchIndex
50 || 50 || 50 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 50
getEntryTerm
current commitIndex 49 lastIncludedIndex 49 snapshot exists ? true
update server 0 's matchIndex from 50 to 50
getEntryTerm
server 0 term 11 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 11 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 50
getEntryTerm
current commitIndex 49 lastIncludedIndex 49 snapshot exists ? true
update server 0 's matchIndex from 50 to 50
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 50
getEntryTerm
current commitIndex 49 lastIncludedIndex 49 snapshot exists ? true
update server 1 's matchIndex from 50 to 50
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 50
getEntryTerm
current commitIndex 49 lastIncludedIndex 49 snapshot exists ? true
update server 1 's matchIndex from 50 to 50
server 0 receives appendEntry from leader 2 prevLogIndex 50
getEntryTerm
current commitIndex 49 lastIncludedIndex 49 snapshot exists ? true
update server 0 's matchIndex from 50 to 50
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 50
getEntryTerm
current commitIndex 49 lastIncludedIndex 49 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 50
getEntryTerm
current commitIndex 49 lastIncludedIndex 49 snapshot exists ? true
update server 0 's matchIndex from 50 to 50
update server 1 's matchIndex from 50 to 50
getEntryTerm
getEntryTerm
server 2 term 11 state 2(leader true)(heartFlag false)
nextIndex
51 || 51 || 51 || 
matchIndex
50 || 50 || 50 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 50
getEntryTerm
current commitIndex 49 lastIncludedIndex 49 snapshot exists ? true
update server 1 's matchIndex from 50 to 50
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 50
getEntryTerm
current commitIndex 49 lastIncludedIndex 49 snapshot exists ? true
update server 0 's matchIndex from 50 to 50
getEntryTerm
getEntryTerm
server 0 term 11 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 term 11 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 50
getEntryTerm
current commitIndex 49 lastIncludedIndex 49 snapshot exists ? true
update server 1 's matchIndex from 50 to 50
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 50
getEntryTerm
current commitIndex 49 lastIncludedIndex 49 snapshot exists ? true
update server 0 's matchIndex from 50 to 50
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 50
getEntryTerm
current commitIndex 49 lastIncludedIndex 49 snapshot exists ? true
update server 0 's matchIndex from 50 to 50
server 1 receives appendEntry from leader 2 prevLogIndex 50
getEntryTerm
current commitIndex 49 lastIncludedIndex 49 snapshot exists ? true
update server 1 's matchIndex from 50 to 50
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 11 state 2(leader true)(heartFlag false)
nextIndex
51 || 51 || 51 || 
matchIndex
50 || 50 || 50 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 50
getEntryTerm
current commitIndex 49 lastIncludedIndex 49 snapshot exists ? true
update server 1 's matchIndex from 50 to 50
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 50
getEntryTerm
current commitIndex 49 lastIncludedIndex 49 snapshot exists ? true
update server 0 's matchIndex from 50 to 50
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 50
getEntryTerm
current commitIndex 49 lastIncludedIndex 49 snapshot exists ? true
update server 1 's matchIndex from 50 to 50
getEntryTerm
server 1 term 11 state 0(leader false)(heartFlag true)
server 0 term 11 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 50
getEntryTerm
current commitIndex 49 lastIncludedIndex 49 snapshot exists ? true
update server 1 's matchIndex from 50 to 50
server 0 receives appendEntry from leader 2 prevLogIndex 50
getEntryTerm
current commitIndex 49 lastIncludedIndex 49 snapshot exists ? true
update server 0 's matchIndex from 50 to 50
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 11 state 2(leader true)(heartFlag false)
nextIndex
51 || 51 || 51 || 
matchIndex
50 || 50 || 50 || 
append command 8957736700214775408
len(log) = 51
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 50
getEntryTerm
current commitIndex 49 lastIncludedIndex 49 snapshot exists ? true
update server 0 's matchIndex from 50 to 51
server 1 receives appendEntry from leader 2 prevLogIndex 50
getEntryTerm
current commitIndex 49 lastIncludedIndex 49 snapshot exists ? true
update server 1 's matchIndex from 50 to 51
getEntryTerm
leader server 2 commit index 50 command 8957736700214775408
leader server 2 commit index 51 command 8957736700214775408
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 51
getEntryTerm
current commitIndex 49 lastIncludedIndex 49 snapshot exists ? true
follower server 1 commit index 50 command 8957736700214775408 
follower server 1 commit index 51 command 8957736700214775408 
update server 1 's matchIndex from 51 to 51
server 0 receives appendEntry from leader 2 prevLogIndex 51
getEntryTerm
current commitIndex 49 lastIncludedIndex 49 snapshot exists ? true
follower server 0 commit index 50 command 8957736700214775408 
follower server 0 commit index 51 command 8957736700214775408 
server 1 term 11 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 51
current commitIndex 51 lastIncludedIndex 49 snapshot exists ? true
update server 0 's matchIndex from 51 to 51
server 1 receives appendEntry from leader 2 prevLogIndex 51
current commitIndex 51 lastIncludedIndex 49 snapshot exists ? true
update server 1 's matchIndex from 51 to 51
server 0 term 11 state 0(leader false)(heartFlag true)
server 2 term 11 state 2(leader true)(heartFlag false)
nextIndex
52 || 52 || 52 || 
matchIndex
51 || 51 || 51 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 51
current commitIndex 51 lastIncludedIndex 49 snapshot exists ? true
update server 0 's matchIndex from 51 to 51
server 1 receives appendEntry from leader 2 prevLogIndex 51
current commitIndex 51 lastIncludedIndex 49 snapshot exists ? true
update server 1 's matchIndex from 51 to 51
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 51
current commitIndex 51 lastIncludedIndex 49 snapshot exists ? true
update server 0 's matchIndex from 51 to 51
server 1 receives appendEntry from leader 2 prevLogIndex 51
current commitIndex 51 lastIncludedIndex 49 snapshot exists ? true
update server 1 's matchIndex from 51 to 51
server 1 term 11 state 0(leader false)(heartFlag true)
server 0 term 11 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 51
current commitIndex 51 lastIncludedIndex 49 snapshot exists ? true
update server 1 's matchIndex from 51 to 51
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 51
current commitIndex 51 lastIncludedIndex 49 snapshot exists ? true
update server 1 's matchIndex from 51 to 51
server 0 receives appendEntry from leader 2 prevLogIndex 51
current commitIndex 51 lastIncludedIndex 49 snapshot exists ? true
server 1 term 11 state 0(leader false)(heartFlag true)
server 0 term 11 state 0(leader false)(heartFlag true)
server 1 term 11 state 0(leader false)(heartFlag false)
server 1 term 11 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 0 convert to follower
getEntryTerm
server 0 grant true for candidate 1's requestVote
server 0 term 12 state 0(leader false)(heartFlag true)
server 0 term 12 state 0(leader false)(heartFlag false)
server 0 term 12 doesn't hear any heartbeat
server 0 convert to candidate
getEntryTerm
getEntryTerm
server 1 convert to follower
getEntryTerm
server 1 grant true for candidate 0's requestVote
server 0 convert to leader
server 0 term 13 send appendEntries
getEntryTerm
getEntryTerm
append command 8007599151892067633
len(log) = 52
server 1 receives appendEntry from leader 0 prevLogIndex 51
current commitIndex 51 lastIncludedIndex 49 snapshot exists ? true
update server 1 's matchIndex from 0 to 51
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 51
current commitIndex 51 lastIncludedIndex 49 snapshot exists ? true
update server 1 's matchIndex from 51 to 52
getEntryTerm
leader server 0 commit index 52 command 8007599151892067633
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 52
getEntryTerm
current commitIndex 51 lastIncludedIndex 49 snapshot exists ? true
follower server 1 commit index 52 command 8007599151892067633 
update server 1 's matchIndex from 52 to 52
append command 8533105374873466632
len(log) = 53
append command 1215324921225561160
len(log) = 54
append command 2877938428971704021
len(log) = 55
append command 7047381245748732639
len(log) = 56
append command 1924142718594008900
len(log) = 57
append command 3223999440789988701
len(log) = 58
append command 7154346327354088341
len(log) = 59
append command 1170261843414776512
len(log) = 60
append command 4295407136277174595
len(log) = 61
append command 7192497320534563647
len(log) = 62
append command 2289664979626359380
len(log) = 63
append command 7713024229466986220
len(log) = 64
append command 4009993112938814149
len(log) = 65
append command 5269529588019810635
len(log) = 66
getEntryTerm
getEntryTerm
server 1 term 13 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 52
current commitIndex 52 lastIncludedIndex 49 snapshot exists ? true
update server 1 's matchIndex from 52 to 66
getEntryTerm
leader server 0 commit index 53 command 8533105374873466632
leader server 0 commit index 54 command 1215324921225561160
leader server 0 commit index 55 command 2877938428971704021
leader server 0 commit index 56 command 7047381245748732639
leader server 0 commit index 57 command 1924142718594008900
leader server 0 commit index 58 command 3223999440789988701
leader server 0 commit index 59 command 7154346327354088341
leader server 0 commit index 60 command 1170261843414776512
server 0 takes snopshot and discards logs before index 59
getEntryTerm
discard index before 59(included)
server 0 finished snopshot
leader server 0 commit index 61 command 4295407136277174595
leader server 0 commit index 62 command 7192497320534563647
leader server 0 commit index 63 command 2289664979626359380
leader server 0 commit index 64 command 7713024229466986220
leader server 0 commit index 65 command 4009993112938814149
leader server 0 commit index 66 command 5269529588019810635
server 0 term 13 state 2(leader true)(heartFlag false)
nextIndex
67 || 67 || 52 || 
matchIndex
66 || 66 || 0 || 
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 66
getEntryTerm
current commitIndex 52 lastIncludedIndex 49 snapshot exists ? true
follower server 1 commit index 53 command 8533105374873466632 
follower server 1 commit index 54 command 1215324921225561160 
follower server 1 commit index 55 command 2877938428971704021 
follower server 1 commit index 56 command 7047381245748732639 
follower server 1 commit index 57 command 1924142718594008900 
follower server 1 commit index 58 command 3223999440789988701 
follower server 1 commit index 59 command 7154346327354088341 
follower server 1 commit index 60 command 1170261843414776512 
server 1 takes snopshot and discards logs before index 59
getEntryTerm
discard index before 59(included)
server 1 finished snopshot
follower server 1 commit index 61 command 4295407136277174595 
follower server 1 commit index 62 command 7192497320534563647 
follower server 1 commit index 63 command 2289664979626359380 
follower server 1 commit index 64 command 7713024229466986220 
follower server 1 commit index 65 command 4009993112938814149 
follower server 1 commit index 66 command 5269529588019810635 
server 2 read form stored snapshot
server 2 recover from snopshot
server 2 finishes recovery
append command 2756931047363766153
server 2 term 11 state 0(leader false)(heartFlag false)
server 2 term 11 doesn't hear any heartbeat
server 2 convert to candidate
len(log) = 67
getEntryTerm
getEntryTerm
server 2 convert to follower
getEntryTerm
server 2 receives snopshot from leader 0
server 2 commit snopshot to lastIncludedIndex 59
server 1 receives appendEntry from leader 0 prevLogIndex 66
current commitIndex 66 lastIncludedIndex 59 snapshot exists ? true
server 1 term 13 state 0(leader false)(heartFlag true)
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 59
current commitIndex 59 lastIncludedIndex 59 snapshot exists ? true
follower server 2 commit index 60 command 1170261843414776512 
follower server 2 commit index 61 command 4295407136277174595 
follower server 2 commit index 62 command 7192497320534563647 
follower server 2 commit index 63 command 2289664979626359380 
follower server 2 commit index 64 command 7713024229466986220 
follower server 2 commit index 65 command 4009993112938814149 
follower server 2 commit index 66 command 5269529588019810635 
server 1 receives appendEntry from leader 0 prevLogIndex 66
current commitIndex 66 lastIncludedIndex 59 snapshot exists ? true
update server 1 's matchIndex from 66 to 67
getEntryTerm
leader server 0 commit index 67 command 2756931047363766153
server 0 term 13 state 2(leader true)(heartFlag false)
nextIndex
68 || 68 || 60 || 
matchIndex
67 || 67 || 59 || 
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 67
getEntryTerm
current commitIndex 66 lastIncludedIndex 59 snapshot exists ? true
follower server 1 commit index 67 command 2756931047363766153 
update server 1 's matchIndex from 67 to 67
server 2 receives appendEntry from leader 0 prevLogIndex 59
current commitIndex 66 lastIncludedIndex 59 snapshot exists ? true
follower server 2 commit index 67 command 2756931047363766153 
update server 2 's matchIndex from 59 to 67
getEntryTerm
getEntryTerm
server 1 term 13 state 0(leader false)(heartFlag true)
server 1 receives appendEntry from leader 0 prevLogIndex 67
current commitIndex 67 lastIncludedIndex 59 snapshot exists ? true
update server 1 's matchIndex from 67 to 67
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 67
current commitIndex 67 lastIncludedIndex 59 snapshot exists ? true
update server 1 's matchIndex from 67 to 67
server 0 term 13 state 2(leader true)(heartFlag false)
nextIndex
68 || 68 || 68 || 
matchIndex
67 || 67 || 67 || 
server 2 receives appendEntry from leader 0 prevLogIndex 67
current commitIndex 67 lastIncludedIndex 59 snapshot exists ? true
update server 2 's matchIndex from 67 to 67
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 67
current commitIndex 67 lastIncludedIndex 59 snapshot exists ? true
update server 1 's matchIndex from 67 to 67
server 2 receives appendEntry from leader 0 prevLogIndex 67
current commitIndex 67 lastIncludedIndex 59 snapshot exists ? true
update server 2 's matchIndex from 67 to 67
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 67
current commitIndex 67 lastIncludedIndex 59 snapshot exists ? true
update server 1 's matchIndex from 67 to 67
server 2 receives appendEntry from leader 0 prevLogIndex 67
current commitIndex 67 lastIncludedIndex 59 snapshot exists ? true
update server 2 's matchIndex from 67 to 67
server 2 term 13 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 67
current commitIndex 67 lastIncludedIndex 59 snapshot exists ? true
update server 1 's matchIndex from 67 to 67
append command 4969754396278387448
len(log) = 68
server 2 receives appendEntry from leader 0 prevLogIndex 67
current commitIndex 67 lastIncludedIndex 59 snapshot exists ? true
update server 2 's matchIndex from 67 to 67
server 0 term 13 state 2(leader true)(heartFlag false)
nextIndex
69 || 68 || 68 || 
matchIndex
68 || 67 || 67 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 67
current commitIndex 67 lastIncludedIndex 59 snapshot exists ? true
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 67
current commitIndex 67 lastIncludedIndex 59 snapshot exists ? true
update server 2 's matchIndex from 67 to 68
getEntryTerm
leader server 0 commit index 68 command 4969754396278387448
server 2 term 13 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 68
getEntryTerm
current commitIndex 67 lastIncludedIndex 59 snapshot exists ? true
follower server 2 commit index 68 command 4969754396278387448 
update server 2 's matchIndex from 68 to 68
append command 9091354658162139757
len(log) = 69
append command 1314418061883784733
len(log) = 70
append command 5158193998022457464
len(log) = 71
append command 9201720848732952807
len(log) = 72
append command 2354289075978972030
len(log) = 73
append command 1166804553959910580
len(log) = 74
append command 1764254289445565084
len(log) = 75
append command 5294232424385056346
len(log) = 76
getEntryTerm
getEntryTerm
server 0 term 13 state 2(leader true)(heartFlag false)
nextIndex
77 || 68 || 69 || 
matchIndex
76 || 67 || 68 || 
server 2 receives appendEntry from leader 0 prevLogIndex 68
current commitIndex 68 lastIncludedIndex 59 snapshot exists ? true
update server 2 's matchIndex from 68 to 76
getEntryTerm
leader server 0 commit index 69 command 9091354658162139757
leader server 0 commit index 70 command 1314418061883784733
server 0 takes snopshot and discards logs before index 69
getEntryTerm
discard index before 69(included)
server 0 finished snopshot
leader server 0 commit index 71 command 5158193998022457464
leader server 0 commit index 72 command 9201720848732952807
leader server 0 commit index 73 command 2354289075978972030
leader server 0 commit index 74 command 1166804553959910580
leader server 0 commit index 75 command 1764254289445565084
leader server 0 commit index 76 command 5294232424385056346
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 76
getEntryTerm
current commitIndex 68 lastIncludedIndex 59 snapshot exists ? true
follower server 2 commit index 69 command 9091354658162139757 
follower server 2 commit index 70 command 1314418061883784733 
server 2 takes snopshot and discards logs before index 69
getEntryTerm
discard index before 69(included)
server 2 finished snopshot
follower server 2 commit index 71 command 5158193998022457464 
follower server 2 commit index 72 command 9201720848732952807 
follower server 2 commit index 73 command 2354289075978972030 
follower server 2 commit index 74 command 1166804553959910580 
follower server 2 commit index 75 command 1764254289445565084 
follower server 2 commit index 76 command 5294232424385056346 
update server 2 's matchIndex from 76 to 76
server 1 read form stored snapshot
server 1 recover from snopshot
server 1 finishes recovery
append command 753816510641550254
server 1 term 13 state 0(leader false)(heartFlag false)
server 1 term 13 doesn't hear any heartbeat
server 1 convert to candidate
len(log) = 77
getEntryTerm
getEntryTerm
server 2 convert to follower
getEntryTerm
server 2 thinks candidate 1 is not up-to-date
server 2 grant false for candidate 1's requestVote
server 2 term 14 state 0(leader false)(heartFlag true)
server 0 convert to follower
getEntryTerm
server 0 thinks candidate 1 is not up-to-date
server 0 grant false for candidate 1's requestVote
server 0 term 14 state 0(leader false)(heartFlag false)
server 0 term 14 doesn't hear any heartbeat
server 0 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
getEntryTerm
server 2 grant true for candidate 0's requestVote
server 1 term 14 ElectionTimeOut
server 1 convert to candidate
getEntryTerm
getEntryTerm
getEntryTerm
server 0 already has a voteFor 0 but not candidate 1
server 0 grant false for candidate 1's requestVote
getEntryTerm
server 2 already has a voteFor 0 but not candidate 1
server 2 grant false for candidate 1's requestVote
server 2 term 15 state 0(leader false)(heartFlag true)
server 0 term 15 ElectionTimeOut
server 0 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
getEntryTerm
server 2 grant true for candidate 0's requestVote
server 0 convert to leader
server 0 term 16 send appendEntries
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 77
server 1 convert to follower
lastLogIndex 67, args.PrevLogIndex 77
server 2 receives appendEntry from leader 0 prevLogIndex 77
lastLogIndex 76, args.PrevLogIndex 77
getEntryTerm
server 1 grant true for candidate 0's requestVote
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 77
lastLogIndex 76, args.PrevLogIndex 77
server 1 receives snopshot from leader 0
server 1 commit snopshot to lastIncludedIndex 69
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 69
current commitIndex 69 lastIncludedIndex 69 snapshot exists ? true
follower server 1 commit index 70 command 1314418061883784733 
follower server 1 commit index 71 command 5158193998022457464 
follower server 1 commit index 72 command 9201720848732952807 
follower server 1 commit index 73 command 2354289075978972030 
follower server 1 commit index 74 command 1166804553959910580 
follower server 1 commit index 75 command 1764254289445565084 
follower server 1 commit index 76 command 5294232424385056346 
update server 1 's matchIndex from 69 to 77
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 77
lastLogIndex 76, args.PrevLogIndex 77
getEntryTerm
server 2 term 16 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 76
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 0 to 77
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 77 to 77
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 1 's matchIndex from 77 to 77
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 16 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 77 to 77
server 1 receives appendEntry from leader 0 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 1 's matchIndex from 77 to 77
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 16 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 term 16 state 2(leader true)(heartFlag false)
nextIndex
78 || 78 || 78 || 
matchIndex
77 || 77 || 77 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 1 's matchIndex from 77 to 77
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 16 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
server 2 term 16 state 0(leader false)(heartFlag true)
server 2 receives appendEntry from leader 0 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
getEntryTerm
update server 2 's matchIndex from 77 to 77
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 77 to 77
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 1 's matchIndex from 77 to 77
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 16 state 2(leader true)(heartFlag false)
nextIndex
78 || 78 || 78 || 
matchIndex
77 || 77 || 77 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 77 to 77
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 1 's matchIndex from 77 to 77
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 1 's matchIndex from 77 to 77
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
server 2 term 16 state 0(leader false)(heartFlag true)
update server 2 's matchIndex from 77 to 77
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 16 state 0(leader false)(heartFlag true)
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 77 to 77
getEntryTerm
server 0 term 16 state 2(leader true)(heartFlag false)
nextIndex
78 || 78 || 78 || 
matchIndex
77 || 77 || 77 || 
server 1 receives appendEntry from leader 0 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 1 's matchIndex from 77 to 77
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 77 to 77
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 1 's matchIndex from 77 to 77
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 1 's matchIndex from 77 to 77
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 77 to 77
server 2 term 16 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 16 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 1 's matchIndex from 77 to 77
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 77 to 77
getEntryTerm
getEntryTerm
append command 753816510641550254
len(log) = 78
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 16 state 2(leader true)(heartFlag false)
nextIndex
79 || 78 || 78 || 
matchIndex
78 || 77 || 77 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 77 to 78
getEntryTerm
leader server 0 commit index 77 command 753816510641550254
leader server 0 commit index 78 command 753816510641550254
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 77
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
follower server 1 commit index 77 command 753816510641550254 
follower server 1 commit index 78 command 753816510641550254 
update server 1 's matchIndex from 77 to 78
server 2 receives appendEntry from leader 0 prevLogIndex 78
getEntryTerm
current commitIndex 76 lastIncludedIndex 69 snapshot exists ? true
follower server 2 commit index 77 command 753816510641550254 
follower server 2 commit index 78 command 753816510641550254 
update server 2 's matchIndex from 78 to 78
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 78
current commitIndex 78 lastIncludedIndex 69 snapshot exists ? true
update server 1 's matchIndex from 78 to 78
server 2 receives appendEntry from leader 0 prevLogIndex 78
current commitIndex 78 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 78 to 78
server 2 term 16 state 0(leader false)(heartFlag true)
server 1 term 16 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 78
current commitIndex 78 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 78 to 78
server 0 term 16 state 2(leader true)(heartFlag false)
nextIndex
79 || 79 || 79 || 
matchIndex
78 || 78 || 78 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 78
current commitIndex 78 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 78 to 78
server 1 receives appendEntry from leader 0 prevLogIndex 78
current commitIndex 78 lastIncludedIndex 69 snapshot exists ? true
update server 1 's matchIndex from 78 to 78
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 78
current commitIndex 78 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 78 to 78
server 1 receives appendEntry from leader 0 prevLogIndex 78
current commitIndex 78 lastIncludedIndex 69 snapshot exists ? true
update server 1 's matchIndex from 78 to 78
server 2 term 16 state 0(leader false)(heartFlag true)
server 1 term 16 state 0(leader false)(heartFlag true)
append command 2695676851343419188
len(log) = 79
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 78
current commitIndex 78 lastIncludedIndex 69 snapshot exists ? true
update server 2 's matchIndex from 78 to 79
getEntryTerm
leader server 0 commit index 79 command 2695676851343419188
server 0 takes snopshot and discards logs before index 79
getEntryTerm
discard index before 79(included)
server 0 finished snopshot
server 2 receives appendEntry from leader 0 prevLogIndex 79
getEntryTerm
current commitIndex 78 lastIncludedIndex 69 snapshot exists ? true
follower server 2 commit index 79 command 2695676851343419188 
server 2 takes snopshot and discards logs before index 79
getEntryTerm
discard index before 79(included)
server 2 finished snopshot
update server 2 's matchIndex from 79 to 79
append command 3905607443936933127
len(log) = 80
append command 500780517314113301
len(log) = 81
append command 8463001402148411523
len(log) = 82
append command 8572458412973840590
len(log) = 83
append command 5598534287327091407
len(log) = 84
append command 2180964725545352513
len(log) = 85
append command 5461266554737931316
len(log) = 86
append command 4070107074234008536
len(log) = 87
append command 5811550960941234628
len(log) = 88
append command 7974641421018840082
len(log) = 89
server 0 term 16 state 2(leader true)(heartFlag false)
nextIndex
90 || 79 || 80 || 
matchIndex
89 || 78 || 79 || 
server 2 receives appendEntry from leader 0 prevLogIndex 79
current commitIndex 79 lastIncludedIndex 79 snapshot exists ? true
update server 2 's matchIndex from 79 to 89
getEntryTerm
leader server 0 commit index 80 command 3905607443936933127
leader server 0 commit index 81 command 500780517314113301
leader server 0 commit index 82 command 8463001402148411523
leader server 0 commit index 83 command 8572458412973840590
leader server 0 commit index 84 command 5598534287327091407
leader server 0 commit index 85 command 2180964725545352513
leader server 0 commit index 86 command 5461266554737931316
leader server 0 commit index 87 command 4070107074234008536
leader server 0 commit index 88 command 5811550960941234628
leader server 0 commit index 89 command 7974641421018840082
server 0 takes snopshot and discards logs before index 89
getEntryTerm
discard index before 89(included)
server 0 finished snopshot
server 2 receives appendEntry from leader 0 prevLogIndex 89
getEntryTerm
current commitIndex 79 lastIncludedIndex 79 snapshot exists ? true
follower server 2 commit index 80 command 3905607443936933127 
follower server 2 commit index 81 command 500780517314113301 
follower server 2 commit index 82 command 8463001402148411523 
follower server 2 commit index 83 command 8572458412973840590 
follower server 2 commit index 84 command 5598534287327091407 
follower server 2 commit index 85 command 2180964725545352513 
follower server 2 commit index 86 command 5461266554737931316 
follower server 2 commit index 87 command 4070107074234008536 
follower server 2 commit index 88 command 5811550960941234628 
follower server 2 commit index 89 command 7974641421018840082 
server 2 takes snopshot and discards logs before index 89
getEntryTerm
discard index before 89(included)
server 2 finished snopshot
update server 2 's matchIndex from 89 to 89
server 2 term 16 state 0(leader false)(heartFlag true)
server 1 read form stored snapshot
server 1 recover from snopshot
server 1 finishes recovery
append command 6907895027941779013
server 1 term 16 state 0(leader false)(heartFlag false)
server 1 term 16 doesn't hear any heartbeat
server 1 convert to candidate
len(log) = 90
getEntryTerm
getEntryTerm
server 2 convert to follower
server 2 thinks candidate 1 is not up-to-date
server 2 grant false for candidate 1's requestVote
server 0 convert to follower
getEntryTerm
server 0 thinks candidate 1 is not up-to-date
server 0 grant false for candidate 1's requestVote
server 0 term 17 state 0(leader false)(heartFlag false)
server 0 term 17 doesn't hear any heartbeat
server 0 convert to candidate
getEntryTerm
getEntryTerm
server 1 convert to follower
getEntryTerm
server 1 grant true for candidate 0's requestVote
server 0 convert to leader
server 0 term 18 send appendEntries
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 90
server 2 convert to follower
lastLogIndex 89, args.PrevLogIndex 90
server 1 receives appendEntry from leader 0 prevLogIndex 90
lastLogIndex 78, args.PrevLogIndex 90
server 2 term 18 state 0(leader false)(heartFlag true)
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 89
current commitIndex 89 lastIncludedIndex 89 snapshot exists ? true
update server 2 's matchIndex from 0 to 90
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 90
getEntryTerm
current commitIndex 89 lastIncludedIndex 89 snapshot exists ? true
update server 2 's matchIndex from 90 to 90
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 90
lastLogIndex 78, args.PrevLogIndex 90
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 90
getEntryTerm
current commitIndex 89 lastIncludedIndex 89 snapshot exists ? true
getEntryTerm
server 1 receives snopshot from leader 0
server 1 commit snopshot to lastIncludedIndex 89
getEntryTerm
getEntryTerm
server 2 term 18 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 90
getEntryTerm
current commitIndex 89 lastIncludedIndex 89 snapshot exists ? true
getEntryTerm
server 1 term 18 state 0(leader false)(heartFlag true)
server 1 receives appendEntry from leader 0 prevLogIndex 89
current commitIndex 89 lastIncludedIndex 89 snapshot exists ? true
update server 1 's matchIndex from 89 to 90
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 90
getEntryTerm
current commitIndex 89 lastIncludedIndex 89 snapshot exists ? true
update server 1 's matchIndex from 90 to 90
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 90
getEntryTerm
current commitIndex 89 lastIncludedIndex 89 snapshot exists ? true
getEntryTerm
server 2 term 18 state 0(leader false)(heartFlag true)
server 0 term 18 state 2(leader true)(heartFlag false)
nextIndex
91 || 91 || 91 || 
matchIndex
90 || 90 || 90 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 90
getEntryTerm
current commitIndex 89 lastIncludedIndex 89 snapshot exists ? true
update server 2 's matchIndex from 90 to 90
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 90
getEntryTerm
current commitIndex 89 lastIncludedIndex 89 snapshot exists ? true
update server 1 's matchIndex from 90 to 90
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 90
getEntryTerm
current commitIndex 89 lastIncludedIndex 89 snapshot exists ? true
update server 2 's matchIndex from 90 to 90
server 1 receives appendEntry from leader 0 prevLogIndex 90
getEntryTerm
current commitIndex 89 lastIncludedIndex 89 snapshot exists ? true
update server 1 's matchIndex from 90 to 90
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 18 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 90
getEntryTerm
current commitIndex 89 lastIncludedIndex 89 snapshot exists ? true
update server 1 's matchIndex from 90 to 90
server 2 receives appendEntry from leader 0 prevLogIndex 90
getEntryTerm
current commitIndex 89 lastIncludedIndex 89 snapshot exists ? true
update server 2 's matchIndex from 90 to 90
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 18 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 90
getEntryTerm
current commitIndex 89 lastIncludedIndex 89 snapshot exists ? true
update server 1 's matchIndex from 90 to 90
server 2 receives appendEntry from leader 0 prevLogIndex 90
getEntryTerm
current commitIndex 89 lastIncludedIndex 89 snapshot exists ? true
update server 2 's matchIndex from 90 to 90
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 18 state 2(leader true)(heartFlag false)
nextIndex
91 || 91 || 91 || 
matchIndex
90 || 90 || 90 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 90
getEntryTerm
current commitIndex 89 lastIncludedIndex 89 snapshot exists ? true
update server 1 's matchIndex from 90 to 90
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 90
getEntryTerm
current commitIndex 89 lastIncludedIndex 89 snapshot exists ? true
update server 2 's matchIndex from 90 to 90
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 90
getEntryTerm
current commitIndex 89 lastIncludedIndex 89 snapshot exists ? true
update server 2 's matchIndex from 90 to 90
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 90
getEntryTerm
current commitIndex 89 lastIncludedIndex 89 snapshot exists ? true
update server 1 's matchIndex from 90 to 90
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 18 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 90
getEntryTerm
current commitIndex 89 lastIncludedIndex 89 snapshot exists ? true
update server 2 's matchIndex from 90 to 90
server 1 receives appendEntry from leader 0 prevLogIndex 90
getEntryTerm
current commitIndex 89 lastIncludedIndex 89 snapshot exists ? true
update server 1 's matchIndex from 90 to 90
getEntryTerm
getEntryTerm
server 2 term 18 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 90
getEntryTerm
current commitIndex 89 lastIncludedIndex 89 snapshot exists ? true
update server 2 's matchIndex from 90 to 90
server 1 receives appendEntry from leader 0 prevLogIndex 90
getEntryTerm
current commitIndex 89 lastIncludedIndex 89 snapshot exists ? true
update server 1 's matchIndex from 90 to 90
getEntryTerm
getEntryTerm
server 0 term 18 state 2(leader true)(heartFlag false)
nextIndex
91 || 91 || 91 || 
matchIndex
90 || 90 || 90 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 90
getEntryTerm
current commitIndex 89 lastIncludedIndex 89 snapshot exists ? true
update server 1 's matchIndex from 90 to 90
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 90
getEntryTerm
current commitIndex 89 lastIncludedIndex 89 snapshot exists ? true
update server 2 's matchIndex from 90 to 90
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 18 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 90
getEntryTerm
current commitIndex 89 lastIncludedIndex 89 snapshot exists ? true
update server 2 's matchIndex from 90 to 90
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 90
getEntryTerm
current commitIndex 89 lastIncludedIndex 89 snapshot exists ? true
update server 1 's matchIndex from 90 to 90
append command 6907895027941779013
len(log) = 91
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 18 state 2(leader true)(heartFlag false)
nextIndex
92 || 91 || 91 || 
matchIndex
91 || 90 || 90 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 18 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 90
getEntryTerm
current commitIndex 89 lastIncludedIndex 89 snapshot exists ? true
update server 2 's matchIndex from 90 to 91
getEntryTerm
leader server 0 commit index 90 command 6907895027941779013
leader server 0 commit index 91 command 6907895027941779013
server 1 receives appendEntry from leader 0 prevLogIndex 90
getEntryTerm
current commitIndex 89 lastIncludedIndex 89 snapshot exists ? true
update server 1 's matchIndex from 90 to 91
server 1 term 18 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 term 18 state 2(leader true)(heartFlag false)
nextIndex
92 || 92 || 92 || 
matchIndex
91 || 91 || 91 || 
server 2 receives appendEntry from leader 0 prevLogIndex 91
getEntryTerm
current commitIndex 89 lastIncludedIndex 89 snapshot exists ? true
follower server 2 commit index 90 command 6907895027941779013 
follower server 2 commit index 91 command 6907895027941779013 
update server 2 's matchIndex from 91 to 91
server 1 receives appendEntry from leader 0 prevLogIndex 91
getEntryTerm
current commitIndex 89 lastIncludedIndex 89 snapshot exists ? true
follower server 1 commit index 90 command 6907895027941779013 
follower server 1 commit index 91 command 6907895027941779013 
update server 1 's matchIndex from 91 to 91
getEntryTerm
getEntryTerm
server 2 term 18 state 0(leader false)(heartFlag true)
server 1 receives appendEntry from leader 0 prevLogIndex 91
current commitIndex 91 lastIncludedIndex 89 snapshot exists ? true
update server 1 's matchIndex from 91 to 91
server 2 receives appendEntry from leader 0 prevLogIndex 91
current commitIndex 91 lastIncludedIndex 89 snapshot exists ? true
update server 2 's matchIndex from 91 to 91
server 1 term 18 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 91
current commitIndex 91 lastIncludedIndex 89 snapshot exists ? true
update server 2 's matchIndex from 91 to 91
server 1 receives appendEntry from leader 0 prevLogIndex 91
current commitIndex 91 lastIncludedIndex 89 snapshot exists ? true
update server 1 's matchIndex from 91 to 91
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 91
current commitIndex 91 lastIncludedIndex 89 snapshot exists ? true
update server 2 's matchIndex from 91 to 91
server 1 receives appendEntry from leader 0 prevLogIndex 91
current commitIndex 91 lastIncludedIndex 89 snapshot exists ? true
update server 1 's matchIndex from 91 to 91
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 91
current commitIndex 91 lastIncludedIndex 89 snapshot exists ? true
server 0 term 18 state 2(leader true)(heartFlag false)
nextIndex
92 || 92 || 92 || 
matchIndex
91 || 91 || 91 || 
server 1 receives appendEntry from leader 0 prevLogIndex 91
current commitIndex 91 lastIncludedIndex 89 snapshot exists ? true
update server 1 's matchIndex from 91 to 91
server 1 term 18 state 0(leader false)(heartFlag true)
server 2 term 18 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 91
current commitIndex 91 lastIncludedIndex 89 snapshot exists ? true
update server 2 's matchIndex from 91 to 91
server 2 term 18 state 0(leader false)(heartFlag true)
server 1 term 18 state 0(leader false)(heartFlag false)
server 1 term 18 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
getEntryTerm
server 2 grant true for candidate 1's requestVote
server 1 convert to leader
server 1 term 19 send appendEntries
getEntryTerm
getEntryTerm
append command 3801045859445938996
len(log) = 92
server 2 receives appendEntry from leader 1 prevLogIndex 91
current commitIndex 91 lastIncludedIndex 89 snapshot exists ? true
update server 2 's matchIndex from 0 to 91
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 91
current commitIndex 91 lastIncludedIndex 89 snapshot exists ? true
update server 2 's matchIndex from 91 to 92
getEntryTerm
leader server 1 commit index 92 command 3801045859445938996
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 92
getEntryTerm
current commitIndex 91 lastIncludedIndex 89 snapshot exists ? true
follower server 2 commit index 92 command 3801045859445938996 
update server 2 's matchIndex from 92 to 92
append command 7544592951759885798
len(log) = 93
append command 7553759029589506523
len(log) = 94
append command 3255929560132437799
len(log) = 95
append command 926770004311825865
len(log) = 96
append command 7788549074807990761
len(log) = 97
append command 8484957892211214210
len(log) = 98
append command 3110905091561318819
len(log) = 99
append command 4164256543304486970
len(log) = 100
append command 4531071131772211591
len(log) = 101
append command 6231908140864038067
len(log) = 102
append command 3153141619608622922
len(log) = 103
append command 8295995798268686916
len(log) = 104
append command 200115813936138139
len(log) = 105
append command 7718017900827553794
len(log) = 106
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 92
current commitIndex 92 lastIncludedIndex 89 snapshot exists ? true
update server 2 's matchIndex from 92 to 106
getEntryTerm
leader server 1 commit index 93 command 7544592951759885798
leader server 1 commit index 94 command 7553759029589506523
leader server 1 commit index 95 command 3255929560132437799
leader server 1 commit index 96 command 926770004311825865
leader server 1 commit index 97 command 7788549074807990761
leader server 1 commit index 98 command 8484957892211214210
leader server 1 commit index 99 command 3110905091561318819
leader server 1 commit index 100 command 4164256543304486970
server 1 takes snopshot and discards logs before index 99
getEntryTerm
discard index before 99(included)
server 1 finished snopshot
leader server 1 commit index 101 command 4531071131772211591
leader server 1 commit index 102 command 6231908140864038067
leader server 1 commit index 103 command 3153141619608622922
leader server 1 commit index 104 command 8295995798268686916
leader server 1 commit index 105 command 200115813936138139
leader server 1 commit index 106 command 7718017900827553794
server 2 term 19 state 0(leader false)(heartFlag true)
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 106
getEntryTerm
current commitIndex 92 lastIncludedIndex 89 snapshot exists ? true
follower server 2 commit index 93 command 7544592951759885798 
follower server 2 commit index 94 command 7553759029589506523 
follower server 2 commit index 95 command 3255929560132437799 
follower server 2 commit index 96 command 926770004311825865 
follower server 2 commit index 97 command 7788549074807990761 
follower server 2 commit index 98 command 8484957892211214210 
follower server 2 commit index 99 command 3110905091561318819 
follower server 2 commit index 100 command 4164256543304486970 
server 2 takes snopshot and discards logs before index 99
getEntryTerm
discard index before 99(included)
server 2 finished snopshot
follower server 2 commit index 101 command 4531071131772211591 
follower server 2 commit index 102 command 6231908140864038067 
follower server 2 commit index 103 command 3153141619608622922 
follower server 2 commit index 104 command 8295995798268686916 
follower server 2 commit index 105 command 200115813936138139 
follower server 2 commit index 106 command 7718017900827553794 
update server 2 's matchIndex from 106 to 106
server 0 read form stored snapshot
server 0 recover from snopshot
server 0 finishes recovery
append command 6545093834453857472
server 0 term 18 state 0(leader false)(heartFlag false)
server 0 term 18 doesn't hear any heartbeat
server 0 convert to candidate
len(log) = 107
getEntryTerm
getEntryTerm
getEntryTerm
server 2 already has a voteFor 1 but not candidate 0
server 2 grant false for candidate 0's requestVote
getEntryTerm
server 1 already has a voteFor 1 but not candidate 0
server 1 grant false for candidate 0's requestVote
getEntryTerm
server 0 receives snopshot from leader 1
server 0 commit snopshot to lastIncludedIndex 99
server 2 receives appendEntry from leader 1 prevLogIndex 106
current commitIndex 106 lastIncludedIndex 99 snapshot exists ? true
update server 2 's matchIndex from 106 to 107
getEntryTerm
leader server 1 commit index 107 command 6545093834453857472
server 1 term 19 state 2(leader true)(heartFlag false)
nextIndex
100 || 108 || 108 || 
matchIndex
99 || 107 || 107 || 
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 107
getEntryTerm
current commitIndex 106 lastIncludedIndex 99 snapshot exists ? true
follower server 2 commit index 107 command 6545093834453857472 
update server 2 's matchIndex from 107 to 107
server 2 term 19 state 0(leader false)(heartFlag true)
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 107
current commitIndex 107 lastIncludedIndex 99 snapshot exists ? true
update server 2 's matchIndex from 107 to 107
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 99
server 0 convert to follower
current commitIndex 99 lastIncludedIndex 99 snapshot exists ? true
follower server 0 commit index 100 command 4164256543304486970 
follower server 0 commit index 101 command 4531071131772211591 
follower server 0 commit index 102 command 6231908140864038067 
follower server 0 commit index 103 command 3153141619608622922 
follower server 0 commit index 104 command 8295995798268686916 
follower server 0 commit index 105 command 200115813936138139 
follower server 0 commit index 106 command 7718017900827553794 
follower server 0 commit index 107 command 6545093834453857472 
update server 0 's matchIndex from 99 to 107
server 2 receives appendEntry from leader 1 prevLogIndex 107
current commitIndex 107 lastIncludedIndex 99 snapshot exists ? true
update server 2 's matchIndex from 107 to 107
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 107
current commitIndex 107 lastIncludedIndex 99 snapshot exists ? true
update server 2 's matchIndex from 107 to 107
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 107
current commitIndex 107 lastIncludedIndex 99 snapshot exists ? true
update server 0 's matchIndex from 107 to 107
server 1 term 19 state 2(leader true)(heartFlag false)
nextIndex
108 || 108 || 108 || 
matchIndex
107 || 107 || 107 || 
server 2 receives appendEntry from leader 1 prevLogIndex 107
current commitIndex 107 lastIncludedIndex 99 snapshot exists ? true
update server 2 's matchIndex from 107 to 107
server 2 term 19 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 107
current commitIndex 107 lastIncludedIndex 99 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 107
current commitIndex 107 lastIncludedIndex 99 snapshot exists ? true
update server 0 's matchIndex from 107 to 107
server 0 term 19 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 107
current commitIndex 107 lastIncludedIndex 99 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 107
current commitIndex 107 lastIncludedIndex 99 snapshot exists ? true
update server 0 's matchIndex from 107 to 107
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 107
current commitIndex 107 lastIncludedIndex 99 snapshot exists ? true
update server 2 's matchIndex from 107 to 107
server 0 receives appendEntry from leader 1 prevLogIndex 107
current commitIndex 107 lastIncludedIndex 99 snapshot exists ? true
update server 0 's matchIndex from 107 to 107
append command 4947968229634084227
len(log) = 108
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 107
current commitIndex 107 lastIncludedIndex 99 snapshot exists ? true
update server 0 's matchIndex from 107 to 108
server 0 term 19 state 0(leader false)(heartFlag true)
getEntryTerm
leader server 1 commit index 108 command 4947968229634084227
server 1 term 19 state 2(leader true)(heartFlag false)
nextIndex
109 || 109 || 108 || 
matchIndex
108 || 108 || 107 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 108
getEntryTerm
current commitIndex 107 lastIncludedIndex 99 snapshot exists ? true
follower server 0 commit index 108 command 4947968229634084227 
update server 0 's matchIndex from 108 to 108
append command 7219408352241099686
len(log) = 109
append command 7677823577164923504
len(log) = 110
append command 3920483163651113377
len(log) = 111
append command 5233366639334393578
len(log) = 112
append command 8543419986919971286
len(log) = 113
append command 5966308385114229437
len(log) = 114
append command 7598594673522423576
len(log) = 115
append command 8327579259272446224
len(log) = 116
append command 7575343299777835114
len(log) = 117
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 108
current commitIndex 108 lastIncludedIndex 99 snapshot exists ? true
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 108
current commitIndex 108 lastIncludedIndex 99 snapshot exists ? true
server 0 term 19 state 0(leader false)(heartFlag true)
update server 0 's matchIndex from 108 to 117
getEntryTerm
leader server 1 commit index 109 command 7219408352241099686
leader server 1 commit index 110 command 7677823577164923504
server 1 takes snopshot and discards logs before index 109
getEntryTerm
discard index before 109(included)
server 1 finished snopshot
leader server 1 commit index 111 command 3920483163651113377
leader server 1 commit index 112 command 5233366639334393578
leader server 1 commit index 113 command 8543419986919971286
leader server 1 commit index 114 command 5966308385114229437
leader server 1 commit index 115 command 7598594673522423576
leader server 1 commit index 116 command 8327579259272446224
leader server 1 commit index 117 command 7575343299777835114
server 1 term 19 state 2(leader true)(heartFlag false)
nextIndex
118 || 118 || 108 || 
matchIndex
117 || 117 || 107 || 
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 117
getEntryTerm
current commitIndex 108 lastIncludedIndex 99 snapshot exists ? true
follower server 0 commit index 109 command 7219408352241099686 
follower server 0 commit index 110 command 7677823577164923504 
server 0 takes snopshot and discards logs before index 109
getEntryTerm
discard index before 109(included)
server 0 finished snopshot
follower server 0 commit index 111 command 3920483163651113377 
follower server 0 commit index 112 command 5233366639334393578 
follower server 0 commit index 113 command 8543419986919971286 
follower server 0 commit index 114 command 5966308385114229437 
follower server 0 commit index 115 command 7598594673522423576 
follower server 0 commit index 116 command 8327579259272446224 
follower server 0 commit index 117 command 7575343299777835114 
update server 0 's matchIndex from 117 to 117
server 2 read form stored snapshot
server 2 recover from snopshot
server 2 finishes recovery
append command 8192066642832262253
server 2 term 19 state 0(leader false)(heartFlag false)
server 2 term 19 doesn't hear any heartbeat
server 2 convert to candidate
len(log) = 118
getEntryTerm
getEntryTerm
server 1 convert to follower
getEntryTerm
server 1 thinks candidate 2 is not up-to-date
server 1 grant false for candidate 2's requestVote
server 0 convert to follower
getEntryTerm
server 0 thinks candidate 2 is not up-to-date
server 0 grant false for candidate 2's requestVote
server 1 term 20 state 0(leader false)(heartFlag false)
server 1 term 20 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
getEntryTerm
server 2 grant true for candidate 1's requestVote
server 1 convert to leader
server 1 term 21 send appendEntries
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 118
lastLogIndex 107, args.PrevLogIndex 118
server 0 convert to follower
getEntryTerm
server 0 grant true for candidate 1's requestVote
server 0 term 21 state 0(leader false)(heartFlag true)
getEntryTerm
server 2 receives snopshot from leader 1
server 2 commit snopshot to lastIncludedIndex 109
server 0 receives appendEntry from leader 1 prevLogIndex 118
lastLogIndex 117, args.PrevLogIndex 118
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 109
current commitIndex 109 lastIncludedIndex 109 snapshot exists ? true
follower server 2 commit index 110 command 7677823577164923504 
follower server 2 commit index 111 command 3920483163651113377 
follower server 2 commit index 112 command 5233366639334393578 
follower server 2 commit index 113 command 8543419986919971286 
follower server 2 commit index 114 command 5966308385114229437 
follower server 2 commit index 115 command 7598594673522423576 
follower server 2 commit index 116 command 8327579259272446224 
follower server 2 commit index 117 command 7575343299777835114 
update server 2 's matchIndex from 109 to 118
server 0 receives appendEntry from leader 1 prevLogIndex 118
lastLogIndex 117, args.PrevLogIndex 118
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 117
current commitIndex 117 lastIncludedIndex 109 snapshot exists ? true
update server 0 's matchIndex from 0 to 118
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 118
getEntryTerm
current commitIndex 117 lastIncludedIndex 109 snapshot exists ? true
update server 2 's matchIndex from 118 to 118
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 118
getEntryTerm
current commitIndex 117 lastIncludedIndex 109 snapshot exists ? true
update server 0 's matchIndex from 118 to 118
getEntryTerm
getEntryTerm
server 0 term 21 state 0(leader false)(heartFlag true)
server 2 receives appendEntry from leader 1 prevLogIndex 118
getEntryTerm
current commitIndex 117 lastIncludedIndex 109 snapshot exists ? true
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 21 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 118
getEntryTerm
current commitIndex 117 lastIncludedIndex 109 snapshot exists ? true
update server 0 's matchIndex from 118 to 118
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 118
getEntryTerm
current commitIndex 117 lastIncludedIndex 109 snapshot exists ? true
update server 2 's matchIndex from 118 to 118
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 118
getEntryTerm
current commitIndex 117 lastIncludedIndex 109 snapshot exists ? true
update server 0 's matchIndex from 118 to 118
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 21 state 2(leader true)(heartFlag false)
nextIndex
119 || 119 || 119 || 
matchIndex
118 || 118 || 118 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 118
getEntryTerm
current commitIndex 117 lastIncludedIndex 109 snapshot exists ? true
update server 0 's matchIndex from 118 to 118
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 118
getEntryTerm
current commitIndex 117 lastIncludedIndex 109 snapshot exists ? true
update server 2 's matchIndex from 118 to 118
getEntryTerm
getEntryTerm
server 0 term 21 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 118
getEntryTerm
current commitIndex 117 lastIncludedIndex 109 snapshot exists ? true
update server 0 's matchIndex from 118 to 118
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 21 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 118
getEntryTerm
current commitIndex 117 lastIncludedIndex 109 snapshot exists ? true
update server 2 's matchIndex from 118 to 118
getEntryTerm
getEntryTerm
server 1 term 21 state 2(leader true)(heartFlag false)
nextIndex
119 || 119 || 119 || 
matchIndex
118 || 118 || 118 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 118
getEntryTerm
current commitIndex 117 lastIncludedIndex 109 snapshot exists ? true
update server 2 's matchIndex from 118 to 118
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 118
getEntryTerm
current commitIndex 117 lastIncludedIndex 109 snapshot exists ? true
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 21 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 118
getEntryTerm
current commitIndex 117 lastIncludedIndex 109 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 118
getEntryTerm
current commitIndex 117 lastIncludedIndex 109 snapshot exists ? true
update server 0 's matchIndex from 118 to 118
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 21 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 118
getEntryTerm
current commitIndex 117 lastIncludedIndex 109 snapshot exists ? true
update server 2 's matchIndex from 118 to 118
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 118
getEntryTerm
current commitIndex 117 lastIncludedIndex 109 snapshot exists ? true
update server 0 's matchIndex from 118 to 118
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 118
getEntryTerm
current commitIndex 117 lastIncludedIndex 109 snapshot exists ? true
update server 2 's matchIndex from 118 to 118
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 118
getEntryTerm
current commitIndex 117 lastIncludedIndex 109 snapshot exists ? true
update server 0 's matchIndex from 118 to 118
getEntryTerm
getEntryTerm
server 0 term 21 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 21 state 2(leader true)(heartFlag false)
nextIndex
119 || 119 || 119 || 
matchIndex
118 || 118 || 118 || 
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 118
getEntryTerm
current commitIndex 117 lastIncludedIndex 109 snapshot exists ? true
update server 2 's matchIndex from 118 to 118
server 0 receives appendEntry from leader 1 prevLogIndex 118
getEntryTerm
current commitIndex 117 lastIncludedIndex 109 snapshot exists ? true
update server 0 's matchIndex from 118 to 118
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 118
getEntryTerm
current commitIndex 117 lastIncludedIndex 109 snapshot exists ? true
update server 0 's matchIndex from 118 to 118
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 118
getEntryTerm
current commitIndex 117 lastIncludedIndex 109 snapshot exists ? true
update server 2 's matchIndex from 118 to 118
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 21 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 21 state 0(leader false)(heartFlag true)
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 118
getEntryTerm
current commitIndex 117 lastIncludedIndex 109 snapshot exists ? true
update server 2 's matchIndex from 118 to 118
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 118
getEntryTerm
current commitIndex 117 lastIncludedIndex 109 snapshot exists ? true
update server 0 's matchIndex from 118 to 118
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 21 state 2(leader true)(heartFlag false)
nextIndex
119 || 119 || 119 || 
matchIndex
118 || 118 || 118 || 
getEntryTerm
getEntryTerm
append command 8192066642832262253
len(log) = 119
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 118
getEntryTerm
current commitIndex 117 lastIncludedIndex 109 snapshot exists ? true
update server 2 's matchIndex from 118 to 119
server 0 receives appendEntry from leader 1 prevLogIndex 118
getEntryTerm
current commitIndex 117 lastIncludedIndex 109 snapshot exists ? true
update server 0 's matchIndex from 118 to 119
getEntryTerm
leader server 1 commit index 118 command 8192066642832262253
leader server 1 commit index 119 command 8192066642832262253
server 1 takes snopshot and discards logs before index 119
getEntryTerm
discard index before 119(included)
server 1 finished snopshot
server 2 receives appendEntry from leader 1 prevLogIndex 119
getEntryTerm
current commitIndex 117 lastIncludedIndex 109 snapshot exists ? true
follower server 2 commit index 118 command 8192066642832262253 
follower server 2 commit index 119 command 8192066642832262253 
server 2 takes snopshot and discards logs before index 119
getEntryTerm
discard index before 119(included)
server 2 finished snopshot
update server 2 's matchIndex from 119 to 119
server 0 receives appendEntry from leader 1 prevLogIndex 119
getEntryTerm
current commitIndex 117 lastIncludedIndex 109 snapshot exists ? true
follower server 0 commit index 118 command 8192066642832262253 
follower server 0 commit index 119 command 8192066642832262253 
server 0 takes snopshot and discards logs before index 119
getEntryTerm
discard index before 119(included)
server 0 finished snopshot
update server 0 's matchIndex from 119 to 119
server 2 term 21 state 0(leader false)(heartFlag true)
server 0 receives appendEntry from leader 1 prevLogIndex 119
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
update server 0 's matchIndex from 119 to 119
server 0 term 21 state 0(leader false)(heartFlag true)
server 2 receives appendEntry from leader 1 prevLogIndex 119
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
update server 2 's matchIndex from 119 to 119
server 2 receives appendEntry from leader 1 prevLogIndex 119
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
update server 2 's matchIndex from 119 to 119
server 0 receives appendEntry from leader 1 prevLogIndex 119
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
update server 0 's matchIndex from 119 to 119
server 1 term 21 state 2(leader true)(heartFlag false)
nextIndex
120 || 120 || 120 || 
matchIndex
119 || 119 || 119 || 
server 2 receives appendEntry from leader 1 prevLogIndex 119
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
update server 2 's matchIndex from 119 to 119
server 0 receives appendEntry from leader 1 prevLogIndex 119
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 119
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
update server 2 's matchIndex from 119 to 119
server 0 receives appendEntry from leader 1 prevLogIndex 119
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
update server 0 's matchIndex from 119 to 119
server 0 term 21 state 0(leader false)(heartFlag true)
append command 7575241522205818505
len(log) = 120
server 0 receives appendEntry from leader 1 prevLogIndex 119
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
update server 0 's matchIndex from 119 to 120
getEntryTerm
leader server 1 commit index 120 command 7575241522205818505
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 120
getEntryTerm
current commitIndex 119 lastIncludedIndex 119 snapshot exists ? true
follower server 0 commit index 120 command 7575241522205818505 
update server 0 's matchIndex from 120 to 120
server 1 term 21 state 2(leader true)(heartFlag false)
nextIndex
121 || 121 || 120 || 
matchIndex
120 || 120 || 119 || 
append command 2789483673162821975
len(log) = 121
append command 5251831914747558913
len(log) = 122
append command 6107317530633514280
len(log) = 123
append command 4881385072252741051
len(log) = 124
append command 8541961499446433257
len(log) = 125
append command 2457362091104091119
len(log) = 126
append command 5096835478264829391
len(log) = 127
append command 9109503356059486290
len(log) = 128
append command 574651742522693447
len(log) = 129
append command 1113313519715369915
len(log) = 130
append command 4809043456422585848
len(log) = 131
append command 3625420456496199617
len(log) = 132
append command 1408715978100497134
len(log) = 133
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 120
current commitIndex 120 lastIncludedIndex 119 snapshot exists ? true
update server 0 's matchIndex from 120 to 133
getEntryTerm
leader server 1 commit index 121 command 2789483673162821975
leader server 1 commit index 122 command 5251831914747558913
leader server 1 commit index 123 command 6107317530633514280
leader server 1 commit index 124 command 4881385072252741051
leader server 1 commit index 125 command 8541961499446433257
leader server 1 commit index 126 command 2457362091104091119
leader server 1 commit index 127 command 5096835478264829391
leader server 1 commit index 128 command 9109503356059486290
leader server 1 commit index 129 command 574651742522693447
leader server 1 commit index 130 command 1113313519715369915
server 1 takes snopshot and discards logs before index 129
getEntryTerm
discard index before 129(included)
server 1 finished snopshot
leader server 1 commit index 131 command 4809043456422585848
leader server 1 commit index 132 command 3625420456496199617
leader server 1 commit index 133 command 1408715978100497134
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 133
getEntryTerm
current commitIndex 120 lastIncludedIndex 119 snapshot exists ? true
follower server 0 commit index 121 command 2789483673162821975 
follower server 0 commit index 122 command 5251831914747558913 
follower server 0 commit index 123 command 6107317530633514280 
follower server 0 commit index 124 command 4881385072252741051 
follower server 0 commit index 125 command 8541961499446433257 
follower server 0 commit index 126 command 2457362091104091119 
follower server 0 commit index 127 command 5096835478264829391 
follower server 0 commit index 128 command 9109503356059486290 
follower server 0 commit index 129 command 574651742522693447 
follower server 0 commit index 130 command 1113313519715369915 
server 0 takes snopshot and discards logs before index 129
getEntryTerm
discard index before 129(included)
server 0 finished snopshot
follower server 0 commit index 131 command 4809043456422585848 
follower server 0 commit index 132 command 3625420456496199617 
follower server 0 commit index 133 command 1408715978100497134 
update server 0 's matchIndex from 133 to 133
server 0 term 21 state 0(leader false)(heartFlag true)
server 2 read form stored snapshot
server 2 recover from snopshot
server 2 finishes recovery
server 2 term 21 state 0(leader false)(heartFlag false)
server 2 term 21 doesn't hear any heartbeat
server 2 convert to candidate
append command 4735665165348327160
len(log) = 134
server 0 convert to follower
getEntryTerm
server 0 thinks candidate 2 is not up-to-date
server 0 grant false for candidate 2's requestVote
server 1 term 21 state 2(leader true)(heartFlag false)
nextIndex
134 || 135 || 120 || 
matchIndex
133 || 134 || 119 || 
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 133
server 1 convert to follower
server 2 receives snopshot from leader 1
server 2 term 22 ElectionTimeOut
server 2 convert to candidate
server 0 convert to follower
getEntryTerm
server 1 convert to follower
getEntryTerm
server 0 thinks candidate 2 is not up-to-date
server 0 grant false for candidate 2's requestVote
server 1 thinks candidate 2 is not up-to-date
server 1 grant false for candidate 2's requestVote
server 0 term 23 state 0(leader false)(heartFlag false)
server 0 term 23 doesn't hear any heartbeat
server 0 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
server 2 grant true for candidate 0's requestVote
server 0 convert to leader
server 0 term 24 send appendEntries
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 133
lastLogIndex 119, args.PrevLogIndex 133
server 1 term 23 state 0(leader false)(heartFlag false)
server 1 term 23 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
getEntryTerm
server 0 already has a voteFor 0 but not candidate 1
server 0 grant false for candidate 1's requestVote
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 133
server 1 convert to follower
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
update server 1 's matchIndex from 0 to 133
server 2 receives snopshot from leader 0
server 2 commit snopshot to lastIncludedIndex 129
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 133
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 129
current commitIndex 129 lastIncludedIndex 129 snapshot exists ? true
follower server 2 commit index 130 command 1113313519715369915 
follower server 2 commit index 131 command 4809043456422585848 
follower server 2 commit index 132 command 3625420456496199617 
follower server 2 commit index 133 command 1408715978100497134 
update server 2 's matchIndex from 129 to 133
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 133
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
update server 1 's matchIndex from 133 to 133
server 2 receives appendEntry from leader 0 prevLogIndex 133
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
update server 2 's matchIndex from 133 to 133
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 133
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
update server 2 's matchIndex from 133 to 133
server 1 receives appendEntry from leader 0 prevLogIndex 133
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
update server 1 's matchIndex from 133 to 133
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 133
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
update server 1 's matchIndex from 133 to 133
server 2 receives appendEntry from leader 0 prevLogIndex 133
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
update server 2 's matchIndex from 133 to 133
server 0 term 24 state 2(leader true)(heartFlag false)
nextIndex
134 || 134 || 134 || 
matchIndex
133 || 133 || 133 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 133
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
update server 2 's matchIndex from 133 to 133
server 1 receives appendEntry from leader 0 prevLogIndex 133
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
update server 1 's matchIndex from 133 to 133
server 2 term 24 state 0(leader false)(heartFlag true)
server 1 term 24 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 133
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
update server 1 's matchIndex from 133 to 133
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 133
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
update server 2 's matchIndex from 133 to 133
server 1 receives appendEntry from leader 0 prevLogIndex 133
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
update server 1 's matchIndex from 133 to 133
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 133
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
update server 2 's matchIndex from 133 to 133
server 1 receives appendEntry from leader 0 prevLogIndex 133
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
update server 1 's matchIndex from 133 to 133
server 2 term 24 state 0(leader false)(heartFlag true)
server 0 term 24 state 2(leader true)(heartFlag false)
nextIndex
134 || 134 || 134 || 
matchIndex
133 || 133 || 133 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 133
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
update server 2 's matchIndex from 133 to 133
server 1 receives appendEntry from leader 0 prevLogIndex 133
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
update server 1 's matchIndex from 133 to 133
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 133
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
update server 1 's matchIndex from 133 to 133
server 1 term 24 state 0(leader false)(heartFlag true)
server 2 receives appendEntry from leader 0 prevLogIndex 133
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
update server 2 's matchIndex from 133 to 133
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 133
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
update server 2 's matchIndex from 133 to 133
server 0 term 24 state 2(leader true)(heartFlag false)
nextIndex
134 || 134 || 134 || 
matchIndex
133 || 133 || 133 || 
server 2 term 24 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 133
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
update server 1 's matchIndex from 133 to 133
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 133
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
update server 2 's matchIndex from 133 to 133
server 1 receives appendEntry from leader 0 prevLogIndex 133
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
update server 1 's matchIndex from 133 to 133
server 1 term 24 state 0(leader false)(heartFlag true)
server 0 term 24 state 2(leader true)(heartFlag false)
nextIndex
134 || 134 || 134 || 
matchIndex
133 || 133 || 133 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 133
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
update server 1 's matchIndex from 133 to 133
server 2 receives appendEntry from leader 0 prevLogIndex 133
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
update server 2 's matchIndex from 133 to 133
server 2 term 24 state 0(leader false)(heartFlag true)
append command 4735665165348327160
len(log) = 134
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 133
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
update server 2 's matchIndex from 133 to 134
getEntryTerm
leader server 0 commit index 134 command 4735665165348327160
getEntryTerm
getEntryTerm
server 1 term 24 state 0(leader false)(heartFlag true)
server 2 receives appendEntry from leader 0 prevLogIndex 134
getEntryTerm
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
follower server 2 commit index 134 command 4735665165348327160 
update server 2 's matchIndex from 134 to 134
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 133
current commitIndex 133 lastIncludedIndex 129 snapshot exists ? true
follower server 1 commit index 134 command 4735665165348327160 
update server 1 's matchIndex from 133 to 134
server 2 receives appendEntry from leader 0 prevLogIndex 134
current commitIndex 134 lastIncludedIndex 129 snapshot exists ? true
update server 2 's matchIndex from 134 to 134
server 0 term 24 state 2(leader true)(heartFlag false)
nextIndex
135 || 135 || 135 || 
matchIndex
134 || 134 || 134 || 
server 2 term 24 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 134
current commitIndex 134 lastIncludedIndex 129 snapshot exists ? true
update server 2 's matchIndex from 134 to 134
server 1 receives appendEntry from leader 0 prevLogIndex 134
current commitIndex 134 lastIncludedIndex 129 snapshot exists ? true
update server 1 's matchIndex from 134 to 134
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 134
current commitIndex 134 lastIncludedIndex 129 snapshot exists ? true
update server 2 's matchIndex from 134 to 134
server 1 term 24 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 134
current commitIndex 134 lastIncludedIndex 129 snapshot exists ? true
update server 2 's matchIndex from 134 to 134
server 0 term 24 state 2(leader true)(heartFlag false)
nextIndex
135 || 135 || 135 || 
matchIndex
134 || 134 || 134 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 134
current commitIndex 134 lastIncludedIndex 129 snapshot exists ? true
update server 2 's matchIndex from 134 to 134
server 2 term 24 state 0(leader false)(heartFlag true)
server 1 term 24 state 0(leader false)(heartFlag false)
server 1 term 24 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
getEntryTerm
server 2 grant true for candidate 1's requestVote
server 1 convert to leader
server 1 term 25 send appendEntries
getEntryTerm
getEntryTerm
append command 9054491305485634458
len(log) = 135
server 2 receives appendEntry from leader 1 prevLogIndex 134
current commitIndex 134 lastIncludedIndex 129 snapshot exists ? true
update server 2 's matchIndex from 0 to 134
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 134
current commitIndex 134 lastIncludedIndex 129 snapshot exists ? true
update server 2 's matchIndex from 134 to 135
getEntryTerm
leader server 1 commit index 135 command 9054491305485634458
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 135
getEntryTerm
current commitIndex 134 lastIncludedIndex 129 snapshot exists ? true
follower server 2 commit index 135 command 9054491305485634458 
append command 671730570745320159
len(log) = 136
append command 1188874174224092990
len(log) = 137
append command 7154427958222312667
len(log) = 138
append command 7197125925939550532
len(log) = 139
append command 2842149259277342745
len(log) = 140
append command 747679417564199099
len(log) = 141
append command 8397703284047686351
len(log) = 142
append command 710781366208224502
len(log) = 143
append command 8869511129505939316
len(log) = 144
append command 5466540007020525634
len(log) = 145
append command 5059710101659940646
len(log) = 146
server 2 term 25 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 135
current commitIndex 135 lastIncludedIndex 129 snapshot exists ? true
update server 2 's matchIndex from 135 to 146
getEntryTerm
leader server 1 commit index 136 command 671730570745320159
leader server 1 commit index 137 command 1188874174224092990
leader server 1 commit index 138 command 7154427958222312667
leader server 1 commit index 139 command 7197125925939550532
leader server 1 commit index 140 command 2842149259277342745
server 1 takes snopshot and discards logs before index 139
getEntryTerm
discard index before 139(included)
server 1 finished snopshot
leader server 1 commit index 141 command 747679417564199099
leader server 1 commit index 142 command 8397703284047686351
leader server 1 commit index 143 command 710781366208224502
leader server 1 commit index 144 command 8869511129505939316
leader server 1 commit index 145 command 5466540007020525634
leader server 1 commit index 146 command 5059710101659940646
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 146
getEntryTerm
current commitIndex 135 lastIncludedIndex 129 snapshot exists ? true
follower server 2 commit index 136 command 671730570745320159 
follower server 2 commit index 137 command 1188874174224092990 
follower server 2 commit index 138 command 7154427958222312667 
follower server 2 commit index 139 command 7197125925939550532 
follower server 2 commit index 140 command 2842149259277342745 
server 2 takes snopshot and discards logs before index 139
getEntryTerm
discard index before 139(included)
server 2 finished snopshot
follower server 2 commit index 141 command 747679417564199099 
follower server 2 commit index 142 command 8397703284047686351 
follower server 2 commit index 143 command 710781366208224502 
follower server 2 commit index 144 command 8869511129505939316 
follower server 2 commit index 145 command 5466540007020525634 
follower server 2 commit index 146 command 5059710101659940646 
update server 2 's matchIndex from 146 to 146
server 0 read form stored snapshot
server 0 recover from snopshot
server 0 finishes recovery
append command 7302096595192414107
server 0 term 24 state 0(leader false)(heartFlag false)
server 0 term 24 doesn't hear any heartbeat
server 0 convert to candidate
len(log) = 147
getEntryTerm
getEntryTerm
getEntryTerm
server 2 already has a voteFor 1 but not candidate 0
server 2 grant false for candidate 0's requestVote
getEntryTerm
server 1 already has a voteFor 1 but not candidate 0
server 1 grant false for candidate 0's requestVote
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 146
current commitIndex 146 lastIncludedIndex 139 snapshot exists ? true
update server 2 's matchIndex from 146 to 147
getEntryTerm
leader server 1 commit index 147 command 7302096595192414107
server 0 receives snopshot from leader 1
server 0 commit snopshot to lastIncludedIndex 139
server 2 term 25 state 0(leader false)(heartFlag true)
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 147
getEntryTerm
current commitIndex 146 lastIncludedIndex 139 snapshot exists ? true
follower server 2 commit index 147 command 7302096595192414107 
update server 2 's matchIndex from 147 to 147
server 0 receives appendEntry from leader 1 prevLogIndex 139
server 0 convert to follower
current commitIndex 139 lastIncludedIndex 139 snapshot exists ? true
follower server 0 commit index 140 command 2842149259277342745 
follower server 0 commit index 141 command 747679417564199099 
follower server 0 commit index 142 command 8397703284047686351 
follower server 0 commit index 143 command 710781366208224502 
follower server 0 commit index 144 command 8869511129505939316 
follower server 0 commit index 145 command 5466540007020525634 
follower server 0 commit index 146 command 5059710101659940646 
follower server 0 commit index 147 command 7302096595192414107 
update server 0 's matchIndex from 139 to 147
getEntryTerm
getEntryTerm
server 1 term 25 state 2(leader true)(heartFlag false)
nextIndex
148 || 148 || 148 || 
matchIndex
147 || 147 || 147 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 147
current commitIndex 147 lastIncludedIndex 139 snapshot exists ? true
update server 0 's matchIndex from 147 to 147
server 2 receives appendEntry from leader 1 prevLogIndex 147
current commitIndex 147 lastIncludedIndex 139 snapshot exists ? true
update server 2 's matchIndex from 147 to 147
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 147
current commitIndex 147 lastIncludedIndex 139 snapshot exists ? true
update server 2 's matchIndex from 147 to 147
server 0 receives appendEntry from leader 1 prevLogIndex 147
current commitIndex 147 lastIncludedIndex 139 snapshot exists ? true
update server 0 's matchIndex from 147 to 147
getEntryTerm
getEntryTerm
server 2 term 25 state 0(leader false)(heartFlag true)
server 2 receives appendEntry from leader 1 prevLogIndex 147
current commitIndex 147 lastIncludedIndex 139 snapshot exists ? true
update server 2 's matchIndex from 147 to 147
server 0 receives appendEntry from leader 1 prevLogIndex 147
current commitIndex 147 lastIncludedIndex 139 snapshot exists ? true
update server 0 's matchIndex from 147 to 147
server 1 term 25 state 2(leader true)(heartFlag false)
nextIndex
148 || 148 || 148 || 
matchIndex
147 || 147 || 147 || 
getEntryTerm
getEntryTerm
server 0 term 25 state 0(leader false)(heartFlag true)
server 0 receives appendEntry from leader 1 prevLogIndex 147
current commitIndex 147 lastIncludedIndex 139 snapshot exists ? true
update server 0 's matchIndex from 147 to 147
append command 5255819913138758938
len(log) = 148
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 147
current commitIndex 147 lastIncludedIndex 139 snapshot exists ? true
update server 0 's matchIndex from 147 to 148
getEntryTerm
leader server 1 commit index 148 command 5255819913138758938
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 148
getEntryTerm
current commitIndex 147 lastIncludedIndex 139 snapshot exists ? true
follower server 0 commit index 148 command 5255819913138758938 
update server 0 's matchIndex from 148 to 148
append command 8155274661982033161
len(log) = 149
append command 5816048540619024477
len(log) = 150
append command 74074428698510230
len(log) = 151
append command 2906039815057943584
len(log) = 152
append command 4903767199464800257
len(log) = 153
append command 2594667965324173022
len(log) = 154
append command 1789283237980370419
len(log) = 155
server 1 term 25 state 2(leader true)(heartFlag false)
nextIndex
149 || 156 || 148 || 
matchIndex
148 || 155 || 147 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 148
current commitIndex 148 lastIncludedIndex 139 snapshot exists ? true
update server 0 's matchIndex from 148 to 155
getEntryTerm
leader server 1 commit index 149 command 8155274661982033161
leader server 1 commit index 150 command 5816048540619024477
server 1 takes snopshot and discards logs before index 149
getEntryTerm
discard index before 149(included)
server 1 finished snopshot
leader server 1 commit index 151 command 74074428698510230
leader server 1 commit index 152 command 2906039815057943584
leader server 1 commit index 153 command 4903767199464800257
leader server 1 commit index 154 command 2594667965324173022
leader server 1 commit index 155 command 1789283237980370419
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 155
getEntryTerm
current commitIndex 148 lastIncludedIndex 139 snapshot exists ? true
follower server 0 commit index 149 command 8155274661982033161 
follower server 0 commit index 150 command 5816048540619024477 
server 0 takes snopshot and discards logs before index 149
getEntryTerm
discard index before 149(included)
server 0 finished snopshot
follower server 0 commit index 151 command 74074428698510230 
follower server 0 commit index 152 command 2906039815057943584 
follower server 0 commit index 153 command 4903767199464800257 
follower server 0 commit index 154 command 2594667965324173022 
follower server 0 commit index 155 command 1789283237980370419 
update server 0 's matchIndex from 155 to 155
server 2 read form stored snapshot
server 2 recover from snopshot
server 2 finishes recovery
append command 3154080032919385998
server 2 term 25 state 0(leader false)(heartFlag false)
server 2 term 25 doesn't hear any heartbeat
server 2 convert to candidate
len(log) = 156
getEntryTerm
getEntryTerm
server 1 convert to follower
getEntryTerm
server 1 thinks candidate 2 is not up-to-date
server 1 grant false for candidate 2's requestVote
server 0 term 25 state 0(leader false)(heartFlag true)
server 0 convert to follower
getEntryTerm
server 0 thinks candidate 2 is not up-to-date
server 0 grant false for candidate 2's requestVote
server 1 term 26 state 0(leader false)(heartFlag false)
server 1 term 26 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
getEntryTerm
server 2 grant true for candidate 1's requestVote
server 1 convert to leader
server 1 term 27 send appendEntries
getEntryTerm
getEntryTerm
server 0 convert to follower
getEntryTerm
server 0 grant true for candidate 1's requestVote
server 2 receives appendEntry from leader 1 prevLogIndex 156
lastLogIndex 147, args.PrevLogIndex 156
server 0 receives appendEntry from leader 1 prevLogIndex 156
lastLogIndex 155, args.PrevLogIndex 156
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 155
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 0 to 156
getEntryTerm
getEntryTerm
server 2 receives snopshot from leader 1
server 2 commit snopshot to lastIncludedIndex 149
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 27 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 149
current commitIndex 149 lastIncludedIndex 149 snapshot exists ? true
follower server 2 commit index 150 command 5816048540619024477 
follower server 2 commit index 151 command 74074428698510230 
follower server 2 commit index 152 command 2906039815057943584 
follower server 2 commit index 153 command 4903767199464800257 
follower server 2 commit index 154 command 2594667965324173022 
follower server 2 commit index 155 command 1789283237980370419 
update server 2 's matchIndex from 149 to 156
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 156 to 156
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 156 to 156
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 156 to 156
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 2 's matchIndex from 156 to 156
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 156 to 156
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 2 's matchIndex from 156 to 156
server 2 term 27 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 27 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 156 to 156
getEntryTerm
server 1 term 27 state 2(leader true)(heartFlag false)
nextIndex
157 || 157 || 157 || 
matchIndex
156 || 156 || 156 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 156 to 156
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 2 's matchIndex from 156 to 156
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 27 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 2 's matchIndex from 156 to 156
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 156 to 156
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 27 state 2(leader true)(heartFlag false)
nextIndex
157 || 157 || 157 || 
matchIndex
156 || 156 || 156 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 156 to 156
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 2 's matchIndex from 156 to 156
getEntryTerm
getEntryTerm
server 0 term 27 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 2 's matchIndex from 156 to 156
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 156 to 156
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 27 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 156 to 156
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 156 to 156
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 2 's matchIndex from 156 to 156
getEntryTerm
getEntryTerm
server 0 term 27 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 27 state 2(leader true)(heartFlag false)
nextIndex
157 || 157 || 157 || 
matchIndex
156 || 156 || 156 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 2 's matchIndex from 156 to 156
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
getEntryTerm
update server 0 's matchIndex from 156 to 156
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 2 's matchIndex from 156 to 156
update server 0 's matchIndex from 156 to 156
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 27 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 156 to 156
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 2 's matchIndex from 156 to 156
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 156 to 156
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 27 state 2(leader true)(heartFlag false)
nextIndex
157 || 157 || 157 || 
matchIndex
156 || 156 || 156 || 
getEntryTerm
server 0 term 27 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 2 's matchIndex from 156 to 156
server 0 receives appendEntry from leader 1 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 156 to 156
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
append command 3154080032919385998
len(log) = 157
getEntryTerm
server 2 term 27 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 156 to 157
getEntryTerm
leader server 1 commit index 156 command 3154080032919385998
leader server 1 commit index 157 command 3154080032919385998
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 156
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
follower server 2 commit index 156 command 3154080032919385998 
follower server 2 commit index 157 command 3154080032919385998 
update server 2 's matchIndex from 156 to 157
server 0 receives appendEntry from leader 1 prevLogIndex 157
getEntryTerm
current commitIndex 155 lastIncludedIndex 149 snapshot exists ? true
follower server 0 commit index 156 command 3154080032919385998 
follower server 0 commit index 157 command 3154080032919385998 
update server 0 's matchIndex from 157 to 157
server 1 term 27 state 2(leader true)(heartFlag false)
nextIndex
158 || 158 || 158 || 
matchIndex
157 || 157 || 157 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 157
current commitIndex 157 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 157 to 157
server 2 receives appendEntry from leader 1 prevLogIndex 157
current commitIndex 157 lastIncludedIndex 149 snapshot exists ? true
update server 2 's matchIndex from 157 to 157
server 0 term 27 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 157
current commitIndex 157 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 157 to 157
server 2 receives appendEntry from leader 1 prevLogIndex 157
current commitIndex 157 lastIncludedIndex 149 snapshot exists ? true
update server 2 's matchIndex from 157 to 157
server 2 term 27 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 157
current commitIndex 157 lastIncludedIndex 149 snapshot exists ? true
update server 2 's matchIndex from 157 to 157
server 0 receives appendEntry from leader 1 prevLogIndex 157
current commitIndex 157 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 157 to 157
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 157
current commitIndex 157 lastIncludedIndex 149 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 157
current commitIndex 157 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 157 to 157
server 1 term 27 state 2(leader true)(heartFlag false)
nextIndex
158 || 158 || 158 || 
matchIndex
157 || 157 || 157 || 
server 0 term 27 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 157
current commitIndex 157 lastIncludedIndex 149 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 157
current commitIndex 157 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 157 to 157
update server 2 's matchIndex from 157 to 157
server 2 term 27 state 0(leader false)(heartFlag true)
append command 165559994399872816
len(log) = 158
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 157
current commitIndex 157 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 157 to 158
getEntryTerm
leader server 1 commit index 158 command 165559994399872816
server 0 term 27 state 0(leader false)(heartFlag true)
server 1 term 27 state 2(leader true)(heartFlag false)
nextIndex
159 || 159 || 158 || 
matchIndex
158 || 158 || 157 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 158
getEntryTerm
current commitIndex 157 lastIncludedIndex 149 snapshot exists ? true
follower server 0 commit index 158 command 165559994399872816 
append command 2121350363709841469
len(log) = 159
append command 4094559660743086710
len(log) = 160
append command 4775206161915969947
len(log) = 161
append command 3211876325149709402
len(log) = 162
append command 2142228842129589701
len(log) = 163
append command 6693343999460499068
len(log) = 164
append command 4352152225594422176
len(log) = 165
append command 1634465443520002873
len(log) = 166
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 158
current commitIndex 158 lastIncludedIndex 149 snapshot exists ? true
update server 0 's matchIndex from 158 to 166
getEntryTerm
leader server 1 commit index 159 command 2121350363709841469
leader server 1 commit index 160 command 4094559660743086710
server 1 takes snopshot and discards logs before index 159
getEntryTerm
discard index before 159(included)
server 1 finished snopshot
leader server 1 commit index 161 command 4775206161915969947
leader server 1 commit index 162 command 3211876325149709402
leader server 1 commit index 163 command 2142228842129589701
leader server 1 commit index 164 command 6693343999460499068
leader server 1 commit index 165 command 4352152225594422176
leader server 1 commit index 166 command 1634465443520002873
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 166
getEntryTerm
current commitIndex 158 lastIncludedIndex 149 snapshot exists ? true
follower server 0 commit index 159 command 2121350363709841469 
follower server 0 commit index 160 command 4094559660743086710 
server 0 takes snopshot and discards logs before index 159
getEntryTerm
discard index before 159(included)
server 0 finished snopshot
follower server 0 commit index 161 command 4775206161915969947 
follower server 0 commit index 162 command 3211876325149709402 
follower server 0 commit index 163 command 2142228842129589701 
follower server 0 commit index 164 command 6693343999460499068 
follower server 0 commit index 165 command 4352152225594422176 
follower server 0 commit index 166 command 1634465443520002873 
update server 0 's matchIndex from 166 to 166
server 2 read form stored snapshot
server 2 recover from snopshot
server 2 finishes recovery
append command 1337519820846947892
len(log) = 167
server 2 term 27 state 0(leader false)(heartFlag false)
server 2 term 27 doesn't hear any heartbeat
server 2 convert to candidate
getEntryTerm
getEntryTerm
server 0 convert to follower
getEntryTerm
server 0 thinks candidate 2 is not up-to-date
server 0 grant false for candidate 2's requestVote
server 1 convert to follower
getEntryTerm
server 1 thinks candidate 2 is not up-to-date
server 1 grant false for candidate 2's requestVote
server 1 term 28 state 0(leader false)(heartFlag false)
server 1 term 28 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
getEntryTerm
server 2 grant true for candidate 1's requestVote
server 1 convert to leader
server 1 term 29 send appendEntries
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 167
lastLogIndex 157, args.PrevLogIndex 167
server 0 convert to follower
getEntryTerm
server 0 grant true for candidate 1's requestVote
server 0 term 29 state 0(leader false)(heartFlag true)
getEntryTerm
server 2 receives snopshot from leader 1
server 2 commit snopshot to lastIncludedIndex 159
server 0 receives appendEntry from leader 1 prevLogIndex 167
lastLogIndex 166, args.PrevLogIndex 167
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 159
current commitIndex 159 lastIncludedIndex 159 snapshot exists ? true
follower server 2 commit index 160 command 4094559660743086710 
follower server 2 commit index 161 command 4775206161915969947 
follower server 2 commit index 162 command 3211876325149709402 
follower server 2 commit index 163 command 2142228842129589701 
follower server 2 commit index 164 command 6693343999460499068 
follower server 2 commit index 165 command 4352152225594422176 
follower server 2 commit index 166 command 1634465443520002873 
update server 2 's matchIndex from 159 to 167
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 166
current commitIndex 166 lastIncludedIndex 159 snapshot exists ? true
update server 0 's matchIndex from 0 to 167
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 167
getEntryTerm
current commitIndex 166 lastIncludedIndex 159 snapshot exists ? true
update server 2 's matchIndex from 167 to 167
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 167
getEntryTerm
current commitIndex 166 lastIncludedIndex 159 snapshot exists ? true
update server 0 's matchIndex from 167 to 167
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 167
getEntryTerm
current commitIndex 166 lastIncludedIndex 159 snapshot exists ? true
update server 2 's matchIndex from 167 to 167
server 0 receives appendEntry from leader 1 prevLogIndex 167
getEntryTerm
current commitIndex 166 lastIncludedIndex 159 snapshot exists ? true
update server 0 's matchIndex from 167 to 167
getEntryTerm
server 0 term 29 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 29 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 167
getEntryTerm
current commitIndex 166 lastIncludedIndex 159 snapshot exists ? true
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 167
getEntryTerm
current commitIndex 166 lastIncludedIndex 159 snapshot exists ? true
update server 2 's matchIndex from 167 to 167
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 167
getEntryTerm
current commitIndex 166 lastIncludedIndex 159 snapshot exists ? true
update server 0 's matchIndex from 167 to 167
getEntryTerm
server 1 term 29 state 2(leader true)(heartFlag false)
nextIndex
168 || 168 || 168 || 
matchIndex
167 || 167 || 167 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 167
getEntryTerm
current commitIndex 166 lastIncludedIndex 159 snapshot exists ? true
update server 2 's matchIndex from 167 to 167
server 0 term 29 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 29 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 167
getEntryTerm
current commitIndex 166 lastIncludedIndex 159 snapshot exists ? true
update server 0 's matchIndex from 167 to 167
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 167
getEntryTerm
current commitIndex 166 lastIncludedIndex 159 snapshot exists ? true
update server 2 's matchIndex from 167 to 167
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 29 state 2(leader true)(heartFlag false)
nextIndex
168 || 168 || 168 || 
matchIndex
167 || 167 || 167 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 167
getEntryTerm
current commitIndex 166 lastIncludedIndex 159 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 167
getEntryTerm
current commitIndex 166 lastIncludedIndex 159 snapshot exists ? true
update server 0 's matchIndex from 167 to 167
update server 2 's matchIndex from 167 to 167
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 29 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 167
getEntryTerm
current commitIndex 166 lastIncludedIndex 159 snapshot exists ? true
update server 0 's matchIndex from 167 to 167
server 2 receives appendEntry from leader 1 prevLogIndex 167
getEntryTerm
current commitIndex 166 lastIncludedIndex 159 snapshot exists ? true
update server 2 's matchIndex from 167 to 167
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 29 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 167
getEntryTerm
current commitIndex 166 lastIncludedIndex 159 snapshot exists ? true
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 29 state 2(leader true)(heartFlag false)
nextIndex
168 || 168 || 168 || 
matchIndex
167 || 167 || 167 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 167
getEntryTerm
current commitIndex 166 lastIncludedIndex 159 snapshot exists ? true
update server 2 's matchIndex from 167 to 167
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 167
getEntryTerm
current commitIndex 166 lastIncludedIndex 159 snapshot exists ? true
update server 0 's matchIndex from 167 to 167
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 29 state 0(leader false)(heartFlag true)
server 2 receives appendEntry from leader 1 prevLogIndex 167
getEntryTerm
current commitIndex 166 lastIncludedIndex 159 snapshot exists ? true
update server 2 's matchIndex from 167 to 167
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 167
getEntryTerm
current commitIndex 166 lastIncludedIndex 159 snapshot exists ? true
update server 0 's matchIndex from 167 to 167
getEntryTerm
getEntryTerm
server 2 term 29 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 167
getEntryTerm
current commitIndex 166 lastIncludedIndex 159 snapshot exists ? true
update server 0 's matchIndex from 167 to 167
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 167
getEntryTerm
current commitIndex 166 lastIncludedIndex 159 snapshot exists ? true
update server 2 's matchIndex from 167 to 167
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 29 state 2(leader true)(heartFlag false)
nextIndex
168 || 168 || 168 || 
matchIndex
167 || 167 || 167 || 
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 167
getEntryTerm
current commitIndex 166 lastIncludedIndex 159 snapshot exists ? true
update server 0 's matchIndex from 167 to 167
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 167
getEntryTerm
current commitIndex 166 lastIncludedIndex 159 snapshot exists ? true
update server 0 's matchIndex from 167 to 167
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 167
getEntryTerm
current commitIndex 166 lastIncludedIndex 159 snapshot exists ? true
update server 2 's matchIndex from 167 to 167
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 29 state 0(leader false)(heartFlag true)
server 2 receives appendEntry from leader 1 prevLogIndex 167
getEntryTerm
current commitIndex 166 lastIncludedIndex 159 snapshot exists ? true
update server 2 's matchIndex from 167 to 167
getEntryTerm
getEntryTerm
append command 1337519820846947892
len(log) = 168
getEntryTerm
getEntryTerm
server 1 term 29 state 2(leader true)(heartFlag false)
nextIndex
168 || 169 || 168 || 
matchIndex
167 || 168 || 167 || 
getEntryTerm
server 2 term 29 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 167
getEntryTerm
current commitIndex 166 lastIncludedIndex 159 snapshot exists ? true
update server 0 's matchIndex from 167 to 168
server 2 receives appendEntry from leader 1 prevLogIndex 167
getEntryTerm
current commitIndex 166 lastIncludedIndex 159 snapshot exists ? true
update server 2 's matchIndex from 167 to 168
getEntryTerm
leader server 1 commit index 167 command 1337519820846947892
leader server 1 commit index 168 command 1337519820846947892
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 168
getEntryTerm
current commitIndex 166 lastIncludedIndex 159 snapshot exists ? true
follower server 2 commit index 167 command 1337519820846947892 
follower server 2 commit index 168 command 1337519820846947892 
update server 2 's matchIndex from 168 to 168
server 0 receives appendEntry from leader 1 prevLogIndex 168
getEntryTerm
current commitIndex 166 lastIncludedIndex 159 snapshot exists ? true
follower server 0 commit index 167 command 1337519820846947892 
follower server 0 commit index 168 command 1337519820846947892 
update server 0 's matchIndex from 168 to 168
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 168
current commitIndex 168 lastIncludedIndex 159 snapshot exists ? true
update server 2 's matchIndex from 168 to 168
server 0 term 29 state 0(leader false)(heartFlag true)
server 1 term 29 state 2(leader true)(heartFlag false)
nextIndex
169 || 169 || 169 || 
matchIndex
168 || 168 || 168 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 168
current commitIndex 168 lastIncludedIndex 159 snapshot exists ? true
update server 2 's matchIndex from 168 to 168
server 0 receives appendEntry from leader 1 prevLogIndex 168
current commitIndex 168 lastIncludedIndex 159 snapshot exists ? true
update server 0 's matchIndex from 168 to 168
server 2 term 29 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 168
current commitIndex 168 lastIncludedIndex 159 snapshot exists ? true
update server 2 's matchIndex from 168 to 168
server 0 receives appendEntry from leader 1 prevLogIndex 168
current commitIndex 168 lastIncludedIndex 159 snapshot exists ? true
update server 0 's matchIndex from 168 to 168
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 168
current commitIndex 168 lastIncludedIndex 159 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 168
current commitIndex 168 lastIncludedIndex 159 snapshot exists ? true
update server 0 's matchIndex from 168 to 168
update server 2 's matchIndex from 168 to 168
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 168
current commitIndex 168 lastIncludedIndex 159 snapshot exists ? true
update server 2 's matchIndex from 168 to 168
server 1 term 29 state 2(leader true)(heartFlag false)
nextIndex
169 || 169 || 169 || 
matchIndex
168 || 168 || 168 || 
server 0 term 29 state 0(leader false)(heartFlag true)
server 2 term 29 state 0(leader false)(heartFlag true)
server 0 term 29 state 0(leader false)(heartFlag false)
server 0 term 29 doesn't hear any heartbeat
server 0 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
getEntryTerm
server 2 grant true for candidate 0's requestVote
server 0 convert to leader
server 0 term 30 send appendEntries
getEntryTerm
getEntryTerm
append command 9161599043614275875
len(log) = 169
server 2 term 30 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 168
current commitIndex 168 lastIncludedIndex 159 snapshot exists ? true
update server 2 's matchIndex from 0 to 169
getEntryTerm
leader server 0 commit index 169 command 9161599043614275875
server 0 takes snopshot and discards logs before index 169
getEntryTerm
discard index before 169(included)
server 0 finished snopshot
server 2 receives appendEntry from leader 0 prevLogIndex 169
getEntryTerm
current commitIndex 168 lastIncludedIndex 159 snapshot exists ? true
follower server 2 commit index 169 command 9161599043614275875 
update server 2 's matchIndex from 169 to 169
server 2 takes snopshot and discards logs before index 169
getEntryTerm
discard index before 169(included)
server 2 finished snopshot
append command 1378000783491713601
len(log) = 170
server 2 receives appendEntry from leader 0 prevLogIndex 169
current commitIndex 169 lastIncludedIndex 169 snapshot exists ? true
update server 2 's matchIndex from 169 to 170
getEntryTerm
leader server 0 commit index 170 command 1378000783491713601
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 170
getEntryTerm
current commitIndex 169 lastIncludedIndex 169 snapshot exists ? true
follower server 2 commit index 170 command 1378000783491713601 
server 1 read form stored snapshot
server 1 recover from snopshot
server 1 finishes recovery
append command 2575562035041966198
server 1 term 29 state 0(leader false)(heartFlag false)
server 1 term 29 doesn't hear any heartbeat
server 1 convert to candidate
len(log) = 171
getEntryTerm
getEntryTerm
getEntryTerm
server 0 already has a voteFor 0 but not candidate 1
server 0 grant false for candidate 1's requestVote
server 2 term 30 state 0(leader false)(heartFlag true)
getEntryTerm
server 2 already has a voteFor 0 but not candidate 1
server 2 grant false for candidate 1's requestVote
getEntryTerm
server 1 receives snopshot from leader 0
server 1 commit snopshot to lastIncludedIndex 169
server 2 receives appendEntry from leader 0 prevLogIndex 170
current commitIndex 170 lastIncludedIndex 169 snapshot exists ? true
update server 2 's matchIndex from 170 to 171
getEntryTerm
leader server 0 commit index 171 command 2575562035041966198
server 0 term 30 state 2(leader true)(heartFlag false)
nextIndex
172 || 170 || 172 || 
matchIndex
171 || 169 || 171 || 
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 171
getEntryTerm
current commitIndex 170 lastIncludedIndex 169 snapshot exists ? true
follower server 2 commit index 171 command 2575562035041966198 
update server 2 's matchIndex from 171 to 171
server 1 term 30 ElectionTimeOut
server 1 convert to candidate
getEntryTerm
server 0 convert to follower
getEntryTerm
server 0 thinks candidate 1 is not up-to-date
server 0 grant false for candidate 1's requestVote
server 2 receives appendEntry from leader 0 prevLogIndex 171
current commitIndex 171 lastIncludedIndex 169 snapshot exists ? true
server 2 convert to follower
getEntryTerm
server 2 thinks candidate 1 is not up-to-date
server 2 grant false for candidate 1's requestVote
server 2 term 31 state 0(leader false)(heartFlag true)
server 0 term 31 state 0(leader false)(heartFlag false)
server 0 term 31 doesn't hear any heartbeat
server 0 convert to candidate
getEntryTerm
getEntryTerm
server 1 convert to follower
server 1 grant true for candidate 0's requestVote
server 0 convert to leader
server 0 term 32 send appendEntries
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 171
lastLogIndex 169, args.PrevLogIndex 171
server 2 receives appendEntry from leader 0 prevLogIndex 171
server 2 convert to follower
current commitIndex 171 lastIncludedIndex 169 snapshot exists ? true
update server 2 's matchIndex from 0 to 171
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 169
current commitIndex 169 lastIncludedIndex 169 snapshot exists ? true
follower server 1 commit index 170 command 1378000783491713601 
follower server 1 commit index 171 command 2575562035041966198 
update server 1 's matchIndex from 0 to 171
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 171
current commitIndex 171 lastIncludedIndex 169 snapshot exists ? true
update server 1 's matchIndex from 171 to 171
server 2 receives appendEntry from leader 0 prevLogIndex 171
current commitIndex 171 lastIncludedIndex 169 snapshot exists ? true
server 2 term 32 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 171
current commitIndex 171 lastIncludedIndex 169 snapshot exists ? true
update server 2 's matchIndex from 171 to 171
server 1 receives appendEntry from leader 0 prevLogIndex 171
current commitIndex 171 lastIncludedIndex 169 snapshot exists ? true
server 1 term 32 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 171
current commitIndex 171 lastIncludedIndex 169 snapshot exists ? true
update server 2 's matchIndex from 171 to 171
server 1 receives appendEntry from leader 0 prevLogIndex 171
current commitIndex 171 lastIncludedIndex 169 snapshot exists ? true
update server 1 's matchIndex from 171 to 171
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 171
current commitIndex 171 lastIncludedIndex 169 snapshot exists ? true
update server 1 's matchIndex from 171 to 171
server 2 term 32 state 0(leader false)(heartFlag true)
append command 7141464041034457112
len(log) = 172
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 171
current commitIndex 171 lastIncludedIndex 169 snapshot exists ? true
update server 2 's matchIndex from 171 to 172
getEntryTerm
leader server 0 commit index 172 command 7141464041034457112
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 172
getEntryTerm
current commitIndex 171 lastIncludedIndex 169 snapshot exists ? true
follower server 2 commit index 172 command 7141464041034457112 
update server 2 's matchIndex from 172 to 172
append command 1248410346954272295
len(log) = 173
append command 3074263480093309570
len(log) = 174
append command 4931770678585625130
len(log) = 175
append command 7518813709416934507
len(log) = 176
append command 7877282067489547835
len(log) = 177
append command 7142543084219845419
len(log) = 178
append command 6783268214618530512
len(log) = 179
append command 3923887568883876498
len(log) = 180
append command 1542775814056103268
len(log) = 181
append command 2768888724561440347
len(log) = 182
append command 687166830575843467
len(log) = 183
append command 2202910461545920901
len(log) = 184
server 0 term 32 state 2(leader true)(heartFlag false)
nextIndex
185 || 172 || 173 || 
matchIndex
184 || 171 || 172 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 172
current commitIndex 172 lastIncludedIndex 169 snapshot exists ? true
update server 2 's matchIndex from 172 to 184
getEntryTerm
leader server 0 commit index 173 command 1248410346954272295
leader server 0 commit index 174 command 3074263480093309570
leader server 0 commit index 175 command 4931770678585625130
leader server 0 commit index 176 command 7518813709416934507
leader server 0 commit index 177 command 7877282067489547835
leader server 0 commit index 178 command 7142543084219845419
leader server 0 commit index 179 command 6783268214618530512
leader server 0 commit index 180 command 3923887568883876498
server 0 takes snopshot and discards logs before index 179
getEntryTerm
discard index before 179(included)
server 0 finished snopshot
leader server 0 commit index 181 command 1542775814056103268
leader server 0 commit index 182 command 2768888724561440347
leader server 0 commit index 183 command 687166830575843467
leader server 0 commit index 184 command 2202910461545920901
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 184
getEntryTerm
current commitIndex 172 lastIncludedIndex 169 snapshot exists ? true
follower server 2 commit index 173 command 1248410346954272295 
follower server 2 commit index 174 command 3074263480093309570 
follower server 2 commit index 175 command 4931770678585625130 
follower server 2 commit index 176 command 7518813709416934507 
follower server 2 commit index 177 command 7877282067489547835 
follower server 2 commit index 178 command 7142543084219845419 
follower server 2 commit index 179 command 6783268214618530512 
follower server 2 commit index 180 command 3923887568883876498 
server 2 takes snopshot and discards logs before index 179
getEntryTerm
discard index before 179(included)
server 2 finished snopshot
follower server 2 commit index 181 command 1542775814056103268 
follower server 2 commit index 182 command 2768888724561440347 
follower server 2 commit index 183 command 687166830575843467 
follower server 2 commit index 184 command 2202910461545920901 
update server 2 's matchIndex from 184 to 184
server 1 read form stored snapshot
server 1 recover from snopshot
server 1 finishes recovery
append command 1821309986613516236
server 1 term 32 state 0(leader false)(heartFlag false)
len(log) = 185
server 1 term 32 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 0 convert to follower
getEntryTerm
server 0 thinks candidate 1 is not up-to-date
server 0 grant false for candidate 1's requestVote
server 2 convert to follower
getEntryTerm
server 2 thinks candidate 1 is not up-to-date
server 2 grant false for candidate 1's requestVote
server 2 term 33 state 0(leader false)(heartFlag true)
server 0 term 33 state 0(leader false)(heartFlag false)
server 0 term 33 doesn't hear any heartbeat
server 0 convert to candidate
getEntryTerm
getEntryTerm
server 1 convert to follower
getEntryTerm
server 1 grant true for candidate 0's requestVote
server 0 convert to leader
server 0 term 34 send appendEntries
getEntryTerm
getEntryTerm
server 2 convert to follower
getEntryTerm
server 2 grant true for candidate 0's requestVote
server 2 receives appendEntry from leader 0 prevLogIndex 185
lastLogIndex 184, args.PrevLogIndex 185
server 1 receives appendEntry from leader 0 prevLogIndex 185
lastLogIndex 171, args.PrevLogIndex 185
getEntryTerm
server 1 receives snopshot from leader 0
server 1 commit snopshot to lastIncludedIndex 179
server 2 receives appendEntry from leader 0 prevLogIndex 184
current commitIndex 184 lastIncludedIndex 179 snapshot exists ? true
update server 2 's matchIndex from 0 to 185
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 185
getEntryTerm
current commitIndex 184 lastIncludedIndex 179 snapshot exists ? true
update server 2 's matchIndex from 185 to 185
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 179
current commitIndex 179 lastIncludedIndex 179 snapshot exists ? true
follower server 1 commit index 180 command 3923887568883876498 
follower server 1 commit index 181 command 1542775814056103268 
follower server 1 commit index 182 command 2768888724561440347 
follower server 1 commit index 183 command 687166830575843467 
follower server 1 commit index 184 command 2202910461545920901 
getEntryTerm
getEntryTerm
server 2 term 34 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 179
current commitIndex 184 lastIncludedIndex 179 snapshot exists ? true
update server 1 's matchIndex from 179 to 185
server 2 receives appendEntry from leader 0 prevLogIndex 185
getEntryTerm
current commitIndex 184 lastIncludedIndex 179 snapshot exists ? true
update server 2 's matchIndex from 185 to 185
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 185
getEntryTerm
current commitIndex 184 lastIncludedIndex 179 snapshot exists ? true
update server 2 's matchIndex from 185 to 185
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 185
getEntryTerm
current commitIndex 184 lastIncludedIndex 179 snapshot exists ? true
update server 1 's matchIndex from 185 to 185
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 34 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 185
getEntryTerm
current commitIndex 184 lastIncludedIndex 179 snapshot exists ? true
update server 2 's matchIndex from 185 to 185
server 1 receives appendEntry from leader 0 prevLogIndex 185
getEntryTerm
current commitIndex 184 lastIncludedIndex 179 snapshot exists ? true
update server 1 's matchIndex from 185 to 185
getEntryTerm
server 1 term 34 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 185
getEntryTerm
current commitIndex 184 lastIncludedIndex 179 snapshot exists ? true
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 34 state 2(leader true)(heartFlag false)
nextIndex
186 || 186 || 186 || 
matchIndex
185 || 185 || 185 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 185
getEntryTerm
current commitIndex 184 lastIncludedIndex 179 snapshot exists ? true
update server 2 's matchIndex from 185 to 185
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 185
getEntryTerm
current commitIndex 184 lastIncludedIndex 179 snapshot exists ? true
update server 1 's matchIndex from 185 to 185
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 185
getEntryTerm
current commitIndex 184 lastIncludedIndex 179 snapshot exists ? true
update server 1 's matchIndex from 185 to 185
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 185
getEntryTerm
current commitIndex 184 lastIncludedIndex 179 snapshot exists ? true
update server 2 's matchIndex from 185 to 185
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 34 state 0(leader false)(heartFlag true)
getEntryTerm
server 1 term 34 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 185
getEntryTerm
current commitIndex 184 lastIncludedIndex 179 snapshot exists ? true
update server 2 's matchIndex from 185 to 185
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 34 state 2(leader true)(heartFlag false)
nextIndex
186 || 186 || 186 || 
matchIndex
185 || 185 || 185 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 185
getEntryTerm
current commitIndex 184 lastIncludedIndex 179 snapshot exists ? true
update server 1 's matchIndex from 185 to 185
server 2 receives appendEntry from leader 0 prevLogIndex 185
getEntryTerm
current commitIndex 184 lastIncludedIndex 179 snapshot exists ? true
update server 2 's matchIndex from 185 to 185
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 185
getEntryTerm
current commitIndex 184 lastIncludedIndex 179 snapshot exists ? true
update server 2 's matchIndex from 185 to 185
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 185
getEntryTerm
current commitIndex 184 lastIncludedIndex 179 snapshot exists ? true
update server 2 's matchIndex from 185 to 185
getEntryTerm
server 2 term 34 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 34 state 0(leader false)(heartFlag true)
server 0 term 34 state 2(leader true)(heartFlag false)
nextIndex
186 || 186 || 186 || 
matchIndex
185 || 185 || 185 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 185
getEntryTerm
current commitIndex 184 lastIncludedIndex 179 snapshot exists ? true
update server 1 's matchIndex from 185 to 185
server 2 receives appendEntry from leader 0 prevLogIndex 185
getEntryTerm
current commitIndex 184 lastIncludedIndex 179 snapshot exists ? true
update server 2 's matchIndex from 185 to 185
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 185
getEntryTerm
current commitIndex 184 lastIncludedIndex 179 snapshot exists ? true
update server 1 's matchIndex from 185 to 185
server 2 receives appendEntry from leader 0 prevLogIndex 185
getEntryTerm
current commitIndex 184 lastIncludedIndex 179 snapshot exists ? true
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 185
getEntryTerm
current commitIndex 184 lastIncludedIndex 179 snapshot exists ? true
update server 2 's matchIndex from 185 to 185
getEntryTerm
server 1 term 34 state 0(leader false)(heartFlag true)
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 185
getEntryTerm
current commitIndex 184 lastIncludedIndex 179 snapshot exists ? true
update server 1 's matchIndex from 185 to 185
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 185
getEntryTerm
current commitIndex 184 lastIncludedIndex 179 snapshot exists ? true
update server 1 's matchIndex from 185 to 185
server 2 receives appendEntry from leader 0 prevLogIndex 185
getEntryTerm
current commitIndex 184 lastIncludedIndex 179 snapshot exists ? true
update server 2 's matchIndex from 185 to 185
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 34 state 2(leader true)(heartFlag false)
nextIndex
186 || 186 || 186 || 
matchIndex
185 || 185 || 185 || 
getEntryTerm
server 2 term 34 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 185
getEntryTerm
current commitIndex 184 lastIncludedIndex 179 snapshot exists ? true
update server 2 's matchIndex from 185 to 185
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 185
getEntryTerm
current commitIndex 184 lastIncludedIndex 179 snapshot exists ? true
update server 1 's matchIndex from 185 to 185
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 185
getEntryTerm
current commitIndex 184 lastIncludedIndex 179 snapshot exists ? true
update server 1 's matchIndex from 185 to 185
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
append command 1821309986613516236
len(log) = 186
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 185
getEntryTerm
current commitIndex 184 lastIncludedIndex 179 snapshot exists ? true
server 0 term 34 state 2(leader true)(heartFlag false)
nextIndex
187 || 187 || 186 || 
matchIndex
update server 1 's matchIndex from 185 to 186
186 || 186 || 185 || 
getEntryTerm
leader server 0 commit index 185 command 1821309986613516236
leader server 0 commit index 186 command 1821309986613516236
server 1 term 34 state 0(leader false)(heartFlag true)
server 2 receives appendEntry from leader 0 prevLogIndex 185
getEntryTerm
current commitIndex 184 lastIncludedIndex 179 snapshot exists ? true
update server 2 's matchIndex from 185 to 186
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 186
getEntryTerm
current commitIndex 184 lastIncludedIndex 179 snapshot exists ? true
follower server 1 commit index 185 command 1821309986613516236 
follower server 1 commit index 186 command 1821309986613516236 
update server 1 's matchIndex from 186 to 186
server 2 receives appendEntry from leader 0 prevLogIndex 186
getEntryTerm
current commitIndex 184 lastIncludedIndex 179 snapshot exists ? true
follower server 2 commit index 185 command 1821309986613516236 
follower server 2 commit index 186 command 1821309986613516236 
server 2 term 34 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 186
current commitIndex 186 lastIncludedIndex 179 snapshot exists ? true
update server 2 's matchIndex from 186 to 186
server 0 term 34 state 2(leader true)(heartFlag false)
nextIndex
187 || 187 || 187 || 
matchIndex
186 || 186 || 186 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 186
current commitIndex 186 lastIncludedIndex 179 snapshot exists ? true
update server 1 's matchIndex from 186 to 186
server 2 receives appendEntry from leader 0 prevLogIndex 186
current commitIndex 186 lastIncludedIndex 179 snapshot exists ? true
update server 2 's matchIndex from 186 to 186
server 1 term 34 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 186
current commitIndex 186 lastIncludedIndex 179 snapshot exists ? true
update server 2 's matchIndex from 186 to 186
server 1 receives appendEntry from leader 0 prevLogIndex 186
current commitIndex 186 lastIncludedIndex 179 snapshot exists ? true
update server 1 's matchIndex from 186 to 186
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 186
current commitIndex 186 lastIncludedIndex 179 snapshot exists ? true
server 2 term 34 state 0(leader false)(heartFlag true)
append command 2589214787785503965
len(log) = 187
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 186
current commitIndex 186 lastIncludedIndex 179 snapshot exists ? true
update server 2 's matchIndex from 186 to 187
getEntryTerm
leader server 0 commit index 187 command 2589214787785503965
server 0 term 34 state 2(leader true)(heartFlag false)
nextIndex
188 || 187 || 188 || 
matchIndex
187 || 186 || 187 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 187
getEntryTerm
current commitIndex 186 lastIncludedIndex 179 snapshot exists ? true
follower server 2 commit index 187 command 2589214787785503965 
update server 2 's matchIndex from 187 to 187
append command 3171089375355215119
len(log) = 188
append command 6868152167053225144
len(log) = 189
append command 1109647279671572908
len(log) = 190
append command 8795869707873645544
len(log) = 191
append command 8584085411997262866
len(log) = 192
append command 5994630290028888007
len(log) = 193
append command 5100558111402357599
len(log) = 194
append command 2902872630333946471
len(log) = 195
append command 6230127863223354863
len(log) = 196
append command 2424307568549420952
len(log) = 197
append command 8021365259765227408
len(log) = 198
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 187
current commitIndex 187 lastIncludedIndex 179 snapshot exists ? true
update server 2 's matchIndex from 187 to 198
getEntryTerm
leader server 0 commit index 188 command 3171089375355215119
leader server 0 commit index 189 command 6868152167053225144
leader server 0 commit index 190 command 1109647279671572908
server 0 takes snopshot and discards logs before index 189
getEntryTerm
discard index before 189(included)
server 0 finished snopshot
leader server 0 commit index 191 command 8795869707873645544
leader server 0 commit index 192 command 8584085411997262866
leader server 0 commit index 193 command 5994630290028888007
leader server 0 commit index 194 command 5100558111402357599
leader server 0 commit index 195 command 2902872630333946471
leader server 0 commit index 196 command 6230127863223354863
leader server 0 commit index 197 command 2424307568549420952
leader server 0 commit index 198 command 8021365259765227408
getEntryTerm
server 2 term 34 state 0(leader false)(heartFlag true)
server 2 receives appendEntry from leader 0 prevLogIndex 198
getEntryTerm
current commitIndex 187 lastIncludedIndex 179 snapshot exists ? true
follower server 2 commit index 188 command 3171089375355215119 
follower server 2 commit index 189 command 6868152167053225144 
follower server 2 commit index 190 command 1109647279671572908 
server 2 takes snopshot and discards logs before index 189
getEntryTerm
discard index before 189(included)
server 2 finished snopshot
follower server 2 commit index 191 command 8795869707873645544 
follower server 2 commit index 192 command 8584085411997262866 
follower server 2 commit index 193 command 5994630290028888007 
follower server 2 commit index 194 command 5100558111402357599 
follower server 2 commit index 195 command 2902872630333946471 
follower server 2 commit index 196 command 6230127863223354863 
follower server 2 commit index 197 command 2424307568549420952 
follower server 2 commit index 198 command 8021365259765227408 
server 1 read form stored snapshot
server 1 recover from snopshot
server 1 finishes recovery
append command 8248298279354482485
len(log) = 199
server 1 term 34 state 0(leader false)(heartFlag false)
server 1 term 34 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 0 convert to follower
getEntryTerm
server 0 thinks candidate 1 is not up-to-date
server 0 grant false for candidate 1's requestVote
server 0 term 35 state 0(leader false)(heartFlag false)
server 0 term 35 doesn't hear any heartbeat
server 0 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
getEntryTerm
server 2 thinks candidate 1 is not up-to-date
server 2 grant false for candidate 1's requestVote
server 1 convert to follower
getEntryTerm
server 1 grant true for candidate 0's requestVote
server 2 convert to follower
getEntryTerm
server 2 grant true for candidate 0's requestVote
server 0 convert to leader
server 0 term 36 send appendEntries
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 199
lastLogIndex 186, args.PrevLogIndex 199
server 2 receives appendEntry from leader 0 prevLogIndex 199
lastLogIndex 198, args.PrevLogIndex 199
getEntryTerm
server 1 receives snopshot from leader 0
server 1 commit snopshot to lastIncludedIndex 189
getEntryTerm
server 1 receives snopshot from leader 0
server 1 commit snopshot to lastIncludedIndex 189
server 2 receives appendEntry from leader 0 prevLogIndex 198
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 198
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 2 's matchIndex from 0 to 199
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 189
current commitIndex 189 lastIncludedIndex 189 snapshot exists ? true
follower server 1 commit index 190 command 1109647279671572908 
follower server 1 commit index 191 command 8795869707873645544 
follower server 1 commit index 192 command 8584085411997262866 
follower server 1 commit index 193 command 5994630290028888007 
follower server 1 commit index 194 command 5100558111402357599 
follower server 1 commit index 195 command 2902872630333946471 
follower server 1 commit index 196 command 6230127863223354863 
follower server 1 commit index 197 command 2424307568549420952 
follower server 1 commit index 198 command 8021365259765227408 
update server 1 's matchIndex from 189 to 199
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 36 state 0(leader false)(heartFlag true)
server 2 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
getEntryTerm
update server 2 's matchIndex from 199 to 199
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 1 's matchIndex from 199 to 199
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 2 's matchIndex from 199 to 199
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 2 's matchIndex from 199 to 199
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 1 's matchIndex from 199 to 199
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 2 's matchIndex from 199 to 199
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 1 's matchIndex from 199 to 199
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 2 's matchIndex from 199 to 199
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 1 's matchIndex from 199 to 199
server 2 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 2 's matchIndex from 199 to 199
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 2 's matchIndex from 199 to 199
getEntryTerm
server 2 term 36 state 0(leader false)(heartFlag true)
server 1 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 1 's matchIndex from 199 to 199
getEntryTerm
server 0 term 36 state 2(leader true)(heartFlag false)
nextIndex
200 || 200 || 200 || 
matchIndex
199 || 199 || 199 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 2 's matchIndex from 199 to 199
server 1 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 1 's matchIndex from 199 to 199
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 2 's matchIndex from 199 to 199
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 2 's matchIndex from 199 to 199
server 1 term 36 state 0(leader false)(heartFlag true)
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 1 's matchIndex from 199 to 199
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 1 's matchIndex from 199 to 199
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 2 's matchIndex from 199 to 199
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 1 's matchIndex from 199 to 199
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 1 's matchIndex from 199 to 199
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 2 's matchIndex from 199 to 199
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 2 's matchIndex from 199 to 199
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 1 's matchIndex from 199 to 199
server 2 term 36 state 0(leader false)(heartFlag true)
server 1 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 1 's matchIndex from 199 to 199
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 36 state 2(leader true)(heartFlag false)
nextIndex
200 || 200 || 200 || 
matchIndex
199 || 199 || 199 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
getEntryTerm
update server 2 's matchIndex from 199 to 199
server 1 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 1 's matchIndex from 199 to 199
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 1 's matchIndex from 199 to 199
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 2 's matchIndex from 199 to 199
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 2 's matchIndex from 199 to 199
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 1 's matchIndex from 199 to 199
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 1 's matchIndex from 199 to 199
server 2 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 2 's matchIndex from 199 to 199
getEntryTerm
server 1 term 36 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 1 's matchIndex from 199 to 199
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 2 's matchIndex from 199 to 199
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
getEntryTerm
getEntryTerm
server 2 term 36 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 36 state 2(leader true)(heartFlag false)
nextIndex
200 || 200 || 200 || 
matchIndex
199 || 199 || 199 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 1 's matchIndex from 199 to 199
server 2 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 2 's matchIndex from 199 to 199
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 2 's matchIndex from 199 to 199
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 1 's matchIndex from 199 to 199
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 1 's matchIndex from 199 to 199
getEntryTerm
getEntryTerm
server 1 term 36 state 0(leader false)(heartFlag true)
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 1 's matchIndex from 199 to 199
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 1 's matchIndex from 199 to 199
server 2 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 2 's matchIndex from 199 to 199
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 1 's matchIndex from 199 to 199
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 2 's matchIndex from 199 to 199
getEntryTerm
getEntryTerm
server 2 term 36 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 1 's matchIndex from 199 to 199
server 2 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 2 's matchIndex from 199 to 199
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 1 's matchIndex from 199 to 199
getEntryTerm
getEntryTerm
server 0 term 36 state 2(leader true)(heartFlag false)
nextIndex
200 || 200 || 200 || 
matchIndex
199 || 199 || 199 || 
server 2 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 2 's matchIndex from 199 to 199
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 2 's matchIndex from 199 to 199
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 1 's matchIndex from 199 to 199
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 1 's matchIndex from 199 to 199
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 1 's matchIndex from 199 to 199
server 2 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 2 's matchIndex from 199 to 199
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 36 state 0(leader false)(heartFlag true)
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 2 's matchIndex from 199 to 199
update server 1 's matchIndex from 199 to 199
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 1 's matchIndex from 199 to 199
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 2 's matchIndex from 199 to 199
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 2 's matchIndex from 199 to 199
getEntryTerm
append command 8248298279354482485
len(log) = 200
server 1 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 1 's matchIndex from 199 to 199
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 36 state 0(leader false)(heartFlag true)
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 2 's matchIndex from 199 to 200
server 1 receives appendEntry from leader 0 prevLogIndex 199
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
update server 1 's matchIndex from 199 to 200
getEntryTerm
leader server 0 commit index 199 command 8248298279354482485
leader server 0 commit index 200 command 8248298279354482485
server 0 takes snopshot and discards logs before index 199
getEntryTerm
discard index before 199(included)
server 0 finished snopshot
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 200
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
follower server 1 commit index 199 command 8248298279354482485 
follower server 1 commit index 200 command 8248298279354482485 
server 1 takes snopshot and discards logs before index 199
getEntryTerm
discard index before 199(included)
server 1 finished snopshot
update server 1 's matchIndex from 200 to 200
server 0 term 36 state 2(leader true)(heartFlag false)
nextIndex
201 || 201 || 201 || 
matchIndex
200 || 200 || 200 || 
server 2 receives appendEntry from leader 0 prevLogIndex 200
getEntryTerm
current commitIndex 198 lastIncludedIndex 189 snapshot exists ? true
follower server 2 commit index 199 command 8248298279354482485 
follower server 2 commit index 200 command 8248298279354482485 
server 2 takes snopshot and discards logs before index 199
getEntryTerm
discard index before 199(included)
server 2 finished snopshot
update server 2 's matchIndex from 200 to 200
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 200
current commitIndex 200 lastIncludedIndex 199 snapshot exists ? true
update server 1 's matchIndex from 200 to 200
server 2 receives appendEntry from leader 0 prevLogIndex 200
current commitIndex 200 lastIncludedIndex 199 snapshot exists ? true
update server 2 's matchIndex from 200 to 200
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 200
current commitIndex 200 lastIncludedIndex 199 snapshot exists ? true
update server 2 's matchIndex from 200 to 200
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 200
current commitIndex 200 lastIncludedIndex 199 snapshot exists ? true
update server 2 's matchIndex from 200 to 200
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 200
current commitIndex 200 lastIncludedIndex 199 snapshot exists ? true
update server 1 's matchIndex from 200 to 200
server 2 receives appendEntry from leader 0 prevLogIndex 200
current commitIndex 200 lastIncludedIndex 199 snapshot exists ? true
update server 2 's matchIndex from 200 to 200
server 1 term 36 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 term 36 state 2(leader true)(heartFlag false)
nextIndex
201 || 201 || 201 || 
matchIndex
200 || 200 || 200 || 
server 1 receives appendEntry from leader 0 prevLogIndex 200
current commitIndex 200 lastIncludedIndex 199 snapshot exists ? true
update server 1 's matchIndex from 200 to 200
server 2 receives appendEntry from leader 0 prevLogIndex 200
current commitIndex 200 lastIncludedIndex 199 snapshot exists ? true
update server 2 's matchIndex from 200 to 200
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 200
current commitIndex 200 lastIncludedIndex 199 snapshot exists ? true
update server 1 's matchIndex from 200 to 200
server 2 receives appendEntry from leader 0 prevLogIndex 200
current commitIndex 200 lastIncludedIndex 199 snapshot exists ? true
update server 2 's matchIndex from 200 to 200
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 200
current commitIndex 200 lastIncludedIndex 199 snapshot exists ? true
update server 1 's matchIndex from 200 to 200
server 2 receives appendEntry from leader 0 prevLogIndex 200
current commitIndex 200 lastIncludedIndex 199 snapshot exists ? true
update server 2 's matchIndex from 200 to 200
server 2 term 36 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 200
current commitIndex 200 lastIncludedIndex 199 snapshot exists ? true
update server 1 's matchIndex from 200 to 200
server 2 receives appendEntry from leader 0 prevLogIndex 200
current commitIndex 200 lastIncludedIndex 199 snapshot exists ? true
update server 2 's matchIndex from 200 to 200
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 200
current commitIndex 200 lastIncludedIndex 199 snapshot exists ? true
update server 1 's matchIndex from 200 to 200
server 2 receives appendEntry from leader 0 prevLogIndex 200
current commitIndex 200 lastIncludedIndex 199 snapshot exists ? true
update server 2 's matchIndex from 200 to 200
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 200
current commitIndex 200 lastIncludedIndex 199 snapshot exists ? true
update server 2 's matchIndex from 200 to 200
server 1 receives appendEntry from leader 0 prevLogIndex 200
current commitIndex 200 lastIncludedIndex 199 snapshot exists ? true
update server 1 's matchIndex from 200 to 200
server 1 term 36 state 0(leader false)(heartFlag true)
server 2 term 36 state 0(leader false)(heartFlag true)
server 1 term 36 state 0(leader false)(heartFlag false)
server 1 term 36 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
getEntryTerm
server 2 grant true for candidate 1's requestVote
server 1 convert to leader
server 1 term 37 send appendEntries
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 200
current commitIndex 200 lastIncludedIndex 199 snapshot exists ? true
update server 2 's matchIndex from 0 to 200
append command 2166299268906352423
len(log) = 201
server 2 term 37 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 200
current commitIndex 200 lastIncludedIndex 199 snapshot exists ? true
update server 2 's matchIndex from 200 to 201
getEntryTerm
leader server 1 commit index 201 command 2166299268906352423
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 201
getEntryTerm
current commitIndex 200 lastIncludedIndex 199 snapshot exists ? true
follower server 2 commit index 201 command 2166299268906352423 
update server 2 's matchIndex from 201 to 201
append command 6318254293175345496
len(log) = 202
append command 615442579658622124
len(log) = 203
append command 215993868976032147
len(log) = 204
append command 4883022738985313230
len(log) = 205
append command 1004630638655740882
len(log) = 206
append command 7155299010886305761
len(log) = 207
append command 906280200675679478
len(log) = 208
append command 5342928153294482567
len(log) = 209
append command 6597844896660753358
len(log) = 210
append command 8548562606449113902
len(log) = 211
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 201
current commitIndex 201 lastIncludedIndex 199 snapshot exists ? true
update server 2 's matchIndex from 201 to 211
getEntryTerm
leader server 1 commit index 202 command 6318254293175345496
leader server 1 commit index 203 command 615442579658622124
leader server 1 commit index 204 command 215993868976032147
leader server 1 commit index 205 command 4883022738985313230
leader server 1 commit index 206 command 1004630638655740882
leader server 1 commit index 207 command 7155299010886305761
leader server 1 commit index 208 command 906280200675679478
leader server 1 commit index 209 command 5342928153294482567
leader server 1 commit index 210 command 6597844896660753358
server 1 takes snopshot and discards logs before index 209
getEntryTerm
discard index before 209(included)
server 1 finished snopshot
leader server 1 commit index 211 command 8548562606449113902
server 2 term 37 state 0(leader false)(heartFlag true)
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 211
getEntryTerm
current commitIndex 201 lastIncludedIndex 199 snapshot exists ? true
follower server 2 commit index 202 command 6318254293175345496 
follower server 2 commit index 203 command 615442579658622124 
follower server 2 commit index 204 command 215993868976032147 
follower server 2 commit index 205 command 4883022738985313230 
follower server 2 commit index 206 command 1004630638655740882 
follower server 2 commit index 207 command 7155299010886305761 
follower server 2 commit index 208 command 906280200675679478 
follower server 2 commit index 209 command 5342928153294482567 
follower server 2 commit index 210 command 6597844896660753358 
server 2 takes snopshot and discards logs before index 209
getEntryTerm
discard index before 209(included)
server 2 finished snopshot
follower server 2 commit index 211 command 8548562606449113902 
update server 2 's matchIndex from 211 to 211
server 0 read form stored snapshot
server 0 recover from snopshot
server 0 finishes recovery
server 0 term 36 state 0(leader false)(heartFlag false)
server 0 term 36 doesn't hear any heartbeat
append command 8358890395275355565
server 0 convert to candidate
len(log) = 212
getEntryTerm
getEntryTerm
getEntryTerm
server 2 already has a voteFor 1 but not candidate 0
server 2 grant false for candidate 0's requestVote
getEntryTerm
server 1 already has a voteFor 1 but not candidate 0
server 1 grant false for candidate 0's requestVote
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 211
current commitIndex 211 lastIncludedIndex 209 snapshot exists ? true
update server 2 's matchIndex from 211 to 212
getEntryTerm
leader server 1 commit index 212 command 8358890395275355565
server 0 receives snopshot from leader 1
server 0 commit snopshot to lastIncludedIndex 209
getEntryTerm
server 1 term 37 state 2(leader true)(heartFlag false)
nextIndex
210 || 213 || 213 || 
matchIndex
209 || 212 || 212 || 
server 0 receives appendEntry from leader 1 prevLogIndex 209
server 0 convert to follower
current commitIndex 209 lastIncludedIndex 209 snapshot exists ? true
follower server 0 commit index 210 command 6597844896660753358 
follower server 0 commit index 211 command 8548562606449113902 
follower server 0 commit index 212 command 8358890395275355565 
server 2 receives appendEntry from leader 1 prevLogIndex 212
getEntryTerm
current commitIndex 211 lastIncludedIndex 209 snapshot exists ? true
follower server 2 commit index 212 command 8358890395275355565 
update server 2 's matchIndex from 212 to 212
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 209
current commitIndex 212 lastIncludedIndex 209 snapshot exists ? true
update server 0 's matchIndex from 209 to 212
server 2 receives appendEntry from leader 1 prevLogIndex 212
current commitIndex 212 lastIncludedIndex 209 snapshot exists ? true
update server 2 's matchIndex from 212 to 212
server 2 term 37 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 212
current commitIndex 212 lastIncludedIndex 209 snapshot exists ? true
update server 2 's matchIndex from 212 to 212
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 212
current commitIndex 212 lastIncludedIndex 209 snapshot exists ? true
update server 2 's matchIndex from 212 to 212
server 0 receives appendEntry from leader 1 prevLogIndex 212
current commitIndex 212 lastIncludedIndex 209 snapshot exists ? true
update server 0 's matchIndex from 212 to 212
server 1 term 37 state 2(leader true)(heartFlag false)
nextIndex
213 || 213 || 213 || 
matchIndex
212 || 212 || 212 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 212
current commitIndex 212 lastIncludedIndex 209 snapshot exists ? true
update server 0 's matchIndex from 212 to 212
server 2 receives appendEntry from leader 1 prevLogIndex 212
current commitIndex 212 lastIncludedIndex 209 snapshot exists ? true
update server 2 's matchIndex from 212 to 212
getEntryTerm
getEntryTerm
server 2 term 37 state 0(leader false)(heartFlag true)
server 0 receives appendEntry from leader 1 prevLogIndex 212
current commitIndex 212 lastIncludedIndex 209 snapshot exists ? true
update server 0 's matchIndex from 212 to 212
server 2 receives appendEntry from leader 1 prevLogIndex 212
current commitIndex 212 lastIncludedIndex 209 snapshot exists ? true
update server 2 's matchIndex from 212 to 212
append command 4475735870712729323
len(log) = 213
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 212
current commitIndex 212 lastIncludedIndex 209 snapshot exists ? true
update server 0 's matchIndex from 212 to 213
getEntryTerm
leader server 1 commit index 213 command 4475735870712729323
server 0 term 37 state 0(leader false)(heartFlag true)
server 1 term 37 state 2(leader true)(heartFlag false)
nextIndex
214 || 214 || 213 || 
matchIndex
213 || 213 || 212 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 213
getEntryTerm
current commitIndex 212 lastIncludedIndex 209 snapshot exists ? true
follower server 0 commit index 213 command 4475735870712729323 
update server 0 's matchIndex from 213 to 213
append command 8986902903213733456
len(log) = 214
append command 1450692770671558036
len(log) = 215
append command 390481483094578519
len(log) = 216
append command 1132848752893496169
len(log) = 217
append command 754200777951802608
len(log) = 218
append command 1456531081983986072
len(log) = 219
append command 3335246703182413214
len(log) = 220
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 213
current commitIndex 213 lastIncludedIndex 209 snapshot exists ? true
update server 0 's matchIndex from 213 to 220
getEntryTerm
leader server 1 commit index 214 command 8986902903213733456
leader server 1 commit index 215 command 1450692770671558036
leader server 1 commit index 216 command 390481483094578519
leader server 1 commit index 217 command 1132848752893496169
leader server 1 commit index 218 command 754200777951802608
leader server 1 commit index 219 command 1456531081983986072
leader server 1 commit index 220 command 3335246703182413214
server 1 takes snopshot and discards logs before index 219
getEntryTerm
discard index before 219(included)
server 1 finished snopshot
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 220
getEntryTerm
current commitIndex 213 lastIncludedIndex 209 snapshot exists ? true
follower server 0 commit index 214 command 8986902903213733456 
follower server 0 commit index 215 command 1450692770671558036 
follower server 0 commit index 216 command 390481483094578519 
follower server 0 commit index 217 command 1132848752893496169 
follower server 0 commit index 218 command 754200777951802608 
follower server 0 commit index 219 command 1456531081983986072 
server 0 takes snopshot and discards logs before index 219
getEntryTerm
discard index before 219(included)
follower server 0 commit index 220 command 3335246703182413214 
server 0 finished snopshot
update server 0 's matchIndex from 220 to 220
server 2 read form stored snapshot
server 2 recover from snopshot
server 2 finishes recovery
append command 5032558369767109980
len(log) = 221
server 2 term 37 state 0(leader false)(heartFlag false)
server 2 term 37 doesn't hear any heartbeat
server 2 convert to candidate
getEntryTerm
getEntryTerm
server 1 convert to follower
getEntryTerm
server 1 thinks candidate 2 is not up-to-date
server 1 grant false for candidate 2's requestVote
server 0 convert to follower
getEntryTerm
server 0 thinks candidate 2 is not up-to-date
server 0 grant false for candidate 2's requestVote
server 0 term 38 state 0(leader false)(heartFlag true)
server 1 term 38 state 0(leader false)(heartFlag false)
server 1 term 38 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 0 convert to follower
getEntryTerm
server 0 grant true for candidate 1's requestVote
server 2 convert to follower
getEntryTerm
server 2 grant true for candidate 1's requestVote
server 1 convert to leader
server 1 term 39 send appendEntries
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 221
lastLogIndex 212, args.PrevLogIndex 221
getEntryTerm
server 2 receives snopshot from leader 1
server 2 commit snopshot to lastIncludedIndex 219
server 0 receives appendEntry from leader 1 prevLogIndex 221
lastLogIndex 220, args.PrevLogIndex 221
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 220
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 0 to 221
server 2 receives appendEntry from leader 1 prevLogIndex 219
current commitIndex 219 lastIncludedIndex 219 snapshot exists ? true
follower server 2 commit index 220 command 3335246703182413214 
update server 2 's matchIndex from 219 to 221
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
update server 2 's matchIndex from 221 to 221
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
update server 2 's matchIndex from 221 to 221
server 0 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 221 to 221
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
getEntryTerm
update server 0 's matchIndex from 221 to 221
server 2 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
update server 2 's matchIndex from 221 to 221
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
update server 2 's matchIndex from 221 to 221
server 2 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
getEntryTerm
update server 2 's matchIndex from 221 to 221
server 0 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 221 to 221
getEntryTerm
getEntryTerm
server 0 term 39 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
getEntryTerm
update server 2 's matchIndex from 221 to 221
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 221 to 221
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 221 to 221
server 2 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
update server 2 's matchIndex from 221 to 221
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
update server 2 's matchIndex from 221 to 221
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 39 state 2(leader true)(heartFlag false)
nextIndex
222 || 222 || 222 || 
matchIndex
221 || 221 || 221 || 
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 221 to 221
server 0 term 39 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
update server 2 's matchIndex from 221 to 221
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
update server 2 's matchIndex from 221 to 221
server 2 term 39 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 221 to 221
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 221 to 221
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
update server 2 's matchIndex from 221 to 221
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
update server 2 's matchIndex from 221 to 221
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 221 to 221
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 221 to 221
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
update server 2 's matchIndex from 221 to 221
server 0 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 221 to 221
update server 2 's matchIndex from 221 to 221
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 221 to 221
getEntryTerm
server 0 term 39 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 39 state 2(leader true)(heartFlag false)
nextIndex
222 || 222 || 222 || 
matchIndex
221 || 221 || 221 || 
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
update server 2 's matchIndex from 221 to 221
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 221 to 221
server 2 term 39 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 221 to 221
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
update server 2 's matchIndex from 221 to 221
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
update server 2 's matchIndex from 221 to 221
server 0 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 221 to 221
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 221 to 221
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
update server 2 's matchIndex from 221 to 221
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 221 to 221
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
update server 2 's matchIndex from 221 to 221
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
update server 2 's matchIndex from 221 to 221
server 0 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 221 to 221
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
server 0 term 39 state 0(leader false)(heartFlag true)
update server 2 's matchIndex from 221 to 221
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 221 to 221
getEntryTerm
getEntryTerm
server 1 term 39 state 2(leader true)(heartFlag false)
nextIndex
222 || 222 || 222 || 
matchIndex
221 || 221 || 221 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
update server 2 's matchIndex from 221 to 221
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 221 to 221
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
getEntryTerm
server 2 term 39 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 221 to 221
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
update server 2 's matchIndex from 221 to 221
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 221 to 221
server 2 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
update server 2 's matchIndex from 221 to 221
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
update server 2 's matchIndex from 221 to 221
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 221 to 221
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
server 0 term 39 state 0(leader false)(heartFlag true)
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 39 state 2(leader true)(heartFlag false)
nextIndex
222 || 222 || 222 || 
matchIndex
221 || 221 || 221 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 221 to 221
server 2 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
update server 2 's matchIndex from 221 to 221
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 221 to 221
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 39 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 221 to 221
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
update server 2 's matchIndex from 221 to 221
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 221 to 221
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
update server 2 's matchIndex from 221 to 221
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
update server 2 's matchIndex from 221 to 221
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 221 to 221
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 221 to 221
append command 5032558369767109980
len(log) = 222
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 221 to 222
getEntryTerm
leader server 1 commit index 221 command 5032558369767109980
leader server 1 commit index 222 command 5032558369767109980
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
update server 2 's matchIndex from 221 to 222
server 0 receives appendEntry from leader 1 prevLogIndex 222
getEntryTerm
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 221
getEntryTerm
follower server 0 commit index 221 command 5032558369767109980 
follower server 0 commit index 222 command 5032558369767109980 
current commitIndex 220 lastIncludedIndex 219 snapshot exists ? true
server 1 term 39 state 2(leader true)(heartFlag false)
nextIndex
223 || 223 || 223 || 
matchIndex
222 || 222 || 222 || 
follower server 2 commit index 221 command 5032558369767109980 
follower server 2 commit index 222 command 5032558369767109980 
update server 0 's matchIndex from 222 to 222
server 0 term 39 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 222
current commitIndex 222 lastIncludedIndex 219 snapshot exists ? true
update server 2 's matchIndex from 222 to 222
server 2 term 39 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 222
current commitIndex 222 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 222 to 222
server 0 receives appendEntry from leader 1 prevLogIndex 222
current commitIndex 222 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 222 to 222
server 2 receives appendEntry from leader 1 prevLogIndex 222
current commitIndex 222 lastIncludedIndex 219 snapshot exists ? true
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 222
current commitIndex 222 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 222 to 222
server 2 receives appendEntry from leader 1 prevLogIndex 222
current commitIndex 222 lastIncludedIndex 219 snapshot exists ? true
update server 2 's matchIndex from 222 to 222
server 2 receives appendEntry from leader 1 prevLogIndex 222
current commitIndex 222 lastIncludedIndex 219 snapshot exists ? true
update server 2 's matchIndex from 222 to 222
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 222
current commitIndex 222 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 222 to 222
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 222
current commitIndex 222 lastIncludedIndex 219 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 222
current commitIndex 222 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 222 to 222
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 222
current commitIndex 222 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 222 to 222
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 222
current commitIndex 222 lastIncludedIndex 219 snapshot exists ? true
update server 2 's matchIndex from 222 to 222
server 1 term 39 state 2(leader true)(heartFlag false)
nextIndex
223 || 223 || 223 || 
matchIndex
222 || 222 || 222 || 
server 0 receives appendEntry from leader 1 prevLogIndex 222
current commitIndex 222 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 222 to 222
server 2 receives appendEntry from leader 1 prevLogIndex 222
current commitIndex 222 lastIncludedIndex 219 snapshot exists ? true
update server 2 's matchIndex from 222 to 222
server 0 term 39 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
append command 380919406978874482
len(log) = 223
server 0 receives appendEntry from leader 1 prevLogIndex 222
current commitIndex 222 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 222 to 222
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 222
current commitIndex 222 lastIncludedIndex 219 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 222
current commitIndex 222 lastIncludedIndex 219 snapshot exists ? true
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 222
current commitIndex 222 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 222 to 223
getEntryTerm
leader server 1 commit index 223 command 380919406978874482
server 0 receives appendEntry from leader 1 prevLogIndex 222
current commitIndex 222 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 223 to 223
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 223
getEntryTerm
current commitIndex 222 lastIncludedIndex 219 snapshot exists ? true
follower server 0 commit index 223 command 380919406978874482 
update server 0 's matchIndex from 223 to 223
getEntryTerm
getEntryTerm
append command 791815191027659373
len(log) = 224
append command 2235770377931572679
len(log) = 225
append command 2390546427045954303
len(log) = 226
append command 3838115006504108003
len(log) = 227
append command 7054087921434721888
len(log) = 228
append command 5212241561348420098
len(log) = 229
append command 8690654109756061137
len(log) = 230
append command 7738808313597854183
len(log) = 231
append command 4320094681358097417
len(log) = 232
append command 5370935601194495390
len(log) = 233
append command 166926325470417999
len(log) = 234
append command 3346589125893247313
len(log) = 235
append command 6348616937288703049
len(log) = 236
server 0 receives appendEntry from leader 1 prevLogIndex 223
current commitIndex 223 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 223 to 223
server 1 term 39 state 2(leader true)(heartFlag false)
nextIndex
224 || 237 || 223 || 
matchIndex
223 || 236 || 222 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 223
current commitIndex 223 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 223 to 236
getEntryTerm
getEntryTerm
getEntryTerm
leader server 1 commit index 224 command 791815191027659373
leader server 1 commit index 225 command 2235770377931572679
leader server 1 commit index 226 command 2390546427045954303
leader server 1 commit index 227 command 3838115006504108003
leader server 1 commit index 228 command 7054087921434721888
leader server 1 commit index 229 command 5212241561348420098
leader server 1 commit index 230 command 8690654109756061137
server 1 takes snopshot and discards logs before index 229
getEntryTerm
discard index before 229(included)
server 1 finished snopshot
leader server 1 commit index 231 command 7738808313597854183
leader server 1 commit index 232 command 4320094681358097417
leader server 1 commit index 233 command 5370935601194495390
leader server 1 commit index 234 command 166926325470417999
leader server 1 commit index 235 command 3346589125893247313
leader server 1 commit index 236 command 6348616937288703049
server 0 receives appendEntry from leader 1 prevLogIndex 236
getEntryTerm
current commitIndex 223 lastIncludedIndex 219 snapshot exists ? true
update server 0 's matchIndex from 236 to 236
getEntryTerm
server 0 term 39 state 0(leader false)(heartFlag true)
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 236
getEntryTerm
current commitIndex 223 lastIncludedIndex 219 snapshot exists ? true
follower server 0 commit index 224 command 791815191027659373 
follower server 0 commit index 225 command 2235770377931572679 
follower server 0 commit index 226 command 2390546427045954303 
follower server 0 commit index 227 command 3838115006504108003 
follower server 0 commit index 228 command 7054087921434721888 
follower server 0 commit index 229 command 5212241561348420098 
follower server 0 commit index 230 command 8690654109756061137 
server 0 takes snopshot and discards logs before index 229
getEntryTerm
discard index before 229(included)
server 0 finished snopshot
follower server 0 commit index 231 command 7738808313597854183 
follower server 0 commit index 232 command 4320094681358097417 
follower server 0 commit index 233 command 5370935601194495390 
follower server 0 commit index 234 command 166926325470417999 
follower server 0 commit index 235 command 3346589125893247313 
follower server 0 commit index 236 command 6348616937288703049 
update server 0 's matchIndex from 236 to 236
server 2 read form stored snapshot
server 2 recover from snopshot
server 2 finishes recovery
append command 8196217404307976207
server 2 term 39 state 0(leader false)(heartFlag false)
server 2 term 39 doesn't hear any heartbeat
server 2 convert to candidate
len(log) = 237
getEntryTerm
getEntryTerm
server 1 convert to follower
getEntryTerm
server 1 thinks candidate 2 is not up-to-date
server 1 grant false for candidate 2's requestVote
server 0 convert to follower
getEntryTerm
server 0 thinks candidate 2 is not up-to-date
server 0 grant false for candidate 2's requestVote
server 1 term 40 state 0(leader false)(heartFlag false)
server 1 term 40 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 0 convert to follower
getEntryTerm
server 0 grant true for candidate 1's requestVote
server 1 convert to leader
server 1 term 41 send appendEntries
getEntryTerm
getEntryTerm
server 2 convert to follower
getEntryTerm
server 2 grant true for candidate 1's requestVote
server 0 receives appendEntry from leader 1 prevLogIndex 237
lastLogIndex 236, args.PrevLogIndex 237
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 236
current commitIndex 236 lastIncludedIndex 229 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 237
lastLogIndex 222, args.PrevLogIndex 237
update server 0 's matchIndex from 0 to 237
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives snopshot from leader 1
server 2 commit snopshot to lastIncludedIndex 229
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 237
getEntryTerm
current commitIndex 236 lastIncludedIndex 229 snapshot exists ? true
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 41 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 229
current commitIndex 229 lastIncludedIndex 229 snapshot exists ? true
follower server 2 commit index 230 command 8690654109756061137 
follower server 2 commit index 231 command 7738808313597854183 
follower server 2 commit index 232 command 4320094681358097417 
follower server 2 commit index 233 command 5370935601194495390 
follower server 2 commit index 234 command 166926325470417999 
follower server 2 commit index 235 command 3346589125893247313 
follower server 2 commit index 236 command 6348616937288703049 
update server 2 's matchIndex from 229 to 237
server 0 receives appendEntry from leader 1 prevLogIndex 237
getEntryTerm
current commitIndex 236 lastIncludedIndex 229 snapshot exists ? true
update server 0 's matchIndex from 237 to 237
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 237
getEntryTerm
current commitIndex 236 lastIncludedIndex 229 snapshot exists ? true
update server 0 's matchIndex from 237 to 237
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 237
getEntryTerm
current commitIndex 236 lastIncludedIndex 229 snapshot exists ? true
update server 2 's matchIndex from 237 to 237
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 237
getEntryTerm
current commitIndex 236 lastIncludedIndex 229 snapshot exists ? true
update server 0 's matchIndex from 237 to 237
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 237
getEntryTerm
current commitIndex 236 lastIncludedIndex 229 snapshot exists ? true
update server 2 's matchIndex from 237 to 237
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 41 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 237
getEntryTerm
current commitIndex 236 lastIncludedIndex 229 snapshot exists ? true
update server 0 's matchIndex from 237 to 237
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 237
getEntryTerm
current commitIndex 236 lastIncludedIndex 229 snapshot exists ? true
update server 2 's matchIndex from 237 to 237
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 41 state 0(leader false)(heartFlag true)
getEntryTerm
server 1 term 41 state 2(leader true)(heartFlag false)
nextIndex
238 || 238 || 238 || 
matchIndex
237 || 237 || 237 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 237
getEntryTerm
current commitIndex 236 lastIncludedIndex 229 snapshot exists ? true
update server 0 's matchIndex from 237 to 237
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 237
getEntryTerm
current commitIndex 236 lastIncludedIndex 229 snapshot exists ? true
update server 2 's matchIndex from 237 to 237
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 237
getEntryTerm
current commitIndex 236 lastIncludedIndex 229 snapshot exists ? true
update server 0 's matchIndex from 237 to 237
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 237
getEntryTerm
current commitIndex 236 lastIncludedIndex 229 snapshot exists ? true
update server 2 's matchIndex from 237 to 237
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 237
getEntryTerm
current commitIndex 236 lastIncludedIndex 229 snapshot exists ? true
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 237
getEntryTerm
current commitIndex 236 lastIncludedIndex 229 snapshot exists ? true
update server 2 's matchIndex from 237 to 237
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 41 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 term 41 state 2(leader true)(heartFlag false)
nextIndex
238 || 238 || 238 || 
matchIndex
237 || 237 || 237 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 237
getEntryTerm
current commitIndex 236 lastIncludedIndex 229 snapshot exists ? true
update server 2 's matchIndex from 237 to 237
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 41 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 237
getEntryTerm
current commitIndex 236 lastIncludedIndex 229 snapshot exists ? true
update server 0 's matchIndex from 237 to 237
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 237
getEntryTerm
current commitIndex 236 lastIncludedIndex 229 snapshot exists ? true
update server 2 's matchIndex from 237 to 237
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 237
getEntryTerm
current commitIndex 236 lastIncludedIndex 229 snapshot exists ? true
update server 2 's matchIndex from 237 to 237
server 0 receives appendEntry from leader 1 prevLogIndex 237
getEntryTerm
current commitIndex 236 lastIncludedIndex 229 snapshot exists ? true
update server 0 's matchIndex from 237 to 237
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 41 state 0(leader false)(heartFlag true)
server 1 term 41 state 2(leader true)(heartFlag false)
nextIndex
238 || 238 || 238 || 
matchIndex
237 || 237 || 237 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 237
getEntryTerm
current commitIndex 236 lastIncludedIndex 229 snapshot exists ? true
update server 0 's matchIndex from 237 to 237
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 41 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 237
getEntryTerm
current commitIndex 236 lastIncludedIndex 229 snapshot exists ? true
update server 2 's matchIndex from 237 to 237
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 237
getEntryTerm
current commitIndex 236 lastIncludedIndex 229 snapshot exists ? true
update server 0 's matchIndex from 237 to 237
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 237
getEntryTerm
current commitIndex 236 lastIncludedIndex 229 snapshot exists ? true
update server 0 's matchIndex from 237 to 237
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 237
getEntryTerm
current commitIndex 236 lastIncludedIndex 229 snapshot exists ? true
update server 2 's matchIndex from 237 to 237
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 237
getEntryTerm
current commitIndex 236 lastIncludedIndex 229 snapshot exists ? true
update server 2 's matchIndex from 237 to 237
getEntryTerm
server 2 term 41 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 41 state 2(leader true)(heartFlag false)
nextIndex
238 || 238 || 238 || 
matchIndex
237 || 237 || 237 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 237
getEntryTerm
current commitIndex 236 lastIncludedIndex 229 snapshot exists ? true
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 237
getEntryTerm
current commitIndex 236 lastIncludedIndex 229 snapshot exists ? true
update server 0 's matchIndex from 237 to 237
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 41 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 237
getEntryTerm
current commitIndex 236 lastIncludedIndex 229 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 237
getEntryTerm
current commitIndex 236 lastIncludedIndex 229 snapshot exists ? true
update server 2 's matchIndex from 237 to 237
update server 0 's matchIndex from 237 to 237
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 41 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 237
getEntryTerm
current commitIndex 236 lastIncludedIndex 229 snapshot exists ? true
append command 8196217404307976207
len(log) = 238
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 237
getEntryTerm
current commitIndex 236 lastIncludedIndex 229 snapshot exists ? true
update server 0 's matchIndex from 237 to 237
server 1 term 41 state 2(leader true)(heartFlag false)
nextIndex
238 || 239 || 238 || 
matchIndex
237 || 238 || 237 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 237
getEntryTerm
current commitIndex 236 lastIncludedIndex 229 snapshot exists ? true
update server 0 's matchIndex from 237 to 238
getEntryTerm
leader server 1 commit index 237 command 8196217404307976207
leader server 1 commit index 238 command 8196217404307976207
server 2 receives appendEntry from leader 1 prevLogIndex 237
getEntryTerm
current commitIndex 236 lastIncludedIndex 229 snapshot exists ? true
update server 2 's matchIndex from 237 to 238
server 0 term 41 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 238
getEntryTerm
current commitIndex 236 lastIncludedIndex 229 snapshot exists ? true
follower server 0 commit index 237 command 8196217404307976207 
follower server 0 commit index 238 command 8196217404307976207 
update server 0 's matchIndex from 238 to 238
server 2 term 41 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 238
getEntryTerm
current commitIndex 236 lastIncludedIndex 229 snapshot exists ? true
follower server 2 commit index 237 command 8196217404307976207 
follower server 2 commit index 238 command 8196217404307976207 
update server 2 's matchIndex from 238 to 238
server 0 receives appendEntry from leader 1 prevLogIndex 238
current commitIndex 238 lastIncludedIndex 229 snapshot exists ? true
update server 0 's matchIndex from 238 to 238
server 1 term 41 state 2(leader true)(heartFlag false)
nextIndex
239 || 239 || 239 || 
matchIndex
238 || 238 || 238 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 238
current commitIndex 238 lastIncludedIndex 229 snapshot exists ? true
update server 2 's matchIndex from 238 to 238
server 0 receives appendEntry from leader 1 prevLogIndex 238
current commitIndex 238 lastIncludedIndex 229 snapshot exists ? true
update server 0 's matchIndex from 238 to 238
server 0 term 41 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 238
current commitIndex 238 lastIncludedIndex 229 snapshot exists ? true
update server 2 's matchIndex from 238 to 238
server 2 term 41 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 238
current commitIndex 238 lastIncludedIndex 229 snapshot exists ? true
update server 2 's matchIndex from 238 to 238
server 0 receives appendEntry from leader 1 prevLogIndex 238
current commitIndex 238 lastIncludedIndex 229 snapshot exists ? true
update server 0 's matchIndex from 238 to 238
server 1 term 41 state 2(leader true)(heartFlag false)
nextIndex
239 || 239 || 239 || 
matchIndex
238 || 238 || 238 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 238
current commitIndex 238 lastIncludedIndex 229 snapshot exists ? true
update server 2 's matchIndex from 238 to 238
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 238
current commitIndex 238 lastIncludedIndex 229 snapshot exists ? true
update server 2 's matchIndex from 238 to 238
server 0 receives appendEntry from leader 1 prevLogIndex 238
current commitIndex 238 lastIncludedIndex 229 snapshot exists ? true
update server 0 's matchIndex from 238 to 238
server 0 term 41 state 0(leader false)(heartFlag true)
server 2 term 41 state 0(leader false)(heartFlag true)
server 0 term 41 state 0(leader false)(heartFlag false)
server 0 term 41 doesn't hear any heartbeat
server 0 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
getEntryTerm
server 2 grant true for candidate 0's requestVote
server 0 convert to leader
server 0 term 42 send appendEntries
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 238
current commitIndex 238 lastIncludedIndex 229 snapshot exists ? true
update server 2 's matchIndex from 0 to 238
append command 3223973115876674137
len(log) = 239
server 2 term 42 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 238
current commitIndex 238 lastIncludedIndex 229 snapshot exists ? true
update server 2 's matchIndex from 238 to 239
getEntryTerm
leader server 0 commit index 239 command 3223973115876674137
server 0 takes snopshot and discards logs before index 239
getEntryTerm
discard index before 239(included)
server 0 finished snopshot
server 2 receives appendEntry from leader 0 prevLogIndex 239
getEntryTerm
current commitIndex 238 lastIncludedIndex 229 snapshot exists ? true
follower server 2 commit index 239 command 3223973115876674137 
update server 2 's matchIndex from 239 to 239
server 2 takes snopshot and discards logs before index 239
getEntryTerm
discard index before 239(included)
server 2 finished snopshot
append command 2712118692629475412
len(log) = 240
server 2 receives appendEntry from leader 0 prevLogIndex 239
current commitIndex 239 lastIncludedIndex 239 snapshot exists ? true
update server 2 's matchIndex from 239 to 240
getEntryTerm
leader server 0 commit index 240 command 2712118692629475412
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 240
getEntryTerm
current commitIndex 239 lastIncludedIndex 239 snapshot exists ? true
follower server 2 commit index 240 command 2712118692629475412 
update server 2 's matchIndex from 240 to 240
server 1 read form stored snapshot
server 1 recover from snopshot
server 1 finishes recovery
append command 977808579111591187
server 1 term 41 state 0(leader false)(heartFlag false)
server 1 term 41 doesn't hear any heartbeat
server 1 convert to candidate
len(log) = 241
getEntryTerm
getEntryTerm
getEntryTerm
server 2 already has a voteFor 0 but not candidate 1
server 2 grant false for candidate 1's requestVote
getEntryTerm
server 0 already has a voteFor 0 but not candidate 1
server 0 grant false for candidate 1's requestVote
server 0 term 42 state 2(leader true)(heartFlag false)
nextIndex
242 || 239 || 241 || 
matchIndex
241 || 0 || 240 || 
getEntryTerm
server 1 receives snopshot from leader 0
server 1 commit snopshot to lastIncludedIndex 239
server 2 term 42 state 0(leader false)(heartFlag true)
server 2 receives appendEntry from leader 0 prevLogIndex 240
current commitIndex 240 lastIncludedIndex 239 snapshot exists ? true
update server 2 's matchIndex from 240 to 241
getEntryTerm
leader server 0 commit index 241 command 977808579111591187
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 239
server 1 convert to follower
current commitIndex 239 lastIncludedIndex 239 snapshot exists ? true
follower server 1 commit index 240 command 2712118692629475412 
follower server 1 commit index 241 command 977808579111591187 
update server 1 's matchIndex from 239 to 241
server 2 receives appendEntry from leader 0 prevLogIndex 241
getEntryTerm
current commitIndex 240 lastIncludedIndex 239 snapshot exists ? true
follower server 2 commit index 241 command 977808579111591187 
update server 2 's matchIndex from 241 to 241
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 241
current commitIndex 241 lastIncludedIndex 239 snapshot exists ? true
update server 1 's matchIndex from 241 to 241
server 0 term 42 state 2(leader true)(heartFlag false)
nextIndex
242 || 242 || 242 || 
matchIndex
241 || 241 || 241 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 241
current commitIndex 241 lastIncludedIndex 239 snapshot exists ? true
update server 2 's matchIndex from 241 to 241
server 1 receives appendEntry from leader 0 prevLogIndex 241
current commitIndex 241 lastIncludedIndex 239 snapshot exists ? true
update server 1 's matchIndex from 241 to 241
server 2 term 42 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 241
current commitIndex 241 lastIncludedIndex 239 snapshot exists ? true
update server 2 's matchIndex from 241 to 241
server 1 receives appendEntry from leader 0 prevLogIndex 241
current commitIndex 241 lastIncludedIndex 239 snapshot exists ? true
update server 1 's matchIndex from 241 to 241
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 241
current commitIndex 241 lastIncludedIndex 239 snapshot exists ? true
update server 2 's matchIndex from 241 to 241
server 1 receives appendEntry from leader 0 prevLogIndex 241
current commitIndex 241 lastIncludedIndex 239 snapshot exists ? true
update server 1 's matchIndex from 241 to 241
server 0 term 42 state 2(leader true)(heartFlag false)
nextIndex
242 || 242 || 242 || 
matchIndex
241 || 241 || 241 || 
server 1 term 42 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 241
current commitIndex 241 lastIncludedIndex 239 snapshot exists ? true
update server 1 's matchIndex from 241 to 241
server 2 receives appendEntry from leader 0 prevLogIndex 241
current commitIndex 241 lastIncludedIndex 239 snapshot exists ? true
update server 2 's matchIndex from 241 to 241
append command 2460232382097493363
len(log) = 242
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 241
current commitIndex 241 lastIncludedIndex 239 snapshot exists ? true
update server 2 's matchIndex from 241 to 242
getEntryTerm
leader server 0 commit index 242 command 2460232382097493363
server 2 term 42 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 242
getEntryTerm
current commitIndex 241 lastIncludedIndex 239 snapshot exists ? true
follower server 2 commit index 242 command 2460232382097493363 
update server 2 's matchIndex from 242 to 242
append command 2455359018808194564
len(log) = 243
append command 774701125430914839
len(log) = 244
append command 7267867835244240348
len(log) = 245
append command 3499037550330610995
len(log) = 246
append command 8056892041914102672
len(log) = 247
append command 8141684838531067600
len(log) = 248
server 0 term 42 state 2(leader true)(heartFlag false)
nextIndex
249 || 242 || 243 || 
matchIndex
248 || 241 || 242 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 242
current commitIndex 242 lastIncludedIndex 239 snapshot exists ? true
update server 2 's matchIndex from 242 to 248
getEntryTerm
leader server 0 commit index 243 command 2455359018808194564
leader server 0 commit index 244 command 774701125430914839
leader server 0 commit index 245 command 7267867835244240348
leader server 0 commit index 246 command 3499037550330610995
leader server 0 commit index 247 command 8056892041914102672
leader server 0 commit index 248 command 8141684838531067600
getEntryTerm
getEntryTerm
server 2 term 42 state 0(leader false)(heartFlag true)
server 2 receives appendEntry from leader 0 prevLogIndex 248
getEntryTerm
current commitIndex 242 lastIncludedIndex 239 snapshot exists ? true
follower server 2 commit index 243 command 2455359018808194564 
follower server 2 commit index 244 command 774701125430914839 
follower server 2 commit index 245 command 7267867835244240348 
follower server 2 commit index 246 command 3499037550330610995 
follower server 2 commit index 247 command 8056892041914102672 
follower server 2 commit index 248 command 8141684838531067600 
update server 2 's matchIndex from 248 to 248
server 1 read form stored snapshot
server 1 recover from snopshot
server 1 finishes recovery
append command 3268247308715822785
len(log) = 249
server 1 term 42 state 0(leader false)(heartFlag false)
server 1 term 42 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 0 term 42 state 2(leader true)(heartFlag false)
nextIndex
250 || 242 || 249 || 
matchIndex
249 || 241 || 248 || 
server 0 convert to follower
getEntryTerm
server 0 thinks candidate 1 is not up-to-date
server 0 grant false for candidate 1's requestVote
server 2 convert to follower
getEntryTerm
server 2 thinks candidate 1 is not up-to-date
server 2 grant false for candidate 1's requestVote
server 2 term 43 state 0(leader false)(heartFlag true)
server 1 term 43 ElectionTimeOut
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 0 convert to follower
getEntryTerm
server 0 thinks candidate 1 is not up-to-date
server 0 grant false for candidate 1's requestVote
server 2 convert to follower
getEntryTerm
server 2 thinks candidate 1 is not up-to-date
server 2 grant false for candidate 1's requestVote
server 0 term 44 state 0(leader false)(heartFlag false)
server 0 term 44 doesn't hear any heartbeat
server 0 convert to candidate
getEntryTerm
getEntryTerm
server 1 convert to follower
getEntryTerm
server 1 grant true for candidate 0's requestVote
server 0 convert to leader
server 0 term 45 send appendEntries
getEntryTerm
getEntryTerm
server 2 convert to follower
getEntryTerm
server 2 grant true for candidate 0's requestVote
server 2 receives appendEntry from leader 0 prevLogIndex 249
lastLogIndex 248, args.PrevLogIndex 249
server 1 receives appendEntry from leader 0 prevLogIndex 249
lastLogIndex 241, args.PrevLogIndex 249
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 241
getEntryTerm
current commitIndex 239 lastIncludedIndex 239 snapshot exists ? true
follower server 1 commit index 240 command 2712118692629475412 
follower server 1 commit index 241 command 977808579111591187 
follower server 1 commit index 242 command 2460232382097493363 
follower server 1 commit index 243 command 2455359018808194564 
follower server 1 commit index 244 command 774701125430914839 
follower server 1 commit index 245 command 7267867835244240348 
follower server 1 commit index 246 command 3499037550330610995 
follower server 1 commit index 247 command 8056892041914102672 
follower server 1 commit index 248 command 8141684838531067600 
update server 1 's matchIndex from 0 to 249
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 248
current commitIndex 248 lastIncludedIndex 239 snapshot exists ? true
update server 2 's matchIndex from 0 to 249
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 45 state 0(leader false)(heartFlag true)
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 249
getEntryTerm
current commitIndex 248 lastIncludedIndex 239 snapshot exists ? true
update server 1 's matchIndex from 249 to 249
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 249
getEntryTerm
current commitIndex 248 lastIncludedIndex 239 snapshot exists ? true
update server 2 's matchIndex from 249 to 249
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 249
getEntryTerm
current commitIndex 248 lastIncludedIndex 239 snapshot exists ? true
update server 1 's matchIndex from 249 to 249
server 2 receives appendEntry from leader 0 prevLogIndex 249
getEntryTerm
current commitIndex 248 lastIncludedIndex 239 snapshot exists ? true
update server 2 's matchIndex from 249 to 249
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 249
getEntryTerm
current commitIndex 248 lastIncludedIndex 239 snapshot exists ? true
update server 1 's matchIndex from 249 to 249
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 249
getEntryTerm
current commitIndex 248 lastIncludedIndex 239 snapshot exists ? true
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 249
getEntryTerm
current commitIndex 248 lastIncludedIndex 239 snapshot exists ? true
update server 2 's matchIndex from 249 to 249
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 249
getEntryTerm
current commitIndex 248 lastIncludedIndex 239 snapshot exists ? true
update server 1 's matchIndex from 249 to 249
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 45 state 2(leader true)(heartFlag false)
nextIndex
250 || 250 || 250 || 
matchIndex
249 || 249 || 249 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 249
getEntryTerm
current commitIndex 248 lastIncludedIndex 239 snapshot exists ? true
update server 1 's matchIndex from 249 to 249
server 2 receives appendEntry from leader 0 prevLogIndex 249
getEntryTerm
current commitIndex 248 lastIncludedIndex 239 snapshot exists ? true
getEntryTerm
update server 2 's matchIndex from 249 to 249
server 2 term 45 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 term 45 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 249
getEntryTerm
current commitIndex 248 lastIncludedIndex 239 snapshot exists ? true
update server 1 's matchIndex from 249 to 249
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 249
getEntryTerm
current commitIndex 248 lastIncludedIndex 239 snapshot exists ? true
update server 1 's matchIndex from 249 to 249
server 2 receives appendEntry from leader 0 prevLogIndex 249
getEntryTerm
current commitIndex 248 lastIncludedIndex 239 snapshot exists ? true
update server 2 's matchIndex from 249 to 249
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 249
getEntryTerm
current commitIndex 248 lastIncludedIndex 239 snapshot exists ? true
update server 2 's matchIndex from 249 to 249
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 249
getEntryTerm
current commitIndex 248 lastIncludedIndex 239 snapshot exists ? true
update server 1 's matchIndex from 249 to 249
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 45 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 term 45 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 249
getEntryTerm
current commitIndex 248 lastIncludedIndex 239 snapshot exists ? true
update server 1 's matchIndex from 249 to 249
getEntryTerm
getEntryTerm
server 0 term 45 state 2(leader true)(heartFlag false)
nextIndex
250 || 250 || 250 || 
matchIndex
249 || 249 || 249 || 
server 2 receives appendEntry from leader 0 prevLogIndex 249
getEntryTerm
current commitIndex 248 lastIncludedIndex 239 snapshot exists ? true
update server 2 's matchIndex from 249 to 249
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 249
getEntryTerm
current commitIndex 248 lastIncludedIndex 239 snapshot exists ? true
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 249
getEntryTerm
current commitIndex 248 lastIncludedIndex 239 snapshot exists ? true
update server 2 's matchIndex from 249 to 249
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 249
getEntryTerm
current commitIndex 248 lastIncludedIndex 239 snapshot exists ? true
update server 1 's matchIndex from 249 to 249
getEntryTerm
getEntryTerm
server 1 term 45 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 45 state 2(leader true)(heartFlag false)
nextIndex
250 || 250 || 250 || 
matchIndex
249 || 249 || 249 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 249
getEntryTerm
current commitIndex 248 lastIncludedIndex 239 snapshot exists ? true
update server 1 's matchIndex from 249 to 249
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 249
getEntryTerm
current commitIndex 248 lastIncludedIndex 239 snapshot exists ? true
update server 2 's matchIndex from 249 to 249
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 249
getEntryTerm
current commitIndex 248 lastIncludedIndex 239 snapshot exists ? true
update server 2 's matchIndex from 249 to 249
getEntryTerm
server 2 term 45 state 0(leader false)(heartFlag true)
server 1 receives appendEntry from leader 0 prevLogIndex 249
getEntryTerm
current commitIndex 248 lastIncludedIndex 239 snapshot exists ? true
update server 1 's matchIndex from 249 to 249
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 249
getEntryTerm
current commitIndex 248 lastIncludedIndex 239 snapshot exists ? true
update server 2 's matchIndex from 249 to 249
server 1 term 45 state 0(leader false)(heartFlag true)
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 249
getEntryTerm
current commitIndex 248 lastIncludedIndex 239 snapshot exists ? true
update server 1 's matchIndex from 249 to 249
append command 3268247308715822785
len(log) = 250
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 45 state 2(leader true)(heartFlag false)
nextIndex
251 || 250 || 250 || 
matchIndex
250 || 249 || 249 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 249
getEntryTerm
current commitIndex 248 lastIncludedIndex 239 snapshot exists ? true
update server 2 's matchIndex from 249 to 250
getEntryTerm
leader server 0 commit index 249 command 3268247308715822785
leader server 0 commit index 250 command 3268247308715822785
server 0 takes snopshot and discards logs before index 249
getEntryTerm
discard index before 249(included)
server 0 finished snopshot
server 1 receives appendEntry from leader 0 prevLogIndex 249
getEntryTerm
current commitIndex 248 lastIncludedIndex 239 snapshot exists ? true
update server 1 's matchIndex from 249 to 250
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 250
getEntryTerm
current commitIndex 248 lastIncludedIndex 239 snapshot exists ? true
follower server 2 commit index 249 command 3268247308715822785 
follower server 2 commit index 250 command 3268247308715822785 
server 2 takes snopshot and discards logs before index 249
getEntryTerm
discard index before 249(included)
server 2 finished snopshot
update server 2 's matchIndex from 250 to 250
server 1 receives appendEntry from leader 0 prevLogIndex 250
getEntryTerm
current commitIndex 248 lastIncludedIndex 239 snapshot exists ? true
follower server 1 commit index 249 command 3268247308715822785 
follower server 1 commit index 250 command 3268247308715822785 
server 1 takes snopshot and discards logs before index 249
getEntryTerm
discard index before 249(included)
server 1 finished snopshot
update server 1 's matchIndex from 250 to 250
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 250
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
update server 2 's matchIndex from 250 to 250
server 1 receives appendEntry from leader 0 prevLogIndex 250
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
update server 1 's matchIndex from 250 to 250
server 2 term 45 state 0(leader false)(heartFlag true)
server 1 term 45 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 250
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
update server 1 's matchIndex from 250 to 250
server 0 term 45 state 2(leader true)(heartFlag false)
nextIndex
251 || 251 || 251 || 
matchIndex
250 || 250 || 250 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 250
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
update server 1 's matchIndex from 250 to 250
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 250
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
update server 2 's matchIndex from 250 to 250
server 1 receives appendEntry from leader 0 prevLogIndex 250
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
update server 1 's matchIndex from 250 to 250
server 1 term 45 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 250
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
update server 1 's matchIndex from 250 to 250
server 2 receives appendEntry from leader 0 prevLogIndex 250
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
update server 2 's matchIndex from 250 to 250
server 2 term 45 state 0(leader false)(heartFlag true)
server 0 term 45 state 2(leader true)(heartFlag false)
nextIndex
251 || 251 || 251 || 
matchIndex
250 || 250 || 250 || 
append command 5309153685852388970
len(log) = 251
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 250
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
update server 2 's matchIndex from 250 to 251
getEntryTerm
leader server 0 commit index 251 command 5309153685852388970
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 251
getEntryTerm
current commitIndex 250 lastIncludedIndex 249 snapshot exists ? true
follower server 2 commit index 251 command 5309153685852388970 
update server 2 's matchIndex from 251 to 251
append command 8301342176086811062
len(log) = 252
append command 2043931865789379395
len(log) = 253
append command 7480135116637414245
len(log) = 254
append command 6320625734449138497
len(log) = 255
append command 5625942464060097914
len(log) = 256
append command 3689350294363548718
len(log) = 257
append command 850875537863470505
len(log) = 258
append command 1973686466583798861
len(log) = 259
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 251
current commitIndex 251 lastIncludedIndex 249 snapshot exists ? true
update server 2 's matchIndex from 251 to 259
getEntryTerm
leader server 0 commit index 252 command 8301342176086811062
leader server 0 commit index 253 command 2043931865789379395
leader server 0 commit index 254 command 7480135116637414245
leader server 0 commit index 255 command 6320625734449138497
leader server 0 commit index 256 command 5625942464060097914
leader server 0 commit index 257 command 3689350294363548718
leader server 0 commit index 258 command 850875537863470505
leader server 0 commit index 259 command 1973686466583798861
server 0 takes snopshot and discards logs before index 259
getEntryTerm
discard index before 259(included)
server 0 finished snopshot
server 2 term 45 state 0(leader false)(heartFlag true)
server 0 term 45 state 2(leader true)(heartFlag false)
nextIndex
260 || 251 || 260 || 
matchIndex
259 || 250 || 259 || 
server 2 receives appendEntry from leader 0 prevLogIndex 259
getEntryTerm
current commitIndex 251 lastIncludedIndex 249 snapshot exists ? true
follower server 2 commit index 252 command 8301342176086811062 
follower server 2 commit index 253 command 2043931865789379395 
follower server 2 commit index 254 command 7480135116637414245 
follower server 2 commit index 255 command 6320625734449138497 
follower server 2 commit index 256 command 5625942464060097914 
follower server 2 commit index 257 command 3689350294363548718 
follower server 2 commit index 258 command 850875537863470505 
follower server 2 commit index 259 command 1973686466583798861 
update server 2 's matchIndex from 259 to 259
server 2 takes snopshot and discards logs before index 259
getEntryTerm
discard index before 259(included)
server 2 finished snopshot
server 1 read form stored snapshot
server 1 recover from snopshot
server 1 finishes recovery
append command 5238951639503133925
server 1 term 45 state 0(leader false)(heartFlag false)
server 1 term 45 doesn't hear any heartbeat
server 1 convert to candidate
len(log) = 260
getEntryTerm
getEntryTerm
server 2 convert to follower
server 2 thinks candidate 1 is not up-to-date
server 2 grant false for candidate 1's requestVote
server 0 convert to follower
getEntryTerm
server 0 thinks candidate 1 is not up-to-date
server 0 grant false for candidate 1's requestVote
server 0 term 46 state 0(leader false)(heartFlag false)
server 0 term 46 doesn't hear any heartbeat
server 0 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
server 2 grant true for candidate 0's requestVote
server 2 term 47 state 0(leader false)(heartFlag true)
server 0 convert to leader
server 0 term 47 send appendEntries
getEntryTerm
getEntryTerm
server 1 convert to follower
getEntryTerm
server 1 grant true for candidate 0's requestVote
server 2 receives appendEntry from leader 0 prevLogIndex 260
lastLogIndex 259, args.PrevLogIndex 260
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 260
lastLogIndex 250, args.PrevLogIndex 260
server 2 receives appendEntry from leader 0 prevLogIndex 259
current commitIndex 259 lastIncludedIndex 259 snapshot exists ? true
update server 2 's matchIndex from 0 to 260
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives snopshot from leader 0
server 1 commit snopshot to lastIncludedIndex 259
server 2 receives appendEntry from leader 0 prevLogIndex 260
getEntryTerm
current commitIndex 259 lastIncludedIndex 259 snapshot exists ? true
getEntryTerm
update server 2 's matchIndex from 260 to 260
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 260
getEntryTerm
current commitIndex 259 lastIncludedIndex 259 snapshot exists ? true
update server 2 's matchIndex from 260 to 260
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 259
current commitIndex 259 lastIncludedIndex 259 snapshot exists ? true
update server 1 's matchIndex from 259 to 260
server 2 term 47 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 260
getEntryTerm
current commitIndex 259 lastIncludedIndex 259 snapshot exists ? true
update server 2 's matchIndex from 260 to 260
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 260
getEntryTerm
current commitIndex 259 lastIncludedIndex 259 snapshot exists ? true
update server 1 's matchIndex from 260 to 260
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 47 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 260
getEntryTerm
current commitIndex 259 lastIncludedIndex 259 snapshot exists ? true
update server 2 's matchIndex from 260 to 260
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 260
getEntryTerm
current commitIndex 259 lastIncludedIndex 259 snapshot exists ? true
update server 1 's matchIndex from 260 to 260
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 260
getEntryTerm
current commitIndex 259 lastIncludedIndex 259 snapshot exists ? true
update server 1 's matchIndex from 260 to 260
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 260
getEntryTerm
current commitIndex 259 lastIncludedIndex 259 snapshot exists ? true
update server 2 's matchIndex from 260 to 260
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 260
getEntryTerm
current commitIndex 259 lastIncludedIndex 259 snapshot exists ? true
getEntryTerm
server 2 term 47 state 0(leader false)(heartFlag true)
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 260
getEntryTerm
current commitIndex 259 lastIncludedIndex 259 snapshot exists ? true
update server 2 's matchIndex from 260 to 260
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 47 state 2(leader true)(heartFlag false)
nextIndex
261 || 261 || 261 || 
matchIndex
260 || 260 || 260 || 
getEntryTerm
getEntryTerm
server 1 term 47 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 260
getEntryTerm
current commitIndex 259 lastIncludedIndex 259 snapshot exists ? true
update server 1 's matchIndex from 260 to 260
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 260
getEntryTerm
current commitIndex 259 lastIncludedIndex 259 snapshot exists ? true
update server 1 's matchIndex from 260 to 260
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 260
getEntryTerm
current commitIndex 259 lastIncludedIndex 259 snapshot exists ? true
update server 2 's matchIndex from 260 to 260
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 260
getEntryTerm
current commitIndex 259 lastIncludedIndex 259 snapshot exists ? true
update server 1 's matchIndex from 260 to 260
getEntryTerm
server 0 term 47 state 2(leader true)(heartFlag false)
nextIndex
261 || 261 || 261 || 
matchIndex
260 || 260 || 260 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 47 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 260
getEntryTerm
current commitIndex 259 lastIncludedIndex 259 snapshot exists ? true
update server 2 's matchIndex from 260 to 260
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 260
getEntryTerm
current commitIndex 259 lastIncludedIndex 259 snapshot exists ? true
server 1 term 47 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 260
getEntryTerm
current commitIndex 259 lastIncludedIndex 259 snapshot exists ? true
update server 1 's matchIndex from 260 to 260
server 2 receives appendEntry from leader 0 prevLogIndex 260
getEntryTerm
current commitIndex 259 lastIncludedIndex 259 snapshot exists ? true
update server 2 's matchIndex from 260 to 260
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 260
getEntryTerm
current commitIndex 259 lastIncludedIndex 259 snapshot exists ? true
update server 1 's matchIndex from 260 to 260
server 2 receives appendEntry from leader 0 prevLogIndex 260
getEntryTerm
current commitIndex 259 lastIncludedIndex 259 snapshot exists ? true
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 47 state 2(leader true)(heartFlag false)
nextIndex
261 || 261 || 261 || 
matchIndex
260 || 260 || 260 || 
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 260
getEntryTerm
current commitIndex 259 lastIncludedIndex 259 snapshot exists ? true
update server 2 's matchIndex from 260 to 260
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 260
getEntryTerm
current commitIndex 259 lastIncludedIndex 259 snapshot exists ? true
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 47 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 260
getEntryTerm
current commitIndex 259 lastIncludedIndex 259 snapshot exists ? true
update server 1 's matchIndex from 260 to 260
getEntryTerm
server 2 term 47 state 0(leader false)(heartFlag true)
server 2 receives appendEntry from leader 0 prevLogIndex 260
getEntryTerm
current commitIndex 259 lastIncludedIndex 259 snapshot exists ? true
update server 2 's matchIndex from 260 to 260
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 260
getEntryTerm
current commitIndex 259 lastIncludedIndex 259 snapshot exists ? true
update server 2 's matchIndex from 260 to 260
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
append command 5238951639503133925
len(log) = 261
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 260
getEntryTerm
current commitIndex 259 lastIncludedIndex 259 snapshot exists ? true
update server 2 's matchIndex from 260 to 261
getEntryTerm
leader server 0 commit index 260 command 5238951639503133925
leader server 0 commit index 261 command 5238951639503133925
server 1 receives appendEntry from leader 0 prevLogIndex 260
getEntryTerm
current commitIndex 259 lastIncludedIndex 259 snapshot exists ? true
update server 1 's matchIndex from 260 to 261
server 2 term 47 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 261
getEntryTerm
current commitIndex 259 lastIncludedIndex 259 snapshot exists ? true
follower server 2 commit index 260 command 5238951639503133925 
follower server 2 commit index 261 command 5238951639503133925 
server 0 term 47 state 2(leader true)(heartFlag false)
nextIndex
262 || 262 || 262 || 
matchIndex
261 || 261 || 261 || 
update server 2 's matchIndex from 261 to 261
server 1 receives appendEntry from leader 0 prevLogIndex 261
getEntryTerm
current commitIndex 259 lastIncludedIndex 259 snapshot exists ? true
follower server 1 commit index 260 command 5238951639503133925 
follower server 1 commit index 261 command 5238951639503133925 
update server 1 's matchIndex from 261 to 261
server 1 term 47 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 261
current commitIndex 261 lastIncludedIndex 259 snapshot exists ? true
update server 2 's matchIndex from 261 to 261
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 261
current commitIndex 261 lastIncludedIndex 259 snapshot exists ? true
update server 1 's matchIndex from 261 to 261
server 2 receives appendEntry from leader 0 prevLogIndex 261
current commitIndex 261 lastIncludedIndex 259 snapshot exists ? true
update server 2 's matchIndex from 261 to 261
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 261
current commitIndex 261 lastIncludedIndex 259 snapshot exists ? true
update server 2 's matchIndex from 261 to 261
server 1 receives appendEntry from leader 0 prevLogIndex 261
current commitIndex 261 lastIncludedIndex 259 snapshot exists ? true
update server 1 's matchIndex from 261 to 261
server 1 term 47 state 0(leader false)(heartFlag true)
server 2 term 47 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 261
current commitIndex 261 lastIncludedIndex 259 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 261
current commitIndex 261 lastIncludedIndex 259 snapshot exists ? true
update server 2 's matchIndex from 261 to 261
server 0 term 47 state 2(leader true)(heartFlag false)
nextIndex
262 || 262 || 262 || 
matchIndex
261 || 261 || 261 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 261
current commitIndex 261 lastIncludedIndex 259 snapshot exists ? true
update server 1 's matchIndex from 261 to 261
server 2 receives appendEntry from leader 0 prevLogIndex 261
current commitIndex 261 lastIncludedIndex 259 snapshot exists ? true
update server 2 's matchIndex from 261 to 261
server 1 term 47 state 0(leader false)(heartFlag true)
server 2 term 47 state 0(leader false)(heartFlag true)
server 1 term 47 state 0(leader false)(heartFlag false)
server 1 term 47 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
getEntryTerm
server 2 grant true for candidate 1's requestVote
server 1 convert to leader
server 1 term 48 send appendEntries
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 261
current commitIndex 261 lastIncludedIndex 259 snapshot exists ? true
update server 2 's matchIndex from 0 to 261
append command 2195755411521978312
len(log) = 262
getEntryTerm
getEntryTerm
server 2 term 48 state 0(leader false)(heartFlag true)
server 2 receives appendEntry from leader 1 prevLogIndex 261
current commitIndex 261 lastIncludedIndex 259 snapshot exists ? true
update server 2 's matchIndex from 261 to 262
getEntryTerm
leader server 1 commit index 262 command 2195755411521978312
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 262
getEntryTerm
current commitIndex 261 lastIncludedIndex 259 snapshot exists ? true
follower server 2 commit index 262 command 2195755411521978312 
update server 2 's matchIndex from 262 to 262
append command 4603994018752611249
len(log) = 263
append command 3874228546816304061
len(log) = 264
append command 2880268708964884110
len(log) = 265
append command 8435955010698717202
len(log) = 266
append command 8294158293586411067
len(log) = 267
append command 8440257918045564916
len(log) = 268
append command 2108510004698694139
len(log) = 269
append command 4118980533628254667
len(log) = 270
append command 3644775064625242609
len(log) = 271
append command 3267637573891096258
len(log) = 272
append command 3088264647301555756
len(log) = 273
append command 245389453209578091
len(log) = 274
append command 3239596476303311990
len(log) = 275
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 262
current commitIndex 262 lastIncludedIndex 259 snapshot exists ? true
update server 2 's matchIndex from 262 to 275
getEntryTerm
leader server 1 commit index 263 command 4603994018752611249
leader server 1 commit index 264 command 3874228546816304061
leader server 1 commit index 265 command 2880268708964884110
leader server 1 commit index 266 command 8435955010698717202
leader server 1 commit index 267 command 8294158293586411067
leader server 1 commit index 268 command 8440257918045564916
leader server 1 commit index 269 command 2108510004698694139
leader server 1 commit index 270 command 4118980533628254667
server 1 takes snopshot and discards logs before index 269
getEntryTerm
discard index before 269(included)
server 1 finished snopshot
leader server 1 commit index 271 command 3644775064625242609
leader server 1 commit index 272 command 3267637573891096258
leader server 1 commit index 273 command 3088264647301555756
leader server 1 commit index 274 command 245389453209578091
leader server 1 commit index 275 command 3239596476303311990
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 275
getEntryTerm
current commitIndex 262 lastIncludedIndex 259 snapshot exists ? true
follower server 2 commit index 263 command 4603994018752611249 
follower server 2 commit index 264 command 3874228546816304061 
follower server 2 commit index 265 command 2880268708964884110 
follower server 2 commit index 266 command 8435955010698717202 
follower server 2 commit index 267 command 8294158293586411067 
follower server 2 commit index 268 command 8440257918045564916 
follower server 2 commit index 269 command 2108510004698694139 
follower server 2 commit index 270 command 4118980533628254667 
server 2 takes snopshot and discards logs before index 269
getEntryTerm
discard index before 269(included)
server 2 finished snopshot
follower server 2 commit index 271 command 3644775064625242609 
follower server 2 commit index 272 command 3267637573891096258 
follower server 2 commit index 273 command 3088264647301555756 
follower server 2 commit index 274 command 245389453209578091 
follower server 2 commit index 275 command 3239596476303311990 
update server 2 's matchIndex from 275 to 275
server 0 read form stored snapshot
server 0 recover from snopshot
server 0 finishes recovery
server 0 term 47 state 0(leader false)(heartFlag false)
server 0 term 47 doesn't hear any heartbeat
server 0 convert to candidate
append command 8140480177441970848
getEntryTerm
getEntryTerm
len(log) = 276
server 2 term 48 state 0(leader false)(heartFlag true)
getEntryTerm
server 1 already has a voteFor 1 but not candidate 0
server 1 grant false for candidate 0's requestVote
getEntryTerm
server 2 already has a voteFor 1 but not candidate 0
server 2 grant false for candidate 0's requestVote
getEntryTerm
server 0 receives snopshot from leader 1
server 0 commit snopshot to lastIncludedIndex 269
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 269
server 0 convert to follower
current commitIndex 269 lastIncludedIndex 269 snapshot exists ? true
follower server 0 commit index 270 command 4118980533628254667 
follower server 0 commit index 271 command 3644775064625242609 
follower server 0 commit index 272 command 3267637573891096258 
follower server 0 commit index 273 command 3088264647301555756 
follower server 0 commit index 274 command 245389453209578091 
follower server 0 commit index 275 command 3239596476303311990 
update server 0 's matchIndex from 269 to 276
getEntryTerm
leader server 1 commit index 276 command 8140480177441970848
server 2 receives appendEntry from leader 1 prevLogIndex 275
current commitIndex 275 lastIncludedIndex 269 snapshot exists ? true
update server 2 's matchIndex from 275 to 276
getEntryTerm
getEntryTerm
server 2 term 48 state 0(leader false)(heartFlag true)
server 0 receives appendEntry from leader 1 prevLogIndex 276
getEntryTerm
current commitIndex 275 lastIncludedIndex 269 snapshot exists ? true
follower server 0 commit index 276 command 8140480177441970848 
update server 0 's matchIndex from 276 to 276
server 2 receives appendEntry from leader 1 prevLogIndex 276
getEntryTerm
current commitIndex 275 lastIncludedIndex 269 snapshot exists ? true
follower server 2 commit index 276 command 8140480177441970848 
server 1 term 48 state 2(leader true)(heartFlag false)
nextIndex
277 || 277 || 277 || 
matchIndex
276 || 276 || 276 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 276
current commitIndex 276 lastIncludedIndex 269 snapshot exists ? true
update server 2 's matchIndex from 276 to 276
server 0 receives appendEntry from leader 1 prevLogIndex 276
current commitIndex 276 lastIncludedIndex 269 snapshot exists ? true
update server 0 's matchIndex from 276 to 276
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 276
current commitIndex 276 lastIncludedIndex 269 snapshot exists ? true
update server 2 's matchIndex from 276 to 276
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 276
current commitIndex 276 lastIncludedIndex 269 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 276
current commitIndex 276 lastIncludedIndex 269 snapshot exists ? true
update server 0 's matchIndex from 276 to 276
server 0 term 48 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 276
current commitIndex 276 lastIncludedIndex 269 snapshot exists ? true
update server 2 's matchIndex from 276 to 276
server 0 receives appendEntry from leader 1 prevLogIndex 276
current commitIndex 276 lastIncludedIndex 269 snapshot exists ? true
update server 0 's matchIndex from 276 to 276
server 2 term 48 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 276
current commitIndex 276 lastIncludedIndex 269 snapshot exists ? true
update server 0 's matchIndex from 276 to 276
server 1 term 48 state 2(leader true)(heartFlag false)
nextIndex
277 || 277 || 277 || 
matchIndex
276 || 276 || 276 || 
append command 6551371872069825307
len(log) = 277
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 276
current commitIndex 276 lastIncludedIndex 269 snapshot exists ? true
update server 0 's matchIndex from 276 to 277
getEntryTerm
leader server 1 commit index 277 command 6551371872069825307
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 277
getEntryTerm
current commitIndex 276 lastIncludedIndex 269 snapshot exists ? true
follower server 0 commit index 277 command 6551371872069825307 
append command 5018034582080670627
len(log) = 278
append command 5776696347757005678
len(log) = 279
append command 3916518851850307280
len(log) = 280
append command 2008737758975510835
len(log) = 281
append command 7748268251555636936
len(log) = 282
append command 8983307981663503277
len(log) = 283
append command 5055461260296206675
len(log) = 284
append command 2981354339769055655
len(log) = 285
append command 6117109035653115010
len(log) = 286
append command 569124330071330026
len(log) = 287
append command 4126383752711246262
len(log) = 288
getEntryTerm
getEntryTerm
server 0 term 48 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 277
current commitIndex 277 lastIncludedIndex 269 snapshot exists ? true
update server 0 's matchIndex from 277 to 288
server 1 term 48 state 2(leader true)(heartFlag false)
nextIndex
289 || 289 || 277 || 
matchIndex
288 || 288 || 276 || 
getEntryTerm
leader server 1 commit index 278 command 5018034582080670627
leader server 1 commit index 279 command 5776696347757005678
leader server 1 commit index 280 command 3916518851850307280
server 1 takes snopshot and discards logs before index 279
getEntryTerm
discard index before 279(included)
server 1 finished snopshot
leader server 1 commit index 281 command 2008737758975510835
leader server 1 commit index 282 command 7748268251555636936
leader server 1 commit index 283 command 8983307981663503277
leader server 1 commit index 284 command 5055461260296206675
leader server 1 commit index 285 command 2981354339769055655
leader server 1 commit index 286 command 6117109035653115010
leader server 1 commit index 287 command 569124330071330026
leader server 1 commit index 288 command 4126383752711246262
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 288
getEntryTerm
current commitIndex 277 lastIncludedIndex 269 snapshot exists ? true
follower server 0 commit index 278 command 5018034582080670627 
follower server 0 commit index 279 command 5776696347757005678 
follower server 0 commit index 280 command 3916518851850307280 
server 0 takes snopshot and discards logs before index 279
getEntryTerm
discard index before 279(included)
server 0 finished snopshot
follower server 0 commit index 281 command 2008737758975510835 
follower server 0 commit index 282 command 7748268251555636936 
follower server 0 commit index 283 command 8983307981663503277 
follower server 0 commit index 284 command 5055461260296206675 
follower server 0 commit index 285 command 2981354339769055655 
follower server 0 commit index 286 command 6117109035653115010 
follower server 0 commit index 287 command 569124330071330026 
follower server 0 commit index 288 command 4126383752711246262 
update server 0 's matchIndex from 288 to 288
server 2 read form stored snapshot
server 2 recover from snopshot
server 2 finishes recovery
append command 7759259773169981142
server 2 term 48 state 0(leader false)(heartFlag false)
server 2 term 48 doesn't hear any heartbeat
server 2 convert to candidate
len(log) = 289
getEntryTerm
getEntryTerm
server 1 convert to follower
getEntryTerm
server 1 thinks candidate 2 is not up-to-date
server 1 grant false for candidate 2's requestVote
server 0 convert to follower
getEntryTerm
server 0 thinks candidate 2 is not up-to-date
server 0 grant false for candidate 2's requestVote
server 1 term 49 state 0(leader false)(heartFlag false)
server 1 term 49 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 0 convert to follower
getEntryTerm
server 0 grant true for candidate 1's requestVote
server 2 convert to follower
getEntryTerm
server 2 grant true for candidate 1's requestVote
server 1 convert to leader
server 1 term 50 send appendEntries
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 289
lastLogIndex 276, args.PrevLogIndex 289
server 0 term 50 state 0(leader false)(heartFlag true)
server 0 receives appendEntry from leader 1 prevLogIndex 289
lastLogIndex 288, args.PrevLogIndex 289
getEntryTerm
server 2 receives snopshot from leader 1
server 2 commit snopshot to lastIncludedIndex 279
server 0 receives appendEntry from leader 1 prevLogIndex 288
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
update server 0 's matchIndex from 0 to 289
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 289
getEntryTerm
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 279
current commitIndex 279 lastIncludedIndex 279 snapshot exists ? true
follower server 2 commit index 280 command 3916518851850307280 
follower server 2 commit index 281 command 2008737758975510835 
follower server 2 commit index 282 command 7748268251555636936 
follower server 2 commit index 283 command 8983307981663503277 
follower server 2 commit index 284 command 5055461260296206675 
follower server 2 commit index 285 command 2981354339769055655 
follower server 2 commit index 286 command 6117109035653115010 
follower server 2 commit index 287 command 569124330071330026 
follower server 2 commit index 288 command 4126383752711246262 
update server 2 's matchIndex from 279 to 289
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 289
getEntryTerm
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
update server 2 's matchIndex from 289 to 289
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 50 state 0(leader false)(heartFlag true)
getEntryTerm
server 0 term 50 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 289
getEntryTerm
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 289
getEntryTerm
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
update server 0 's matchIndex from 289 to 289
server 1 term 50 state 2(leader true)(heartFlag false)
nextIndex
290 || 290 || 290 || 
matchIndex
289 || 289 || 289 || 
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 289
getEntryTerm
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
update server 2 's matchIndex from 289 to 289
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 289
getEntryTerm
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
update server 2 's matchIndex from 289 to 289
server 0 receives appendEntry from leader 1 prevLogIndex 289
getEntryTerm
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
update server 0 's matchIndex from 289 to 289
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 289
getEntryTerm
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
update server 0 's matchIndex from 289 to 289
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 289
getEntryTerm
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
update server 2 's matchIndex from 289 to 289
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 50 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 50 state 0(leader false)(heartFlag true)
server 2 receives appendEntry from leader 1 prevLogIndex 289
getEntryTerm
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
update server 2 's matchIndex from 289 to 289
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 289
getEntryTerm
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
update server 0 's matchIndex from 289 to 289
server 1 term 50 state 2(leader true)(heartFlag false)
nextIndex
290 || 290 || 290 || 
matchIndex
289 || 289 || 289 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 289
getEntryTerm
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
update server 0 's matchIndex from 289 to 289
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 289
getEntryTerm
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
getEntryTerm
update server 2 's matchIndex from 289 to 289
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 289
getEntryTerm
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
update server 2 's matchIndex from 289 to 289
server 0 receives appendEntry from leader 1 prevLogIndex 289
getEntryTerm
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
update server 0 's matchIndex from 289 to 289
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 289
getEntryTerm
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
update server 2 's matchIndex from 289 to 289
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 289
getEntryTerm
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
update server 0 's matchIndex from 289 to 289
getEntryTerm
server 0 term 50 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 289
getEntryTerm
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
getEntryTerm
server 2 term 50 state 0(leader false)(heartFlag true)
server 0 receives appendEntry from leader 1 prevLogIndex 289
getEntryTerm
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
update server 0 's matchIndex from 289 to 289
getEntryTerm
getEntryTerm
server 1 term 50 state 2(leader true)(heartFlag false)
nextIndex
290 || 290 || 290 || 
matchIndex
289 || 289 || 289 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 289
getEntryTerm
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
update server 0 's matchIndex from 289 to 289
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 289
getEntryTerm
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
update server 0 's matchIndex from 289 to 289
server 2 receives appendEntry from leader 1 prevLogIndex 289
getEntryTerm
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 50 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 289
getEntryTerm
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
update server 2 's matchIndex from 289 to 289
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 289
getEntryTerm
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
update server 0 's matchIndex from 289 to 289
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 50 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 50 state 2(leader true)(heartFlag false)
nextIndex
290 || 290 || 290 || 
matchIndex
289 || 289 || 289 || 
server 0 receives appendEntry from leader 1 prevLogIndex 289
getEntryTerm
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
update server 0 's matchIndex from 289 to 289
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 289
getEntryTerm
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
update server 2 's matchIndex from 289 to 289
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 289
getEntryTerm
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
update server 0 's matchIndex from 289 to 289
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 289
getEntryTerm
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
update server 2 's matchIndex from 289 to 289
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 289
getEntryTerm
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
update server 0 's matchIndex from 289 to 289
getEntryTerm
append command 7759259773169981142
len(log) = 290
server 2 receives appendEntry from leader 1 prevLogIndex 289
getEntryTerm
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
update server 2 's matchIndex from 289 to 289
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 50 state 0(leader false)(heartFlag true)
getEntryTerm
server 1 term 50 state 2(leader true)(heartFlag false)
nextIndex
290 || 291 || 290 || 
matchIndex
289 || 290 || 289 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 289
getEntryTerm
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
update server 2 's matchIndex from 289 to 290
getEntryTerm
leader server 1 commit index 289 command 7759259773169981142
leader server 1 commit index 290 command 7759259773169981142
server 1 takes snopshot and discards logs before index 289
getEntryTerm
discard index before 289(included)
server 1 finished snopshot
server 2 term 50 state 0(leader false)(heartFlag true)
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 289
getEntryTerm
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
follower server 0 commit index 289 command 7759259773169981142 
follower server 0 commit index 290 command 7759259773169981142 
server 0 takes snopshot and discards logs before index 289
getEntryTerm
discard index before 289(included)
server 0 finished snopshot
update server 0 's matchIndex from 289 to 290
server 2 receives appendEntry from leader 1 prevLogIndex 290
getEntryTerm
current commitIndex 288 lastIncludedIndex 279 snapshot exists ? true
follower server 2 commit index 289 command 7759259773169981142 
follower server 2 commit index 290 command 7759259773169981142 
server 2 takes snopshot and discards logs before index 289
getEntryTerm
discard index before 289(included)
server 2 finished snopshot
update server 2 's matchIndex from 290 to 290
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 290
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
update server 2 's matchIndex from 290 to 290
server 0 receives appendEntry from leader 1 prevLogIndex 290
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
update server 0 's matchIndex from 290 to 290
server 0 term 50 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 290
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
update server 0 's matchIndex from 290 to 290
server 2 receives appendEntry from leader 1 prevLogIndex 290
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
update server 2 's matchIndex from 290 to 290
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 290
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
update server 2 's matchIndex from 290 to 290
server 0 receives appendEntry from leader 1 prevLogIndex 290
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
update server 0 's matchIndex from 290 to 290
server 1 term 50 state 2(leader true)(heartFlag false)
nextIndex
291 || 291 || 291 || 
matchIndex
290 || 290 || 290 || 
server 2 term 50 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 290
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
update server 0 's matchIndex from 290 to 290
server 2 receives appendEntry from leader 1 prevLogIndex 290
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
server 0 term 50 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 290
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
update server 2 's matchIndex from 290 to 290
server 0 receives appendEntry from leader 1 prevLogIndex 290
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
update server 0 's matchIndex from 290 to 290
append command 8137451308185131940
len(log) = 291
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 290
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
update server 0 's matchIndex from 290 to 291
getEntryTerm
leader server 1 commit index 291 command 8137451308185131940
server 1 term 50 state 2(leader true)(heartFlag false)
nextIndex
292 || 292 || 291 || 
matchIndex
291 || 291 || 290 || 
server 0 term 50 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 291
getEntryTerm
current commitIndex 290 lastIncludedIndex 289 snapshot exists ? true
follower server 0 commit index 291 command 8137451308185131940 
update server 0 's matchIndex from 291 to 291
append command 4522789451842049236
len(log) = 292
append command 7630287073695638189
len(log) = 293
append command 5900417971390829485
len(log) = 294
append command 1389015839219873871
len(log) = 295
append command 7479153824768321985
len(log) = 296
append command 1260811063591265587
len(log) = 297
append command 4372515103044528098
len(log) = 298
append command 6241547103541440713
len(log) = 299
append command 5479630860762346233
len(log) = 300
append command 8793861688683500765
len(log) = 301
append command 6239833346282714993
len(log) = 302
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 291
current commitIndex 291 lastIncludedIndex 289 snapshot exists ? true
update server 0 's matchIndex from 291 to 302
getEntryTerm
leader server 1 commit index 292 command 4522789451842049236
leader server 1 commit index 293 command 7630287073695638189
leader server 1 commit index 294 command 5900417971390829485
leader server 1 commit index 295 command 1389015839219873871
leader server 1 commit index 296 command 7479153824768321985
leader server 1 commit index 297 command 1260811063591265587
leader server 1 commit index 298 command 4372515103044528098
leader server 1 commit index 299 command 6241547103541440713
leader server 1 commit index 300 command 5479630860762346233
server 1 takes snopshot and discards logs before index 299
getEntryTerm
discard index before 299(included)
server 1 finished snopshot
leader server 1 commit index 301 command 8793861688683500765
leader server 1 commit index 302 command 6239833346282714993
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 302
getEntryTerm
current commitIndex 291 lastIncludedIndex 289 snapshot exists ? true
follower server 0 commit index 292 command 4522789451842049236 
follower server 0 commit index 293 command 7630287073695638189 
follower server 0 commit index 294 command 5900417971390829485 
follower server 0 commit index 295 command 1389015839219873871 
follower server 0 commit index 296 command 7479153824768321985 
follower server 0 commit index 297 command 1260811063591265587 
follower server 0 commit index 298 command 4372515103044528098 
follower server 0 commit index 299 command 6241547103541440713 
follower server 0 commit index 300 command 5479630860762346233 
server 0 takes snopshot and discards logs before index 299
getEntryTerm
discard index before 299(included)
server 0 finished snopshot
follower server 0 commit index 301 command 8793861688683500765 
follower server 0 commit index 302 command 6239833346282714993 
update server 0 's matchIndex from 302 to 302
server 2 read form stored snapshot
server 2 recover from snopshot
server 2 finishes recovery
append command 2348257170360800816
server 2 term 50 state 0(leader false)(heartFlag false)
server 2 term 50 doesn't hear any heartbeat
server 2 convert to candidate
len(log) = 303
getEntryTerm
getEntryTerm
server 1 convert to follower
getEntryTerm
server 1 thinks candidate 2 is not up-to-date
server 1 grant false for candidate 2's requestVote
server 0 convert to follower
getEntryTerm
server 0 thinks candidate 2 is not up-to-date
server 0 grant false for candidate 2's requestVote
server 1 term 51 state 0(leader false)(heartFlag false)
server 1 term 51 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 0 convert to follower
getEntryTerm
server 0 grant true for candidate 1's requestVote
server 1 convert to leader
server 1 term 52 send appendEntries
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 303
server 2 convert to follower
lastLogIndex 290, args.PrevLogIndex 303
getEntryTerm
server 2 grant true for candidate 1's requestVote
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 303
lastLogIndex 302, args.PrevLogIndex 303
server 0 receives appendEntry from leader 1 prevLogIndex 303
lastLogIndex 302, args.PrevLogIndex 303
server 2 receives snopshot from leader 1
server 2 commit snopshot to lastIncludedIndex 299
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 302
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 0 to 303
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 299
current commitIndex 299 lastIncludedIndex 299 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 299
follower server 2 commit index 300 command 5479630860762346233 
follower server 2 commit index 301 command 8793861688683500765 
follower server 2 commit index 302 command 6239833346282714993 
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 299 to 303
getEntryTerm
server 0 term 52 state 0(leader false)(heartFlag true)
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 303 to 303
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 303 to 303
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 303 to 303
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 303 to 303
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 303 to 303
server 0 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 303 to 303
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 303 to 303
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 303 to 303
server 2 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 303 to 303
server 0 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 303 to 303
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
getEntryTerm
server 0 term 52 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 303 to 303
server 0 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 303 to 303
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 303 to 303
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
getEntryTerm
update server 0 's matchIndex from 303 to 303
server 2 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
getEntryTerm
getEntryTerm
update server 2 's matchIndex from 303 to 303
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 52 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 303 to 303
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 303 to 303
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 303 to 303
server 2 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
getEntryTerm
server 1 term 52 state 2(leader true)(heartFlag false)
nextIndex
304 || 304 || 304 || 
matchIndex
303 || 303 || 303 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 303 to 303
server 0 term 52 state 0(leader false)(heartFlag true)
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 303 to 303
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 303 to 303
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 52 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 303 to 303
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 303 to 303
update server 2 's matchIndex from 303 to 303
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 303 to 303
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 303 to 303
server 2 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 303 to 303
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 303 to 303
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 303 to 303
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 52 state 2(leader true)(heartFlag false)
nextIndex
304 || 304 || 304 || 
matchIndex
303 || 303 || 303 || 
getEntryTerm
getEntryTerm
server 0 term 52 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 303 to 303
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 303 to 303
server 2 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 303 to 303
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 303 to 303
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 52 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 303 to 303
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 303 to 303
server 0 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 303 to 303
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 303 to 303
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 303 to 303
server 0 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 303 to 303
server 0 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 303 to 303
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 303 to 303
getEntryTerm
getEntryTerm
server 0 term 52 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 303 to 303
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 303 to 303
getEntryTerm
server 1 term 52 state 2(leader true)(heartFlag false)
nextIndex
304 || 304 || 304 || 
matchIndex
303 || 303 || 303 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 303 to 303
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 303 to 303
getEntryTerm
server 2 term 52 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 303 to 303
server 2 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 303 to 303
server 0 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 303 to 303
server 0 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 303 to 303
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 303 to 303
server 0 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 303 to 303
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 52 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 303 to 303
server 1 term 52 state 2(leader true)(heartFlag false)
nextIndex
304 || 304 || 304 || 
matchIndex
303 || 303 || 303 || getEntryTerm

getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 52 state 0(leader false)(heartFlag true)
server 2 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 303 to 303
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 303 to 303
server 0 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 303 to 303
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 303 to 303
server 2 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 303 to 303
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 303 to 303
update server 0 's matchIndex from 303 to 303
append command 2348257170360800816
len(log) = 304
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 303 to 304
getEntryTerm
leader server 1 commit index 303 command 2348257170360800816
leader server 1 commit index 304 command 2348257170360800816
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 304
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
follower server 0 commit index 303 command 2348257170360800816 
follower server 0 commit index 304 command 2348257170360800816 
update server 0 's matchIndex from 304 to 304
server 2 receives appendEntry from leader 1 prevLogIndex 303
getEntryTerm
current commitIndex 302 lastIncludedIndex 299 snapshot exists ? true
follower server 2 commit index 303 command 2348257170360800816 
follower server 2 commit index 304 command 2348257170360800816 
update server 2 's matchIndex from 303 to 304
server 2 term 52 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 304
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 304 to 304
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 304
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 304
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
server 0 term 52 state 0(leader false)(heartFlag true)
server 2 receives appendEntry from leader 1 prevLogIndex 304
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 304 to 304
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 304
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 304 to 304
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 304
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 304 to 304
server 2 receives appendEntry from leader 1 prevLogIndex 304
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 304 to 304
server 1 term 52 state 2(leader true)(heartFlag false)
nextIndex
305 || 305 || 305 || 
matchIndex
304 || 304 || 304 || 
server 0 receives appendEntry from leader 1 prevLogIndex 304
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 304 to 304
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 304
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 304
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 304 to 304
server 2 receives appendEntry from leader 1 prevLogIndex 304
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 304 to 304
server 0 receives appendEntry from leader 1 prevLogIndex 304
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
server 2 term 52 state 0(leader false)(heartFlag true)
server 0 term 52 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 304
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 304 to 304
server 2 receives appendEntry from leader 1 prevLogIndex 304
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 304 to 304
server 0 receives appendEntry from leader 1 prevLogIndex 304
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 304 to 304
server 0 receives appendEntry from leader 1 prevLogIndex 304
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 304 to 304
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 304
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 304
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 304
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
update server 2 's matchIndex from 304 to 304
server 1 term 52 state 2(leader true)(heartFlag false)
nextIndex
305 || 305 || 305 || 
matchIndex
304 || 304 || 304 || 
server 0 term 52 state 0(leader false)(heartFlag true)
server 2 term 52 state 0(leader false)(heartFlag true)
server 2 term 52 state 0(leader false)(heartFlag false)
server 2 term 52 doesn't hear any heartbeat
server 2 convert to candidate
getEntryTerm
getEntryTerm
server 0 convert to follower
getEntryTerm
server 0 grant true for candidate 2's requestVote
server 2 convert to leader
server 2 term 53 send appendEntries
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 304
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 0 to 304
append command 6033242106148340221
len(log) = 305
server 0 term 53 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 304
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 304 to 305
getEntryTerm
leader server 2 commit index 305 command 6033242106148340221
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 305
getEntryTerm
current commitIndex 304 lastIncludedIndex 299 snapshot exists ? true
follower server 0 commit index 305 command 6033242106148340221 
update server 0 's matchIndex from 305 to 305
append command 7983888948496376711
len(log) = 306
append command 4668579678639615723
len(log) = 307
append command 1173092817413564036
len(log) = 308
append command 9021135374646454757
len(log) = 309
append command 1314229407273986261
len(log) = 310
append command 9123350570428769070
len(log) = 311
append command 4670814071081833262
len(log) = 312
append command 6108461101661098332
len(log) = 313
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 305
current commitIndex 305 lastIncludedIndex 299 snapshot exists ? true
update server 0 's matchIndex from 305 to 313
getEntryTerm
leader server 2 commit index 306 command 7983888948496376711
leader server 2 commit index 307 command 4668579678639615723
leader server 2 commit index 308 command 1173092817413564036
leader server 2 commit index 309 command 9021135374646454757
leader server 2 commit index 310 command 1314229407273986261
server 2 takes snopshot and discards logs before index 309
getEntryTerm
discard index before 309(included)
server 2 finished snopshot
leader server 2 commit index 311 command 9123350570428769070
leader server 2 commit index 312 command 4670814071081833262
leader server 2 commit index 313 command 6108461101661098332
server 0 term 53 state 0(leader false)(heartFlag true)
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 313
getEntryTerm
current commitIndex 305 lastIncludedIndex 299 snapshot exists ? true
follower server 0 commit index 306 command 7983888948496376711 
follower server 0 commit index 307 command 4668579678639615723 
follower server 0 commit index 308 command 1173092817413564036 
follower server 0 commit index 309 command 9021135374646454757 
follower server 0 commit index 310 command 1314229407273986261 
server 0 takes snopshot and discards logs before index 309
getEntryTerm
discard index before 309(included)
server 0 finished snopshot
follower server 0 commit index 311 command 9123350570428769070 
follower server 0 commit index 312 command 4670814071081833262 
follower server 0 commit index 313 command 6108461101661098332 
update server 0 's matchIndex from 313 to 313
server 1 read form stored snapshot
server 1 recover from snopshot
server 1 finishes recovery
append command 5437067097526509097
len(log) = 314
server 1 term 52 state 0(leader false)(heartFlag false)
server 1 term 52 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
getEntryTerm
server 2 already has a voteFor 2 but not candidate 1
server 2 grant false for candidate 1's requestVote
getEntryTerm
server 0 already has a voteFor 2 but not candidate 1
server 0 grant false for candidate 1's requestVote
getEntryTerm
server 1 receives snopshot from leader 2
server 1 commit snopshot to lastIncludedIndex 309
server 0 receives appendEntry from leader 2 prevLogIndex 313
current commitIndex 313 lastIncludedIndex 309 snapshot exists ? true
update server 0 's matchIndex from 313 to 314
getEntryTerm
leader server 2 commit index 314 command 5437067097526509097
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 314
getEntryTerm
current commitIndex 313 lastIncludedIndex 309 snapshot exists ? true
follower server 0 commit index 314 command 5437067097526509097 
update server 0 's matchIndex from 314 to 314
server 1 receives appendEntry from leader 2 prevLogIndex 309
server 1 convert to follower
current commitIndex 309 lastIncludedIndex 309 snapshot exists ? true
follower server 1 commit index 310 command 1314229407273986261 
follower server 1 commit index 311 command 9123350570428769070 
follower server 1 commit index 312 command 4670814071081833262 
follower server 1 commit index 313 command 6108461101661098332 
follower server 1 commit index 314 command 5437067097526509097 
update server 1 's matchIndex from 309 to 314
server 2 term 53 state 2(leader true)(heartFlag false)
nextIndex
315 || 315 || 315 || 
matchIndex
314 || 314 || 314 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 314
current commitIndex 314 lastIncludedIndex 309 snapshot exists ? true
update server 1 's matchIndex from 314 to 314
server 0 term 53 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 314
current commitIndex 314 lastIncludedIndex 309 snapshot exists ? true
update server 1 's matchIndex from 314 to 314
server 0 receives appendEntry from leader 2 prevLogIndex 314
current commitIndex 314 lastIncludedIndex 309 snapshot exists ? true
update server 0 's matchIndex from 314 to 314
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 314
current commitIndex 314 lastIncludedIndex 309 snapshot exists ? true
update server 1 's matchIndex from 314 to 314
server 0 receives appendEntry from leader 2 prevLogIndex 314
current commitIndex 314 lastIncludedIndex 309 snapshot exists ? true
update server 0 's matchIndex from 314 to 314
server 2 term 53 state 2(leader true)(heartFlag false)
nextIndex
315 || 315 || 315 || 
matchIndex
314 || 314 || 314 || 
getEntryTerm
getEntryTerm
server 1 term 53 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 314
current commitIndex 314 lastIncludedIndex 309 snapshot exists ? true
update server 1 's matchIndex from 314 to 314
server 0 receives appendEntry from leader 2 prevLogIndex 314
current commitIndex 314 lastIncludedIndex 309 snapshot exists ? true
append command 6219794629078122739
len(log) = 315
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 314
current commitIndex 314 lastIncludedIndex 309 snapshot exists ? true
update server 1 's matchIndex from 314 to 315
getEntryTerm
leader server 2 commit index 315 command 6219794629078122739
server 2 term 53 state 2(leader true)(heartFlag false)
nextIndex
315 || 316 || 316 || 
matchIndex
314 || 315 || 315 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 315
getEntryTerm
current commitIndex 314 lastIncludedIndex 309 snapshot exists ? true
follower server 1 commit index 315 command 6219794629078122739 
update server 1 's matchIndex from 315 to 315
append command 6392544643305252003
len(log) = 316
append command 4737484006685412329
len(log) = 317
append command 2081880096778005250
len(log) = 318
append command 3544842828702727655
len(log) = 319
append command 3954838743369757199
len(log) = 320
append command 5427055124235854675
len(log) = 321
append command 4664073746963896453
len(log) = 322
append command 7880458417296618949
len(log) = 323
append command 7175950030464876066
len(log) = 324
append command 5913512947236387387
len(log) = 325
append command 7673863166985855217
len(log) = 326
append command 7199971651544476439
len(log) = 327
append command 5497128716699783622
len(log) = 328
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 315
current commitIndex 315 lastIncludedIndex 309 snapshot exists ? true
update server 1 's matchIndex from 315 to 328
getEntryTerm
leader server 2 commit index 316 command 6392544643305252003
leader server 2 commit index 317 command 4737484006685412329
leader server 2 commit index 318 command 2081880096778005250
leader server 2 commit index 319 command 3544842828702727655
leader server 2 commit index 320 command 3954838743369757199
server 2 takes snopshot and discards logs before index 319
getEntryTerm
discard index before 319(included)
server 2 finished snopshot
leader server 2 commit index 321 command 5427055124235854675
leader server 2 commit index 322 command 4664073746963896453
leader server 2 commit index 323 command 7880458417296618949
leader server 2 commit index 324 command 7175950030464876066
leader server 2 commit index 325 command 5913512947236387387
leader server 2 commit index 326 command 7673863166985855217
leader server 2 commit index 327 command 7199971651544476439
leader server 2 commit index 328 command 5497128716699783622
server 1 term 53 state 0(leader false)(heartFlag true)
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 328
getEntryTerm
current commitIndex 315 lastIncludedIndex 309 snapshot exists ? true
follower server 1 commit index 316 command 6392544643305252003 
follower server 1 commit index 317 command 4737484006685412329 
follower server 1 commit index 318 command 2081880096778005250 
follower server 1 commit index 319 command 3544842828702727655 
follower server 1 commit index 320 command 3954838743369757199 
server 1 takes snopshot and discards logs before index 319
getEntryTerm
discard index before 319(included)
server 1 finished snopshot
follower server 1 commit index 321 command 5427055124235854675 
follower server 1 commit index 322 command 4664073746963896453 
follower server 1 commit index 323 command 7880458417296618949 
follower server 1 commit index 324 command 7175950030464876066 
follower server 1 commit index 325 command 5913512947236387387 
follower server 1 commit index 326 command 7673863166985855217 
follower server 1 commit index 327 command 7199971651544476439 
follower server 1 commit index 328 command 5497128716699783622 
update server 1 's matchIndex from 328 to 328
server 0 read form stored snapshot
server 0 recover from snopshot
server 0 finishes recovery
append command 2188735293786563249
server 0 term 53 state 0(leader false)(heartFlag false)
server 0 term 53 doesn't hear any heartbeat
len(log) = 329
server 0 convert to candidate
getEntryTerm
getEntryTerm
server 1 convert to follower
getEntryTerm
server 1 thinks candidate 0 is not up-to-date
server 1 grant false for candidate 0's requestVote
server 2 convert to follower
getEntryTerm
server 2 thinks candidate 0 is not up-to-date
server 2 grant false for candidate 0's requestVote
server 2 term 54 state 0(leader false)(heartFlag false)
server 2 term 54 doesn't hear any heartbeat
server 2 convert to candidate
getEntryTerm
getEntryTerm
server 1 convert to follower
getEntryTerm
server 1 grant true for candidate 2's requestVote
server 2 convert to leader
server 2 term 55 send appendEntries
getEntryTerm
getEntryTerm
server 0 convert to follower
getEntryTerm
server 0 grant true for candidate 2's requestVote
server 0 receives appendEntry from leader 2 prevLogIndex 329
lastLogIndex 314, args.PrevLogIndex 329
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 329
lastLogIndex 328, args.PrevLogIndex 329
server 0 receives snopshot from leader 2
server 0 commit snopshot to lastIncludedIndex 319
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 328
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 1 's matchIndex from 0 to 329
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 319
current commitIndex 319 lastIncludedIndex 319 snapshot exists ? true
follower server 0 commit index 320 command 3954838743369757199 
follower server 0 commit index 321 command 5427055124235854675 
follower server 0 commit index 322 command 4664073746963896453 
follower server 0 commit index 323 command 7880458417296618949 
follower server 0 commit index 324 command 7175950030464876066 
follower server 0 commit index 325 command 5913512947236387387 
follower server 0 commit index 326 command 7673863166985855217 
follower server 0 commit index 327 command 7199971651544476439 
follower server 0 commit index 328 command 5497128716699783622 
update server 0 's matchIndex from 319 to 329
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 329 to 329
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 1 's matchIndex from 329 to 329
server 0 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 329 to 329
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 329 to 329
server 1 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 55 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 1 's matchIndex from 329 to 329
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 329 to 329
server 1 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 1 's matchIndex from 329 to 329
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 329 to 329
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 1 's matchIndex from 329 to 329
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 329 to 329
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 329 to 329
server 1 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 1 's matchIndex from 329 to 329
server 0 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 329 to 329
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 55 state 2(leader true)(heartFlag false)
nextIndex
330 || 330 || 330 || 
matchIndex
329 || 329 || 329 || 
server 1 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 329 to 329
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 1 's matchIndex from 329 to 329
server 0 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
server 0 term 55 state 0(leader false)(heartFlag true)
update server 0 's matchIndex from 329 to 329
getEntryTerm
getEntryTerm
server 1 term 55 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 1 's matchIndex from 329 to 329
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 329 to 329
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 1 's matchIndex from 329 to 329
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 1 's matchIndex from 329 to 329
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 329 to 329
server 1 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 1 's matchIndex from 329 to 329
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 55 state 2(leader true)(heartFlag false)
nextIndex
330 || 330 || 330 || 
matchIndex
329 || 329 || 329 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 1 's matchIndex from 329 to 329
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 329 to 329
server 1 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
getEntryTerm
getEntryTerm
server 1 term 55 state 0(leader false)(heartFlag true)
server 0 term 55 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 329 to 329
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 1 's matchIndex from 329 to 329
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 329 to 329
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 1 's matchIndex from 329 to 329
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
server 2 term 55 state 2(leader true)(heartFlag false)
getEntryTerm
nextIndex
330 || 330 || 330 || 
matchIndex
329 || 329 || 329 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 329 to 329
server 1 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 1 's matchIndex from 329 to 329
server 0 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 1 's matchIndex from 329 to 329
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 55 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 329 to 329
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 1 's matchIndex from 329 to 329
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 1 's matchIndex from 329 to 329
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 329 to 329
server 1 term 55 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 1 's matchIndex from 329 to 329
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 329 to 329
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 1 's matchIndex from 329 to 329
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 329 to 329
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 329 to 329
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 1 's matchIndex from 329 to 329
server 1 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 1 's matchIndex from 329 to 329
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 329 to 329
getEntryTerm
getEntryTerm
server 2 term 55 state 2(leader true)(heartFlag false)
nextIndex
330 || 330 || 330 || 
matchIndex
329 || 329 || 329 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 1 's matchIndex from 329 to 329
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 329 to 329
server 0 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 329 to 329
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 55 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 1 's matchIndex from 329 to 329
server 0 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 329 to 329
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 55 state 0(leader false)(heartFlag true)
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 1 's matchIndex from 329 to 329
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 329 to 329
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 329 to 329
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 329 to 329
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 1 's matchIndex from 329 to 329
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 329 to 329
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 1 's matchIndex from 329 to 329
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 1 's matchIndex from 329 to 329
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 329 to 329
getEntryTerm
server 2 term 55 state 2(leader true)(heartFlag false)
nextIndex
330 || 330 || 330 || 
matchIndex
329 || 329 || 329 || 
append command 2188735293786563249
len(log) = 330
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 55 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 1 's matchIndex from 329 to 330
getEntryTerm
leader server 2 commit index 329 command 2188735293786563249
leader server 2 commit index 330 command 2188735293786563249
server 2 takes snopshot and discards logs before index 329
getEntryTerm
discard index before 329(included)
server 2 finished snopshot
server 0 receives appendEntry from leader 2 prevLogIndex 329
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
update server 0 's matchIndex from 329 to 330
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 330
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
follower server 0 commit index 329 command 2188735293786563249 
follower server 0 commit index 330 command 2188735293786563249 
server 0 takes snopshot and discards logs before index 329
getEntryTerm
discard index before 329(included)
server 0 finished snopshot
update server 0 's matchIndex from 330 to 330
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 330
getEntryTerm
current commitIndex 328 lastIncludedIndex 319 snapshot exists ? true
follower server 1 commit index 329 command 2188735293786563249 
follower server 1 commit index 330 command 2188735293786563249 
server 1 takes snopshot and discards logs before index 329
getEntryTerm
discard index before 329(included)
server 1 finished snopshot
update server 1 's matchIndex from 330 to 330
server 0 receives appendEntry from leader 2 prevLogIndex 330
current commitIndex 330 lastIncludedIndex 329 snapshot exists ? true
update server 0 's matchIndex from 330 to 330
server 0 term 55 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 330
current commitIndex 330 lastIncludedIndex 329 snapshot exists ? true
update server 0 's matchIndex from 330 to 330
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 330
current commitIndex 330 lastIncludedIndex 329 snapshot exists ? true
update server 1 's matchIndex from 330 to 330
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 330
current commitIndex 330 lastIncludedIndex 329 snapshot exists ? true
update server 0 's matchIndex from 330 to 330
server 0 receives appendEntry from leader 2 prevLogIndex 330
current commitIndex 330 lastIncludedIndex 329 snapshot exists ? true
update server 0 's matchIndex from 330 to 330
server 1 term 55 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 330
current commitIndex 330 lastIncludedIndex 329 snapshot exists ? true
update server 1 's matchIndex from 330 to 330
server 0 receives appendEntry from leader 2 prevLogIndex 330
current commitIndex 330 lastIncludedIndex 329 snapshot exists ? true
update server 0 's matchIndex from 330 to 330
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 330
current commitIndex 330 lastIncludedIndex 329 snapshot exists ? true
update server 0 's matchIndex from 330 to 330
server 1 receives appendEntry from leader 2 prevLogIndex 330
current commitIndex 330 lastIncludedIndex 329 snapshot exists ? true
update server 1 's matchIndex from 330 to 330
server 2 term 55 state 2(leader true)(heartFlag false)
nextIndex
331 || 331 || 331 || 
matchIndex
330 || 330 || 330 || 
server 0 term 55 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 330
current commitIndex 330 lastIncludedIndex 329 snapshot exists ? true
update server 0 's matchIndex from 330 to 330
server 1 receives appendEntry from leader 2 prevLogIndex 330
current commitIndex 330 lastIncludedIndex 329 snapshot exists ? true
update server 1 's matchIndex from 330 to 330
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 330
current commitIndex 330 lastIncludedIndex 329 snapshot exists ? true
update server 0 's matchIndex from 330 to 330
server 1 receives appendEntry from leader 2 prevLogIndex 330
current commitIndex 330 lastIncludedIndex 329 snapshot exists ? true
update server 1 's matchIndex from 330 to 330
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 330
current commitIndex 330 lastIncludedIndex 329 snapshot exists ? true
update server 1 's matchIndex from 330 to 330
server 0 receives appendEntry from leader 2 prevLogIndex 330
current commitIndex 330 lastIncludedIndex 329 snapshot exists ? true
update server 0 's matchIndex from 330 to 330
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 330
current commitIndex 330 lastIncludedIndex 329 snapshot exists ? true
update server 0 's matchIndex from 330 to 330
server 1 receives appendEntry from leader 2 prevLogIndex 330
current commitIndex 330 lastIncludedIndex 329 snapshot exists ? true
update server 1 's matchIndex from 330 to 330
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 330
current commitIndex 330 lastIncludedIndex 329 snapshot exists ? true
update server 0 's matchIndex from 330 to 330
append command 3488943837388876709
len(log) = 331
getEntryTerm
getEntryTerm
server 1 term 55 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 term 55 state 2(leader true)(heartFlag false)
nextIndex
331 || 331 || 332 || 
matchIndex
330 || 330 || 331 || 
server 1 receives appendEntry from leader 2 prevLogIndex 330
current commitIndex 330 lastIncludedIndex 329 snapshot exists ? true
update server 1 's matchIndex from 330 to 331
getEntryTerm
leader server 2 commit index 331 command 3488943837388876709
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 331
getEntryTerm
current commitIndex 330 lastIncludedIndex 329 snapshot exists ? true
follower server 1 commit index 331 command 3488943837388876709 
update server 1 's matchIndex from 331 to 331
append command 9063907430052521304
len(log) = 332
append command 359613086721539936
len(log) = 333
append command 4460884260402490494
len(log) = 334
append command 7049962726161012270
len(log) = 335
append command 2614415497986620006
len(log) = 336
append command 7585818367805421289
len(log) = 337
append command 973820414775054820
len(log) = 338
append command 1613250737499142189
len(log) = 339
append command 7410596149894490032
len(log) = 340
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 331
current commitIndex 331 lastIncludedIndex 329 snapshot exists ? true
update server 1 's matchIndex from 331 to 340
getEntryTerm
leader server 2 commit index 332 command 9063907430052521304
leader server 2 commit index 333 command 359613086721539936
leader server 2 commit index 334 command 4460884260402490494
leader server 2 commit index 335 command 7049962726161012270
leader server 2 commit index 336 command 2614415497986620006
leader server 2 commit index 337 command 7585818367805421289
leader server 2 commit index 338 command 973820414775054820
leader server 2 commit index 339 command 1613250737499142189
leader server 2 commit index 340 command 7410596149894490032
server 2 takes snopshot and discards logs before index 339
getEntryTerm
discard index before 339(included)
server 2 finished snopshot
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 340
getEntryTerm
current commitIndex 331 lastIncludedIndex 329 snapshot exists ? true
follower server 1 commit index 332 command 9063907430052521304 
follower server 1 commit index 333 command 359613086721539936 
follower server 1 commit index 334 command 4460884260402490494 
follower server 1 commit index 335 command 7049962726161012270 
follower server 1 commit index 336 command 2614415497986620006 
follower server 1 commit index 337 command 7585818367805421289 
follower server 1 commit index 338 command 973820414775054820 
follower server 1 commit index 339 command 1613250737499142189 
follower server 1 commit index 340 command 7410596149894490032 
server 1 takes snopshot and discards logs before index 339
getEntryTerm
discard index before 339(included)
server 1 finished snopshot
update server 1 's matchIndex from 340 to 340
server 0 read form stored snapshot
server 0 recover from snopshot
server 0 finishes recovery
append command 6750741565247796165
server 0 term 55 state 0(leader false)(heartFlag false)
server 0 term 55 doesn't hear any heartbeat
server 0 convert to candidate
len(log) = 341
getEntryTerm
getEntryTerm
server 2 convert to follower
getEntryTerm
server 2 thinks candidate 0 is not up-to-date
server 2 grant false for candidate 0's requestVote
server 1 convert to follower
getEntryTerm
server 1 thinks candidate 0 is not up-to-date
server 1 grant false for candidate 0's requestVote
server 1 term 56 state 0(leader false)(heartFlag true)
server 2 term 56 state 0(leader false)(heartFlag false)
server 2 term 56 doesn't hear any heartbeat
server 2 convert to candidate
getEntryTerm
getEntryTerm
server 1 convert to follower
getEntryTerm
server 1 grant true for candidate 2's requestVote
server 2 convert to leader
server 2 term 57 send appendEntries
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 341
lastLogIndex 340, args.PrevLogIndex 341
server 0 receives appendEntry from leader 2 prevLogIndex 341
server 0 convert to follower
lastLogIndex 330, args.PrevLogIndex 341
getEntryTerm
server 0 grant true for candidate 2's requestVote
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 340
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
update server 1 's matchIndex from 0 to 341
getEntryTerm
server 0 receives snopshot from leader 2
server 0 commit snopshot to lastIncludedIndex 339
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 341
getEntryTerm
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
update server 1 's matchIndex from 341 to 341
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 339
current commitIndex 339 lastIncludedIndex 339 snapshot exists ? true
follower server 0 commit index 340 command 7410596149894490032 
update server 0 's matchIndex from 339 to 341
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 341
getEntryTerm
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 341
getEntryTerm
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
update server 1 's matchIndex from 341 to 341
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 57 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 341
getEntryTerm
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
update server 1 's matchIndex from 341 to 341
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 341
getEntryTerm
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
update server 0 's matchIndex from 341 to 341
getEntryTerm
server 0 term 57 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 341
getEntryTerm
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
update server 0 's matchIndex from 341 to 341
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 341
getEntryTerm
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
update server 1 's matchIndex from 341 to 341
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 341
getEntryTerm
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
update server 1 's matchIndex from 341 to 341
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 341
getEntryTerm
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
update server 0 's matchIndex from 341 to 341
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 341
getEntryTerm
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
update server 1 's matchIndex from 341 to 341
getEntryTerm
server 2 term 57 state 2(leader true)(heartFlag false)
nextIndex
342 || 342 || 342 || 
matchIndex
341 || 341 || 341 || 
server 1 term 57 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 341
getEntryTerm
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
update server 0 's matchIndex from 341 to 341
server 1 receives appendEntry from leader 2 prevLogIndex 341
getEntryTerm
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
update server 1 's matchIndex from 341 to 341
getEntryTerm
server 0 term 57 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 341
getEntryTerm
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
update server 0 's matchIndex from 341 to 341
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 341
getEntryTerm
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
update server 1 's matchIndex from 341 to 341
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 341
getEntryTerm
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 341
getEntryTerm
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 57 state 0(leader false)(heartFlag true)
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 341
getEntryTerm
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
update server 0 's matchIndex from 341 to 341
server 1 receives appendEntry from leader 2 prevLogIndex 341
getEntryTerm
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
update server 1 's matchIndex from 341 to 341
getEntryTerm
getEntryTerm
server 2 term 57 state 2(leader true)(heartFlag false)
nextIndex
342 || 342 || 342 || 
matchIndex
341 || 341 || 341 || 
getEntryTerm
getEntryTerm
server 0 term 57 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 341
getEntryTerm
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
update server 0 's matchIndex from 341 to 341
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 341
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 341
getEntryTerm
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
update server 1 's matchIndex from 341 to 341
update server 0 's matchIndex from 341 to 341
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 57 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 341
getEntryTerm
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
update server 0 's matchIndex from 341 to 341
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 341
getEntryTerm
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
update server 1 's matchIndex from 341 to 341
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 341
getEntryTerm
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
update server 0 's matchIndex from 341 to 341
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 57 state 0(leader false)(heartFlag true)
getEntryTerm
server 2 term 57 state 2(leader true)(heartFlag false)
nextIndex
342 || 342 || 342 || 
matchIndex
341 || 341 || 341 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 341
getEntryTerm
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
update server 1 's matchIndex from 341 to 341
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 341
getEntryTerm
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
update server 0 's matchIndex from 341 to 341
server 1 receives appendEntry from leader 2 prevLogIndex 341
getEntryTerm
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
update server 1 's matchIndex from 341 to 341
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 57 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
append command 6750741565247796165
len(log) = 342
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 341
getEntryTerm
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
update server 0 's matchIndex from 341 to 341
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 341
getEntryTerm
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
update server 0 's matchIndex from 341 to 342
getEntryTerm
leader server 2 commit index 341 command 6750741565247796165
leader server 2 commit index 342 command 6750741565247796165
server 2 term 57 state 2(leader true)(heartFlag false)
nextIndex
343 || 342 || 343 || 
matchIndex
342 || 341 || 342 || 
server 0 term 57 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 341
getEntryTerm
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
follower server 1 commit index 341 command 6750741565247796165 
follower server 1 commit index 342 command 6750741565247796165 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 342
getEntryTerm
current commitIndex 340 lastIncludedIndex 339 snapshot exists ? true
follower server 0 commit index 341 command 6750741565247796165 
follower server 0 commit index 342 command 6750741565247796165 
update server 0 's matchIndex from 342 to 342
server 1 receives appendEntry from leader 2 prevLogIndex 341
current commitIndex 342 lastIncludedIndex 339 snapshot exists ? true
update server 1 's matchIndex from 341 to 342
server 1 term 57 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 term 57 state 2(leader true)(heartFlag false)
nextIndex
343 || 343 || 343 || 
matchIndex
342 || 342 || 342 || 
server 1 receives appendEntry from leader 2 prevLogIndex 342
current commitIndex 342 lastIncludedIndex 339 snapshot exists ? true
update server 1 's matchIndex from 342 to 342
server 0 receives appendEntry from leader 2 prevLogIndex 342
current commitIndex 342 lastIncludedIndex 339 snapshot exists ? true
update server 0 's matchIndex from 342 to 342
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 342
current commitIndex 342 lastIncludedIndex 339 snapshot exists ? true
update server 0 's matchIndex from 342 to 342
server 1 receives appendEntry from leader 2 prevLogIndex 342
current commitIndex 342 lastIncludedIndex 339 snapshot exists ? true
update server 1 's matchIndex from 342 to 342
server 0 term 57 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 342
current commitIndex 342 lastIncludedIndex 339 snapshot exists ? true
update server 0 's matchIndex from 342 to 342
server 1 term 57 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 342
current commitIndex 342 lastIncludedIndex 339 snapshot exists ? true
update server 0 's matchIndex from 342 to 342
server 1 receives appendEntry from leader 2 prevLogIndex 342
current commitIndex 342 lastIncludedIndex 339 snapshot exists ? true
update server 1 's matchIndex from 342 to 342
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 342
current commitIndex 342 lastIncludedIndex 339 snapshot exists ? true
update server 0 's matchIndex from 342 to 342
server 2 term 57 state 2(leader true)(heartFlag false)
nextIndex
343 || 343 || 343 || 
matchIndex
342 || 342 || 342 || 
server 0 term 57 state 0(leader false)(heartFlag true)
server 1 term 57 state 0(leader false)(heartFlag true)
server 1 term 57 state 0(leader false)(heartFlag false)
server 1 term 57 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 0 convert to follower
getEntryTerm
server 0 grant true for candidate 1's requestVote
server 1 convert to leader
server 1 term 58 send appendEntries
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 342
current commitIndex 342 lastIncludedIndex 339 snapshot exists ? true
update server 0 's matchIndex from 0 to 342
append command 6842255514509047203
len(log) = 343
server 0 term 58 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 342
current commitIndex 342 lastIncludedIndex 339 snapshot exists ? true
update server 0 's matchIndex from 342 to 343
getEntryTerm
leader server 1 commit index 343 command 6842255514509047203
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 343
getEntryTerm
current commitIndex 342 lastIncludedIndex 339 snapshot exists ? true
follower server 0 commit index 343 command 6842255514509047203 
update server 0 's matchIndex from 343 to 343
append command 282788094960232509
len(log) = 344
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 343
current commitIndex 343 lastIncludedIndex 339 snapshot exists ? true
update server 0 's matchIndex from 343 to 344
getEntryTerm
leader server 1 commit index 344 command 282788094960232509
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 344
getEntryTerm
current commitIndex 343 lastIncludedIndex 339 snapshot exists ? true
follower server 0 commit index 344 command 282788094960232509 
update server 0 's matchIndex from 344 to 344
server 2 read form stored snapshot
server 2 recover from snopshot
server 2 finishes recovery
append command 3241390330597530524
server 2 term 57 state 0(leader false)(heartFlag false)
server 2 term 57 doesn't hear any heartbeat
server 2 convert to candidate
len(log) = 345
getEntryTerm
getEntryTerm
getEntryTerm
server 0 already has a voteFor 1 but not candidate 2
server 0 grant false for candidate 2's requestVote
getEntryTerm
server 1 already has a voteFor 1 but not candidate 2
server 1 grant false for candidate 2's requestVote
server 0 term 58 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 342
server 2 convert to follower
getEntryTerm
current commitIndex 339 lastIncludedIndex 339 snapshot exists ? true
follower server 2 commit index 340 command 7410596149894490032 
follower server 2 commit index 341 command 6750741565247796165 
follower server 2 commit index 342 command 6750741565247796165 
follower server 2 commit index 343 command 6842255514509047203 
follower server 2 commit index 344 command 282788094960232509 
update server 2 's matchIndex from 0 to 345
getEntryTerm
leader server 1 commit index 345 command 3241390330597530524
server 0 receives appendEntry from leader 1 prevLogIndex 344
current commitIndex 344 lastIncludedIndex 339 snapshot exists ? true
update server 0 's matchIndex from 344 to 345
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 345
getEntryTerm
current commitIndex 344 lastIncludedIndex 339 snapshot exists ? true
follower server 2 commit index 345 command 3241390330597530524 
update server 2 's matchIndex from 345 to 345
server 0 receives appendEntry from leader 1 prevLogIndex 345
getEntryTerm
current commitIndex 344 lastIncludedIndex 339 snapshot exists ? true
follower server 0 commit index 345 command 3241390330597530524 
server 1 term 58 state 2(leader true)(heartFlag false)
nextIndex
346 || 346 || 346 || 
matchIndex
345 || 345 || 345 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 345
current commitIndex 345 lastIncludedIndex 339 snapshot exists ? true
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 345
current commitIndex 345 lastIncludedIndex 339 snapshot exists ? true
update server 0 's matchIndex from 345 to 345
server 0 term 58 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 345
current commitIndex 345 lastIncludedIndex 339 snapshot exists ? true
update server 0 's matchIndex from 345 to 345
getEntryTerm
getEntryTerm
server 1 term 58 state 2(leader true)(heartFlag false)
nextIndex
346 || 346 || 346 || 
matchIndex
345 || 345 || 345 || 
server 0 receives appendEntry from leader 1 prevLogIndex 345
current commitIndex 345 lastIncludedIndex 339 snapshot exists ? true
update server 0 's matchIndex from 345 to 345
server 2 receives appendEntry from leader 1 prevLogIndex 345
current commitIndex 345 lastIncludedIndex 339 snapshot exists ? true
update server 2 's matchIndex from 345 to 345
append command 2740030731890963745
len(log) = 346
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 345
current commitIndex 345 lastIncludedIndex 339 snapshot exists ? true
update server 0 's matchIndex from 345 to 346
getEntryTerm
leader server 1 commit index 346 command 2740030731890963745
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 346
getEntryTerm
current commitIndex 345 lastIncludedIndex 339 snapshot exists ? true
follower server 0 commit index 346 command 2740030731890963745 
update server 0 's matchIndex from 346 to 346
append command 240022408495419739
len(log) = 347
append command 7403166896197859407
len(log) = 348
append command 615278634413245902
len(log) = 349
append command 5583920766888390155
len(log) = 350
append command 5946227827134684236
len(log) = 351
append command 6478818962672434106
len(log) = 352
append command 200010358233228900
len(log) = 353
append command 692752972214215593
len(log) = 354
append command 4836862390368433044
len(log) = 355
append command 7949594476004536260
len(log) = 356
append command 7588822980088064864
len(log) = 357
append command 249668136372234420
len(log) = 358
append command 2353912579195534133
len(log) = 359
append command 3989835123277058832
len(log) = 360
getEntryTerm
getEntryTerm
server 0 term 58 state 0(leader false)(heartFlag true)
server 0 receives appendEntry from leader 1 prevLogIndex 346
current commitIndex 346 lastIncludedIndex 339 snapshot exists ? true
update server 0 's matchIndex from 346 to 360
getEntryTerm
leader server 1 commit index 347 command 240022408495419739
leader server 1 commit index 348 command 7403166896197859407
leader server 1 commit index 349 command 615278634413245902
leader server 1 commit index 350 command 5583920766888390155
server 1 takes snopshot and discards logs before index 349
getEntryTerm
discard index before 349(included)
server 1 finished snopshot
leader server 1 commit index 351 command 5946227827134684236
leader server 1 commit index 352 command 6478818962672434106
leader server 1 commit index 353 command 200010358233228900
leader server 1 commit index 354 command 692752972214215593
leader server 1 commit index 355 command 4836862390368433044
leader server 1 commit index 356 command 7949594476004536260
leader server 1 commit index 357 command 7588822980088064864
leader server 1 commit index 358 command 249668136372234420
leader server 1 commit index 359 command 2353912579195534133
leader server 1 commit index 360 command 3989835123277058832
server 1 takes snopshot and discards logs before index 359
getEntryTerm
discard index before 359(included)
server 1 finished snopshot
server 1 term 58 state 2(leader true)(heartFlag false)
nextIndex
361 || 361 || 346 || 
matchIndex
360 || 360 || 345 || 
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 360
getEntryTerm
current commitIndex 346 lastIncludedIndex 339 snapshot exists ? true
follower server 0 commit index 347 command 240022408495419739 
follower server 0 commit index 348 command 7403166896197859407 
follower server 0 commit index 349 command 615278634413245902 
follower server 0 commit index 350 command 5583920766888390155 
server 0 takes snopshot and discards logs before index 349
getEntryTerm
discard index before 349(included)
server 0 finished snopshot
follower server 0 commit index 351 command 5946227827134684236 
follower server 0 commit index 352 command 6478818962672434106 
follower server 0 commit index 353 command 200010358233228900 
follower server 0 commit index 354 command 692752972214215593 
follower server 0 commit index 355 command 4836862390368433044 
follower server 0 commit index 356 command 7949594476004536260 
follower server 0 commit index 357 command 7588822980088064864 
follower server 0 commit index 358 command 249668136372234420 
follower server 0 commit index 359 command 2353912579195534133 
follower server 0 commit index 360 command 3989835123277058832 
server 0 takes snopshot and discards logs before index 359
getEntryTerm
discard index before 359(included)
server 0 finished snopshot
update server 0 's matchIndex from 360 to 360
server 2 read form stored snapshot
server 2 recover from snopshot
server 2 finishes recovery
append command 3165631485810547979
server 2 term 58 state 0(leader false)(heartFlag false)
server 2 term 58 doesn't hear any heartbeat
len(log) = 361
server 2 convert to candidate
getEntryTerm
getEntryTerm
server 0 convert to follower
getEntryTerm
server 0 thinks candidate 2 is not up-to-date
server 0 grant false for candidate 2's requestVote
server 1 convert to follower
getEntryTerm
server 1 thinks candidate 2 is not up-to-date
server 1 grant false for candidate 2's requestVote
server 1 term 59 state 0(leader false)(heartFlag false)
server 1 term 59 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
getEntryTerm
server 2 grant true for candidate 1's requestVote
server 1 convert to leader
server 1 term 60 send appendEntries
getEntryTerm
getEntryTerm
server 0 convert to follower
server 2 receives appendEntry from leader 1 prevLogIndex 361
getEntryTerm
lastLogIndex 345, args.PrevLogIndex 361
server 0 grant true for candidate 1's requestVote
server 0 receives appendEntry from leader 1 prevLogIndex 361
lastLogIndex 360, args.PrevLogIndex 361
server 0 term 60 state 0(leader false)(heartFlag true)
getEntryTerm
server 2 receives snopshot from leader 1
server 2 commit snopshot to lastIncludedIndex 359
server 0 receives appendEntry from leader 1 prevLogIndex 360
current commitIndex 360 lastIncludedIndex 359 snapshot exists ? true
update server 0 's matchIndex from 0 to 361
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 361
getEntryTerm
current commitIndex 360 lastIncludedIndex 359 snapshot exists ? true
update server 0 's matchIndex from 361 to 361
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 359
current commitIndex 359 lastIncludedIndex 359 snapshot exists ? true
follower server 2 commit index 360 command 3989835123277058832 
update server 2 's matchIndex from 359 to 361
server 0 receives appendEntry from leader 1 prevLogIndex 361
getEntryTerm
current commitIndex 360 lastIncludedIndex 359 snapshot exists ? true
update server 0 's matchIndex from 361 to 361
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 60 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 361
getEntryTerm
current commitIndex 360 lastIncludedIndex 359 snapshot exists ? true
update server 0 's matchIndex from 361 to 361
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 361
getEntryTerm
current commitIndex 360 lastIncludedIndex 359 snapshot exists ? true
update server 2 's matchIndex from 361 to 361
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 361
getEntryTerm
current commitIndex 360 lastIncludedIndex 359 snapshot exists ? true
update server 2 's matchIndex from 361 to 361
server 0 receives appendEntry from leader 1 prevLogIndex 361
getEntryTerm
current commitIndex 360 lastIncludedIndex 359 snapshot exists ? true
getEntryTerm
update server 0 's matchIndex from 361 to 361
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 60 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 361
getEntryTerm
current commitIndex 360 lastIncludedIndex 359 snapshot exists ? true
update server 2 's matchIndex from 361 to 361
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 361
getEntryTerm
current commitIndex 360 lastIncludedIndex 359 snapshot exists ? true
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 361
getEntryTerm
current commitIndex 360 lastIncludedIndex 359 snapshot exists ? true
getEntryTerm
server 1 term 60 state 2(leader true)(heartFlag false)
nextIndex
362 || 362 || 362 || 
matchIndex
361 || 361 || 361 || 
getEntryTerm
server 0 term 60 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 361
getEntryTerm
current commitIndex 360 lastIncludedIndex 359 snapshot exists ? true
update server 2 's matchIndex from 361 to 361
server 0 receives appendEntry from leader 1 prevLogIndex 361
getEntryTerm
current commitIndex 360 lastIncludedIndex 359 snapshot exists ? true
update server 0 's matchIndex from 361 to 361
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 term 60 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 361
getEntryTerm
current commitIndex 360 lastIncludedIndex 359 snapshot exists ? true
update server 2 's matchIndex from 361 to 361
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 term 60 state 2(leader true)(heartFlag false)
nextIndex
362 || 362 || 362 || 
matchIndex
361 || 361 || 361 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 60 state 0(leader false)(heartFlag true)
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 361
getEntryTerm
current commitIndex 360 lastIncludedIndex 359 snapshot exists ? true
update server 0 's matchIndex from 361 to 361
server 2 receives appendEntry from leader 1 prevLogIndex 361
getEntryTerm
current commitIndex 360 lastIncludedIndex 359 snapshot exists ? true
update server 2 's matchIndex from 361 to 361
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 361
getEntryTerm
current commitIndex 360 lastIncludedIndex 359 snapshot exists ? true
update server 2 's matchIndex from 361 to 361
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 361
getEntryTerm
current commitIndex 360 lastIncludedIndex 359 snapshot exists ? true
update server 0 's matchIndex from 361 to 361
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 361
getEntryTerm
current commitIndex 360 lastIncludedIndex 359 snapshot exists ? true
update server 0 's matchIndex from 361 to 361
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 361
getEntryTerm
current commitIndex 360 lastIncludedIndex 359 snapshot exists ? true
update server 2 's matchIndex from 361 to 361
getEntryTerm
server 2 term 60 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 term 60 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 term 60 state 2(leader true)(heartFlag false)
nextIndex
362 || 362 || 362 || 
matchIndex
361 || 361 || 361 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 361
getEntryTerm
current commitIndex 360 lastIncludedIndex 359 snapshot exists ? true
update server 2 's matchIndex from 361 to 361
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 361
getEntryTerm
current commitIndex 360 lastIncludedIndex 359 snapshot exists ? true
update server 0 's matchIndex from 361 to 361
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 361
getEntryTerm
current commitIndex 360 lastIncludedIndex 359 snapshot exists ? true
update server 2 's matchIndex from 361 to 361
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 361
getEntryTerm
current commitIndex 360 lastIncludedIndex 359 snapshot exists ? true
update server 0 's matchIndex from 361 to 361
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 361
getEntryTerm
current commitIndex 360 lastIncludedIndex 359 snapshot exists ? true
update server 2 's matchIndex from 361 to 361
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 361
getEntryTerm
current commitIndex 360 lastIncludedIndex 359 snapshot exists ? true
update server 0 's matchIndex from 361 to 361
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 361
getEntryTerm
current commitIndex 360 lastIncludedIndex 359 snapshot exists ? true
update server 2 's matchIndex from 361 to 361
server 2 term 60 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 term 60 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 361
getEntryTerm
current commitIndex 360 lastIncludedIndex 359 snapshot exists ? true
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 361
getEntryTerm
current commitIndex 360 lastIncludedIndex 359 snapshot exists ? true
update server 2 's matchIndex from 361 to 361
server 1 term 60 state 2(leader true)(heartFlag false)
nextIndex
362 || 362 || 362 || 
matchIndex
361 || 361 || 361 || 
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
append command 3165631485810547979
len(log) = 362
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 361
getEntryTerm
current commitIndex 360 lastIncludedIndex 359 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 361
getEntryTerm
current commitIndex 360 lastIncludedIndex 359 snapshot exists ? true
update server 2 's matchIndex from 361 to 362
update server 0 's matchIndex from 361 to 362
getEntryTerm
leader server 1 commit index 361 command 3165631485810547979
leader server 1 commit index 362 command 3165631485810547979
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 362
getEntryTerm
current commitIndex 360 lastIncludedIndex 359 snapshot exists ? true
follower server 2 commit index 361 command 3165631485810547979 
follower server 2 commit index 362 command 3165631485810547979 
update server 2 's matchIndex from 362 to 362
server 0 term 60 state 0(leader false)(heartFlag true)
server 0 receives appendEntry from leader 1 prevLogIndex 362
getEntryTerm
current commitIndex 360 lastIncludedIndex 359 snapshot exists ? true
follower server 0 commit index 361 command 3165631485810547979 
follower server 0 commit index 362 command 3165631485810547979 
update server 0 's matchIndex from 362 to 362
server 2 term 60 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 362
current commitIndex 362 lastIncludedIndex 359 snapshot exists ? true
update server 2 's matchIndex from 362 to 362
getEntryTerm
getEntryTerm
server 1 term 60 state 2(leader true)(heartFlag false)
nextIndex
363 || 363 || 363 || 
matchIndex
362 || 362 || 362 || 
server 0 receives appendEntry from leader 1 prevLogIndex 362
current commitIndex 362 lastIncludedIndex 359 snapshot exists ? true
update server 0 's matchIndex from 362 to 362
server 2 receives appendEntry from leader 1 prevLogIndex 362
current commitIndex 362 lastIncludedIndex 359 snapshot exists ? true
update server 2 's matchIndex from 362 to 362
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 362
current commitIndex 362 lastIncludedIndex 359 snapshot exists ? true
update server 0 's matchIndex from 362 to 362
server 2 receives appendEntry from leader 1 prevLogIndex 362
current commitIndex 362 lastIncludedIndex 359 snapshot exists ? true
update server 2 's matchIndex from 362 to 362
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 362
current commitIndex 362 lastIncludedIndex 359 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 362
current commitIndex 362 lastIncludedIndex 359 snapshot exists ? true
update server 0 's matchIndex from 362 to 362
server 0 term 60 state 0(leader false)(heartFlag true)
server 2 term 60 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 362
current commitIndex 362 lastIncludedIndex 359 snapshot exists ? true
update server 2 's matchIndex from 362 to 362
server 0 receives appendEntry from leader 1 prevLogIndex 362
current commitIndex 362 lastIncludedIndex 359 snapshot exists ? true
server 1 term 60 state 2(leader true)(heartFlag false)
nextIndex
363 || 363 || 363 || 
matchIndex
362 || 362 || 362 || 
  ... Passed --  80.5  3 1830  684934  362
server 0 no snopshot yet
server 0 term 0 state 0(leader false)(heartFlag false)
server 0 term 0 doesn't hear any heartbeat
server 0 convert to candidate
server 1 no snopshot yet
server 1 term 0 state 0(leader false)(heartFlag false)
server 1 term 0 doesn't hear any heartbeat
server 2 no snopshot yet
server 1 convert to candidate
server 2 term 0 state 0(leader false)(heartFlag false)
server 2 term 0 doesn't hear any heartbeat
server 2 convert to candidate
Test (2D): crash and restart all servers ...
server 0 already has a voteFor 0 but not candidate 1
server 0 grant false for candidate 1's requestVote
server 2 already has a voteFor 2 but not candidate 1
server 2 grant false for candidate 1's requestVote
server 1 already has a voteFor 1 but not candidate 2
server 1 grant false for candidate 2's requestVote
server 0 already has a voteFor 0 but not candidate 2
server 0 grant false for candidate 2's requestVote
server 1 term 1 ElectionTimeOut
server 1 convert to candidate
server 2 convert to follower
server 0 convert to follower
server 0 grant true for candidate 1's requestVote
server 2 grant true for candidate 1's requestVote
server 1 convert to leader
server 1 term 2 send appendEntries
server 0 receives appendEntry from leader 1 prevLogIndex 0
current commitIndex 0 lastIncludedIndex 0 snapshot exists ? false
server 2 receives appendEntry from leader 1 prevLogIndex 0
current commitIndex 0 lastIncludedIndex 0 snapshot exists ? false
update server 0 's matchIndex from 0 to 0
update server 2 's matchIndex from 0 to 0
append command 4168310224692450991
len(log) = 1
server 2 receives appendEntry from leader 1 prevLogIndex 0
current commitIndex 0 lastIncludedIndex 0 snapshot exists ? false
server 0 receives appendEntry from leader 1 prevLogIndex 0
current commitIndex 0 lastIncludedIndex 0 snapshot exists ? false
update server 2 's matchIndex from 0 to 1
update server 0 's matchIndex from 0 to 1
getEntryTerm
leader server 1 commit index 1 command 4168310224692450991
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 1
getEntryTerm
current commitIndex 0 lastIncludedIndex 0 snapshot exists ? false
server 0 receives appendEntry from leader 1 prevLogIndex 1
getEntryTerm
follower server 2 commit index 1 command 4168310224692450991 
current commitIndex 0 lastIncludedIndex 0 snapshot exists ? false
follower server 0 commit index 1 command 4168310224692450991 
update server 2 's matchIndex from 1 to 1
update server 0 's matchIndex from 1 to 1
append command 2913588369909370905
len(log) = 2
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 1
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
server 0 receives appendEntry from leader 1 prevLogIndex 1
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
update server 2 's matchIndex from 1 to 2
update server 0 's matchIndex from 1 to 2
getEntryTerm
leader server 1 commit index 2 command 2913588369909370905
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 2
getEntryTerm
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
server 0 receives appendEntry from leader 1 prevLogIndex 2
getEntryTerm
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
follower server 0 commit index 2 command 2913588369909370905 
follower server 2 commit index 2 command 2913588369909370905 
update server 0 's matchIndex from 2 to 2
update server 2 's matchIndex from 2 to 2
append command 8970728121480188160
len(log) = 3
server 0 term 2 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 2
current commitIndex 2 lastIncludedIndex 0 snapshot exists ? false
server 0 receives appendEntry from leader 1 prevLogIndex 2
current commitIndex 2 lastIncludedIndex 0 snapshot exists ? false
update server 2 's matchIndex from 2 to 3
update server 0 's matchIndex from 2 to 3
getEntryTerm
leader server 1 commit index 3 command 8970728121480188160
server 2 term 2 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 3
getEntryTerm
current commitIndex 2 lastIncludedIndex 0 snapshot exists ? false
follower server 0 commit index 3 command 8970728121480188160 
server 2 receives appendEntry from leader 1 prevLogIndex 3
getEntryTerm
current commitIndex 2 lastIncludedIndex 0 snapshot exists ? false
follower server 2 commit index 3 command 8970728121480188160 
update server 0 's matchIndex from 3 to 3
update server 2 's matchIndex from 3 to 3
append command 6708067886058956072
len(log) = 4
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 3
current commitIndex 3 lastIncludedIndex 0 snapshot exists ? false
server 2 receives appendEntry from leader 1 prevLogIndex 3
current commitIndex 3 lastIncludedIndex 0 snapshot exists ? false
update server 0 's matchIndex from 3 to 4
update server 2 's matchIndex from 3 to 4
getEntryTerm
leader server 1 commit index 4 command 6708067886058956072
server 1 term 2 state 2(leader true)(heartFlag false)
nextIndex
5 || 5 || 5 || 
matchIndex
4 || 4 || 4 || 
server 0 term 2 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 4
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 4
getEntryTerm
current commitIndex 3 lastIncludedIndex 0 snapshot exists ? false
current commitIndex 3 lastIncludedIndex 0 snapshot exists ? false
follower server 0 commit index 4 command 6708067886058956072 
follower server 2 commit index 4 command 6708067886058956072 
update server 0 's matchIndex from 4 to 4
update server 2 's matchIndex from 4 to 4
append command 2355903760562038905
len(log) = 5
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 4
server 0 receives appendEntry from leader 1 prevLogIndex 4
current commitIndex 4 lastIncludedIndex 0 snapshot exists ? false
current commitIndex 4 lastIncludedIndex 0 snapshot exists ? false
update server 0 's matchIndex from 4 to 5
update server 2 's matchIndex from 4 to 5
server 2 term 2 state 0(leader false)(heartFlag true)
getEntryTerm
leader server 1 commit index 5 command 2355903760562038905
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 5
getEntryTerm
current commitIndex 4 lastIncludedIndex 0 snapshot exists ? false
server 0 receives appendEntry from leader 1 prevLogIndex 5
getEntryTerm
current commitIndex 4 lastIncludedIndex 0 snapshot exists ? false
follower server 0 commit index 5 command 2355903760562038905 
follower server 2 commit index 5 command 2355903760562038905 
update server 2 's matchIndex from 5 to 5
update server 0 's matchIndex from 5 to 5
append command 4301120871496659205
len(log) = 6
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 5
current commitIndex 5 lastIncludedIndex 0 snapshot exists ? false
server 0 receives appendEntry from leader 1 prevLogIndex 5
current commitIndex 5 lastIncludedIndex 0 snapshot exists ? false
update server 2 's matchIndex from 5 to 6
update server 0 's matchIndex from 5 to 6
getEntryTerm
leader server 1 commit index 6 command 4301120871496659205
server 0 term 2 state 0(leader false)(heartFlag true)
server 1 term 2 state 2(leader true)(heartFlag false)
nextIndex
7 || 7 || 7 || 
matchIndex
6 || 6 || 6 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 6
getEntryTerm
current commitIndex 5 lastIncludedIndex 0 snapshot exists ? false
server 0 receives appendEntry from leader 1 prevLogIndex 6
getEntryTerm
current commitIndex 5 lastIncludedIndex 0 snapshot exists ? false
follower server 0 commit index 6 command 4301120871496659205 
follower server 2 commit index 6 command 4301120871496659205 
update server 0 's matchIndex from 6 to 6
update server 2 's matchIndex from 6 to 6
append command 4710484099009094073
len(log) = 7
server 2 term 2 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 6
current commitIndex 6 lastIncludedIndex 0 snapshot exists ? false
server 0 receives appendEntry from leader 1 prevLogIndex 6
current commitIndex 6 lastIncludedIndex 0 snapshot exists ? false
update server 0 's matchIndex from 6 to 7
update server 2 's matchIndex from 6 to 7
getEntryTerm
leader server 1 commit index 7 command 4710484099009094073
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 7
getEntryTerm
current commitIndex 6 lastIncludedIndex 0 snapshot exists ? false
follower server 2 commit index 7 command 4710484099009094073 
server 0 receives appendEntry from leader 1 prevLogIndex 7
getEntryTerm
current commitIndex 6 lastIncludedIndex 0 snapshot exists ? false
follower server 0 commit index 7 command 4710484099009094073 
update server 2 's matchIndex from 7 to 7
update server 0 's matchIndex from 7 to 7
server 1 term 2 state 2(leader true)(heartFlag false)
nextIndex
8 || 8 || 8 || 
matchIndex
7 || 7 || 7 || 
append command 1184234868944600855
len(log) = 8
server 0 term 2 state 0(leader false)(heartFlag true)
server 2 term 2 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 7
current commitIndex 7 lastIncludedIndex 0 snapshot exists ? false
server 2 receives appendEntry from leader 1 prevLogIndex 7
current commitIndex 7 lastIncludedIndex 0 snapshot exists ? false
update server 0 's matchIndex from 7 to 8
update server 2 's matchIndex from 7 to 8
getEntryTerm
leader server 1 commit index 8 command 1184234868944600855
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 8
getEntryTerm
current commitIndex 7 lastIncludedIndex 0 snapshot exists ? false
follower server 2 commit index 8 command 1184234868944600855 
server 0 receives appendEntry from leader 1 prevLogIndex 8
getEntryTerm
current commitIndex 7 lastIncludedIndex 0 snapshot exists ? false
update server 2 's matchIndex from 8 to 8
follower server 0 commit index 8 command 1184234868944600855 
update server 0 's matchIndex from 8 to 8
append command 4415048373803611890
len(log) = 9
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 8
current commitIndex 8 lastIncludedIndex 0 snapshot exists ? false
server 0 receives appendEntry from leader 1 prevLogIndex 8
current commitIndex 8 lastIncludedIndex 0 snapshot exists ? false
update server 2 's matchIndex from 8 to 9
update server 0 's matchIndex from 8 to 9
getEntryTerm
leader server 1 commit index 9 command 4415048373803611890
server 1 takes snopshot and discards logs before index 9
getEntryTerm
discard index before 9(included)
server 1 finished snopshot
server 2 receives appendEntry from leader 1 prevLogIndex 9
getEntryTerm
current commitIndex 8 lastIncludedIndex 0 snapshot exists ? false
follower server 2 commit index 9 command 4415048373803611890 
server 0 receives appendEntry from leader 1 prevLogIndex 9
getEntryTerm
server 2 takes snopshot and discards logs before index 9
getEntryTerm
discard index before 9(included)
current commitIndex 8 lastIncludedIndex 0 snapshot exists ? false
follower server 0 commit index 9 command 4415048373803611890 
update server 2 's matchIndex from 9 to 9
server 2 finished snopshot
update server 0 's matchIndex from 9 to 9
server 0 takes snopshot and discards logs before index 9
getEntryTerm
discard index before 9(included)
server 0 finished snopshot
append command 8167579414121811255
len(log) = 10
server 2 term 2 state 0(leader false)(heartFlag true)
server 1 term 2 state 2(leader true)(heartFlag false)
nextIndex
10 || 11 || 10 || 
matchIndex
9 || 10 || 9 || 
server 0 term 2 state 0(leader false)(heartFlag true)
server 0 receives appendEntry from leader 1 prevLogIndex 9
current commitIndex 9 lastIncludedIndex 9 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 9
current commitIndex 9 lastIncludedIndex 9 snapshot exists ? true
update server 0 's matchIndex from 9 to 10
update server 2 's matchIndex from 9 to 10
getEntryTerm
leader server 1 commit index 10 command 8167579414121811255
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 10
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 10
getEntryTerm
current commitIndex 9 lastIncludedIndex 9 snapshot exists ? true
current commitIndex 9 lastIncludedIndex 9 snapshot exists ? true
follower server 0 commit index 10 command 8167579414121811255 
follower server 2 commit index 10 command 8167579414121811255 
update server 2 's matchIndex from 10 to 10
update server 0 's matchIndex from 10 to 10
append command 8296355886147705942
len(log) = 11
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 10
current commitIndex 10 lastIncludedIndex 9 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 10
current commitIndex 10 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 10 to 11
update server 0 's matchIndex from 10 to 11
getEntryTerm
leader server 1 commit index 11 command 8296355886147705942
server 2 term 2 state 0(leader false)(heartFlag true)
server 1 term 2 state 2(leader true)(heartFlag false)
nextIndex
12 || 12 || 12 || 
matchIndex
11 || 11 || 11 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 11
getEntryTerm
current commitIndex 10 lastIncludedIndex 9 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 11
getEntryTerm
current commitIndex 10 lastIncludedIndex 9 snapshot exists ? true
follower server 0 commit index 11 command 8296355886147705942 
update server 0 's matchIndex from 11 to 11
follower server 2 commit index 11 command 8296355886147705942 
update server 2 's matchIndex from 11 to 11
append command 7459659446804191438
len(log) = 12
server 0 term 2 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 11
current commitIndex 11 lastIncludedIndex 9 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 11
current commitIndex 11 lastIncludedIndex 9 snapshot exists ? true
update server 0 's matchIndex from 11 to 12
update server 2 's matchIndex from 11 to 12
getEntryTerm
leader server 1 commit index 12 command 7459659446804191438
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 12
getEntryTerm
current commitIndex 11 lastIncludedIndex 9 snapshot exists ? true
follower server 2 commit index 12 command 7459659446804191438 
server 0 receives appendEntry from leader 1 prevLogIndex 12
getEntryTerm
current commitIndex 11 lastIncludedIndex 9 snapshot exists ? true
follower server 0 commit index 12 command 7459659446804191438 
update server 2 's matchIndex from 12 to 12
update server 0 's matchIndex from 12 to 12
append command 9127873599510279294
len(log) = 13
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 12
current commitIndex 12 lastIncludedIndex 9 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 12
current commitIndex 12 lastIncludedIndex 9 snapshot exists ? true
update server 0 's matchIndex from 12 to 13
update server 2 's matchIndex from 12 to 13
getEntryTerm
leader server 1 commit index 13 command 9127873599510279294
server 2 term 2 state 0(leader false)(heartFlag true)
server 1 term 2 state 2(leader true)(heartFlag false)
nextIndex
14 || 14 || 14 || 
matchIndex
13 || 13 || 13 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 1 prevLogIndex 13
getEntryTerm
current commitIndex 12 lastIncludedIndex 9 snapshot exists ? true
server 0 receives appendEntry from leader 1 prevLogIndex 13
getEntryTerm
current commitIndex 12 lastIncludedIndex 9 snapshot exists ? true
follower server 2 commit index 13 command 9127873599510279294 
follower server 0 commit index 13 command 9127873599510279294 
update server 0 's matchIndex from 13 to 13
update server 2 's matchIndex from 13 to 13
server 0 term 2 state 0(leader false)(heartFlag true)
append command 6903333653971521822
len(log) = 14
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 13
current commitIndex 13 lastIncludedIndex 9 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 13
current commitIndex 13 lastIncludedIndex 9 snapshot exists ? true
update server 0 's matchIndex from 13 to 14
update server 2 's matchIndex from 13 to 14
getEntryTerm
leader server 1 commit index 14 command 6903333653971521822
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 1 prevLogIndex 14
getEntryTerm
current commitIndex 13 lastIncludedIndex 9 snapshot exists ? true
server 2 receives appendEntry from leader 1 prevLogIndex 14
getEntryTerm
follower server 0 commit index 14 command 6903333653971521822 
current commitIndex 13 lastIncludedIndex 9 snapshot exists ? true
follower server 2 commit index 14 command 6903333653971521822 
update server 0 's matchIndex from 14 to 14
update server 2 's matchIndex from 14 to 14
server 0 read form stored snapshot
server 0 recover from snopshot
server 0 finishes recovery
server 0 term 2 state 0(leader false)(heartFlag false)
server 0 term 2 doesn't hear any heartbeat
server 0 convert to candidate
getEntryTerm
getEntryTerm
server 1 read form stored snapshot
server 1 recover from snopshot
server 1 finishes recovery
server 1 term 2 state 0(leader false)(heartFlag false)
server 1 term 2 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 2 read form stored snapshot
server 2 recover from snopshot
server 2 finishes recovery
server 2 term 2 state 0(leader false)(heartFlag false)
server 2 term 2 doesn't hear any heartbeat
server 2 convert to candidate
getEntryTerm
server 0 already has a voteFor 0 but not candidate 1
server 0 grant false for candidate 1's requestVote
getEntryTerm
getEntryTerm
getEntryTerm
server 1 already has a voteFor 1 but not candidate 2
server 1 grant false for candidate 2's requestVote
getEntryTerm
server 0 already has a voteFor 0 but not candidate 2
server 0 grant false for candidate 2's requestVote
server 2 term 3 ElectionTimeOut
server 2 convert to candidate
getEntryTerm
getEntryTerm
server 1 convert to follower
server 0 convert to follower
getEntryTerm
server 1 grant true for candidate 2's requestVote
getEntryTerm
server 0 grant true for candidate 2's requestVote
server 2 convert to leader
server 2 term 4 send appendEntries
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 14
getEntryTerm
current commitIndex 9 lastIncludedIndex 9 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 14
getEntryTerm
current commitIndex 9 lastIncludedIndex 9 snapshot exists ? true
update server 1 's matchIndex from 0 to 14
update server 0 's matchIndex from 0 to 14
getEntryTerm
getEntryTerm
getEntryTerm
append command 6622104820478892652
len(log) = 15
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 14
getEntryTerm
current commitIndex 9 lastIncludedIndex 9 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 14
getEntryTerm
current commitIndex 9 lastIncludedIndex 9 snapshot exists ? true
update server 1 's matchIndex from 14 to 15
update server 0 's matchIndex from 14 to 15
getEntryTerm
leader server 2 commit index 10 command 8167579414121811255
leader server 2 commit index 11 command 8296355886147705942
leader server 2 commit index 12 command 7459659446804191438
leader server 2 commit index 13 command 9127873599510279294
leader server 2 commit index 14 command 6903333653971521822
leader server 2 commit index 15 command 6622104820478892652
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 15
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 15
getEntryTerm
current commitIndex 9 lastIncludedIndex 9 snapshot exists ? true
follower server 0 commit index 10 command 8167579414121811255 
follower server 0 commit index 11 command 8296355886147705942 
current commitIndex 9 lastIncludedIndex 9 snapshot exists ? true
follower server 1 commit index 10 command 8167579414121811255 
follower server 1 commit index 11 command 8296355886147705942 
follower server 1 commit index 12 command 7459659446804191438 
follower server 1 commit index 13 command 9127873599510279294 
follower server 0 commit index 12 command 7459659446804191438 
follower server 0 commit index 13 command 9127873599510279294 
follower server 1 commit index 14 command 6903333653971521822 
follower server 1 commit index 15 command 6622104820478892652 
follower server 0 commit index 14 command 6903333653971521822 
follower server 0 commit index 15 command 6622104820478892652 
update server 1 's matchIndex from 15 to 15
update server 0 's matchIndex from 15 to 15
append command 9193470162757890977
len(log) = 16
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 15
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
update server 1 's matchIndex from 15 to 16
update server 0 's matchIndex from 15 to 16
getEntryTerm
leader server 2 commit index 16 command 9193470162757890977
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 16
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 16
getEntryTerm
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
follower server 0 commit index 16 command 9193470162757890977 
current commitIndex 15 lastIncludedIndex 9 snapshot exists ? true
follower server 1 commit index 16 command 9193470162757890977 
update server 0 's matchIndex from 16 to 16
update server 1 's matchIndex from 16 to 16
append command 7838223847443881651
len(log) = 17
server 1 term 4 state 0(leader false)(heartFlag true)
server 0 term 4 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 16
current commitIndex 16 lastIncludedIndex 9 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 16
current commitIndex 16 lastIncludedIndex 9 snapshot exists ? true
update server 1 's matchIndex from 16 to 17
update server 0 's matchIndex from 16 to 17
getEntryTerm
leader server 2 commit index 17 command 7838223847443881651
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 17
getEntryTerm
current commitIndex 16 lastIncludedIndex 9 snapshot exists ? true
follower server 1 commit index 17 command 7838223847443881651 
server 0 receives appendEntry from leader 2 prevLogIndex 17
getEntryTerm
current commitIndex 16 lastIncludedIndex 9 snapshot exists ? true
update server 1 's matchIndex from 17 to 17
follower server 0 commit index 17 command 7838223847443881651 
update server 0 's matchIndex from 17 to 17
append command 8168874062378264973
len(log) = 18
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 17
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 17
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
update server 1 's matchIndex from 17 to 18
update server 0 's matchIndex from 17 to 18
getEntryTerm
leader server 2 commit index 18 command 8168874062378264973
server 2 term 4 state 2(leader true)(heartFlag false)
nextIndex
19 || 19 || 19 || 
matchIndex
18 || 18 || 18 || 
server 1 term 4 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 18
getEntryTerm
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 18
getEntryTerm
follower server 0 commit index 18 command 8168874062378264973 
current commitIndex 17 lastIncludedIndex 9 snapshot exists ? true
follower server 1 commit index 18 command 8168874062378264973 
update server 0 's matchIndex from 18 to 18
update server 1 's matchIndex from 18 to 18
append command 4753231206421930208
len(log) = 19
server 0 term 4 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 18
current commitIndex 18 lastIncludedIndex 9 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 18
current commitIndex 18 lastIncludedIndex 9 snapshot exists ? true
update server 1 's matchIndex from 18 to 19
update server 0 's matchIndex from 18 to 19
getEntryTerm
leader server 2 commit index 19 command 4753231206421930208
server 2 takes snopshot and discards logs before index 19
getEntryTerm
discard index before 19(included)
server 2 finished snopshot
server 0 receives appendEntry from leader 2 prevLogIndex 19
getEntryTerm
current commitIndex 18 lastIncludedIndex 9 snapshot exists ? true
follower server 0 commit index 19 command 4753231206421930208 
server 1 receives appendEntry from leader 2 prevLogIndex 19
getEntryTerm
current commitIndex 18 lastIncludedIndex 9 snapshot exists ? true
server 0 takes snopshot and discards logs before index 19
getEntryTerm
discard index before 19(included)
follower server 1 commit index 19 command 4753231206421930208 
server 0 finished snopshot
update server 0 's matchIndex from 19 to 19
server 1 takes snopshot and discards logs before index 19
getEntryTerm
discard index before 19(included)
update server 1 's matchIndex from 19 to 19
server 1 finished snopshot
append command 631379766909598950
len(log) = 20
server 2 term 4 state 2(leader true)(heartFlag false)
nextIndex
20 || 20 || 21 || 
matchIndex
19 || 19 || 20 || 
server 1 receives appendEntry from leader 2 prevLogIndex 19
current commitIndex 19 lastIncludedIndex 19 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 19
current commitIndex 19 lastIncludedIndex 19 snapshot exists ? true
update server 1 's matchIndex from 19 to 20
update server 0 's matchIndex from 19 to 20
getEntryTerm
leader server 2 commit index 20 command 631379766909598950
server 1 term 4 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 20
getEntryTerm
current commitIndex 19 lastIncludedIndex 19 snapshot exists ? true
follower server 1 commit index 20 command 631379766909598950 
server 0 receives appendEntry from leader 2 prevLogIndex 20
getEntryTerm
current commitIndex 19 lastIncludedIndex 19 snapshot exists ? true
follower server 0 commit index 20 command 631379766909598950 
update server 1 's matchIndex from 20 to 20
update server 0 's matchIndex from 20 to 20
append command 4535378583019025011
len(log) = 21
server 0 term 4 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 20
current commitIndex 20 lastIncludedIndex 19 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 20
current commitIndex 20 lastIncludedIndex 19 snapshot exists ? true
update server 1 's matchIndex from 20 to 21
update server 0 's matchIndex from 20 to 21
getEntryTerm
leader server 2 commit index 21 command 4535378583019025011
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 21
getEntryTerm
current commitIndex 20 lastIncludedIndex 19 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 21
getEntryTerm
current commitIndex 20 lastIncludedIndex 19 snapshot exists ? true
follower server 0 commit index 21 command 4535378583019025011 
follower server 1 commit index 21 command 4535378583019025011 
update server 0 's matchIndex from 21 to 21
update server 1 's matchIndex from 21 to 21
append command 1331167410286929217
len(log) = 22
server 2 term 4 state 2(leader true)(heartFlag false)
nextIndex
22 || 22 || 22 || 
matchIndex
21 || 21 || 21 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 21
server 0 receives appendEntry from leader 2 prevLogIndex 21
current commitIndex 21 lastIncludedIndex 19 snapshot exists ? true
current commitIndex 21 lastIncludedIndex 19 snapshot exists ? true
update server 0 's matchIndex from 21 to 22
update server 1 's matchIndex from 21 to 22
getEntryTerm
leader server 2 commit index 22 command 1331167410286929217
server 1 term 4 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 22
getEntryTerm
current commitIndex 21 lastIncludedIndex 19 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 22
getEntryTerm
current commitIndex 21 lastIncludedIndex 19 snapshot exists ? true
follower server 1 commit index 22 command 1331167410286929217 
follower server 0 commit index 22 command 1331167410286929217 
update server 1 's matchIndex from 22 to 22
update server 0 's matchIndex from 22 to 22
append command 744058409994681105
len(log) = 23
server 0 term 4 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 22
current commitIndex 22 lastIncludedIndex 19 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 22
current commitIndex 22 lastIncludedIndex 19 snapshot exists ? true
update server 1 's matchIndex from 22 to 23
update server 0 's matchIndex from 22 to 23
getEntryTerm
leader server 2 commit index 23 command 744058409994681105
server 2 term 4 state 2(leader true)(heartFlag false)
nextIndex
24 || 24 || 24 || 
matchIndex
23 || 23 || 23 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 23
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 23
getEntryTerm
current commitIndex 22 lastIncludedIndex 19 snapshot exists ? true
current commitIndex 22 lastIncludedIndex 19 snapshot exists ? true
follower server 1 commit index 23 command 744058409994681105 
follower server 0 commit index 23 command 744058409994681105 
update server 1 's matchIndex from 23 to 23
update server 0 's matchIndex from 23 to 23
append command 4527307581424528403
len(log) = 24
server 1 term 4 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 23
current commitIndex 23 lastIncludedIndex 19 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 23
current commitIndex 23 lastIncludedIndex 19 snapshot exists ? true
update server 1 's matchIndex from 23 to 24
update server 0 's matchIndex from 23 to 24
getEntryTerm
leader server 2 commit index 24 command 4527307581424528403
server 0 term 4 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 24
getEntryTerm
current commitIndex 23 lastIncludedIndex 19 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 24
follower server 1 commit index 24 command 4527307581424528403 
getEntryTerm
current commitIndex 23 lastIncludedIndex 19 snapshot exists ? true
follower server 0 commit index 24 command 4527307581424528403 
update server 1 's matchIndex from 24 to 24
update server 0 's matchIndex from 24 to 24
append command 200553054080718070
len(log) = 25
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 24
current commitIndex 24 lastIncludedIndex 19 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 24
current commitIndex 24 lastIncludedIndex 19 snapshot exists ? true
update server 1 's matchIndex from 24 to 25
update server 0 's matchIndex from 24 to 25
getEntryTerm
leader server 2 commit index 25 command 200553054080718070
server 1 term 4 state 0(leader false)(heartFlag true)
server 2 term 4 state 2(leader true)(heartFlag false)
nextIndex
26 || 26 || 26 || 
matchIndex
25 || 25 || 25 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 25
getEntryTerm
current commitIndex 24 lastIncludedIndex 19 snapshot exists ? true
follower server 1 commit index 25 command 200553054080718070 
server 0 receives appendEntry from leader 2 prevLogIndex 25
getEntryTerm
current commitIndex 24 lastIncludedIndex 19 snapshot exists ? true
follower server 0 commit index 25 command 200553054080718070 
update server 1 's matchIndex from 25 to 25
update server 0 's matchIndex from 25 to 25
append command 3670874820636146635
len(log) = 26
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 25
current commitIndex 25 lastIncludedIndex 19 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 25
current commitIndex 25 lastIncludedIndex 19 snapshot exists ? true
update server 1 's matchIndex from 25 to 26
update server 0 's matchIndex from 25 to 26
getEntryTerm
leader server 2 commit index 26 command 3670874820636146635
server 0 term 4 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 26
getEntryTerm
current commitIndex 25 lastIncludedIndex 19 snapshot exists ? true
follower server 1 commit index 26 command 3670874820636146635 
server 0 receives appendEntry from leader 2 prevLogIndex 26
getEntryTerm
current commitIndex 25 lastIncludedIndex 19 snapshot exists ? true
update server 1 's matchIndex from 26 to 26
follower server 0 commit index 26 command 3670874820636146635 
update server 0 's matchIndex from 26 to 26
server 0 read form stored snapshot
server 0 recover from snopshot
server 0 finishes recovery
server 0 term 4 state 0(leader false)(heartFlag false)
server 0 term 4 doesn't hear any heartbeat
server 0 convert to candidate
getEntryTerm
getEntryTerm
server 1 read form stored snapshot
server 1 recover from snopshot
server 1 finishes recovery
server 1 term 4 state 0(leader false)(heartFlag false)
server 1 term 4 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 2 read form stored snapshot
server 2 recover from snopshot
server 2 finishes recovery
server 2 term 4 state 0(leader false)(heartFlag false)
server 2 term 4 doesn't hear any heartbeat
server 2 convert to candidate
getEntryTerm
server 0 already has a voteFor 0 but not candidate 1
server 0 grant false for candidate 1's requestVote
getEntryTerm
getEntryTerm
getEntryTerm
server 1 already has a voteFor 1 but not candidate 2
server 1 grant false for candidate 2's requestVote
getEntryTerm
server 0 already has a voteFor 0 but not candidate 2
server 0 grant false for candidate 2's requestVote
server 0 term 5 ElectionTimeOut
server 0 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
server 1 convert to follower
getEntryTerm
getEntryTerm
server 2 grant true for candidate 0's requestVote
server 1 grant true for candidate 0's requestVote
server 0 convert to leader
server 0 term 6 send appendEntries
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 26
getEntryTerm
current commitIndex 19 lastIncludedIndex 19 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 26
getEntryTerm
current commitIndex 19 lastIncludedIndex 19 snapshot exists ? true
update server 2 's matchIndex from 0 to 26
update server 1 's matchIndex from 0 to 26
getEntryTerm
getEntryTerm
getEntryTerm
append command 8229248601460550283
len(log) = 27
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 26
getEntryTerm
current commitIndex 19 lastIncludedIndex 19 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 26
getEntryTerm
current commitIndex 19 lastIncludedIndex 19 snapshot exists ? true
update server 2 's matchIndex from 26 to 27
update server 1 's matchIndex from 26 to 27
getEntryTerm
leader server 0 commit index 20 command 631379766909598950
leader server 0 commit index 21 command 4535378583019025011
leader server 0 commit index 22 command 1331167410286929217
leader server 0 commit index 23 command 744058409994681105
leader server 0 commit index 24 command 4527307581424528403
leader server 0 commit index 25 command 200553054080718070
leader server 0 commit index 26 command 3670874820636146635
leader server 0 commit index 27 command 8229248601460550283
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 27
getEntryTerm
current commitIndex 19 lastIncludedIndex 19 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 27
getEntryTerm
follower server 1 commit index 20 command 631379766909598950 
follower server 1 commit index 21 command 4535378583019025011 
current commitIndex 19 lastIncludedIndex 19 snapshot exists ? true
follower server 2 commit index 20 command 631379766909598950 
follower server 2 commit index 21 command 4535378583019025011 
follower server 2 commit index 22 command 1331167410286929217 
follower server 2 commit index 23 command 744058409994681105 
follower server 2 commit index 24 command 4527307581424528403 
follower server 2 commit index 25 command 200553054080718070 
follower server 2 commit index 26 command 3670874820636146635 
follower server 2 commit index 27 command 8229248601460550283 
follower server 1 commit index 22 command 1331167410286929217 
follower server 1 commit index 23 command 744058409994681105 
follower server 1 commit index 24 command 4527307581424528403 
follower server 1 commit index 25 command 200553054080718070 
follower server 1 commit index 26 command 3670874820636146635 
follower server 1 commit index 27 command 8229248601460550283 
update server 2 's matchIndex from 27 to 27
update server 1 's matchIndex from 27 to 27
append command 8298813163355458640
len(log) = 28
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 27
current commitIndex 27 lastIncludedIndex 19 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 27
current commitIndex 27 lastIncludedIndex 19 snapshot exists ? true
update server 2 's matchIndex from 27 to 28
update server 1 's matchIndex from 27 to 28
getEntryTerm
leader server 0 commit index 28 command 8298813163355458640
server 2 term 6 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 28
getEntryTerm
current commitIndex 27 lastIncludedIndex 19 snapshot exists ? true
follower server 2 commit index 28 command 8298813163355458640 
server 1 receives appendEntry from leader 0 prevLogIndex 28
getEntryTerm
current commitIndex 27 lastIncludedIndex 19 snapshot exists ? true
update server 2 's matchIndex from 28 to 28
follower server 1 commit index 28 command 8298813163355458640 
update server 1 's matchIndex from 28 to 28
append command 7893173548028042277
len(log) = 29
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 28
current commitIndex 28 lastIncludedIndex 19 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 28
current commitIndex 28 lastIncludedIndex 19 snapshot exists ? true
update server 2 's matchIndex from 28 to 29
update server 1 's matchIndex from 28 to 29
getEntryTerm
leader server 0 commit index 29 command 7893173548028042277
server 0 takes snopshot and discards logs before index 29
getEntryTerm
discard index before 29(included)
server 0 finished snopshot
server 1 term 6 state 0(leader false)(heartFlag true)
server 2 receives appendEntry from leader 0 prevLogIndex 29
getEntryTerm
current commitIndex 28 lastIncludedIndex 19 snapshot exists ? true
follower server 2 commit index 29 command 7893173548028042277 
server 1 receives appendEntry from leader 0 prevLogIndex 29
getEntryTerm
current commitIndex 28 lastIncludedIndex 19 snapshot exists ? true
update server 2 's matchIndex from 29 to 29
server 2 takes snopshot and discards logs before index 29
getEntryTerm
discard index before 29(included)
server 2 finished snopshot
follower server 1 commit index 29 command 7893173548028042277 
update server 1 's matchIndex from 29 to 29
server 1 takes snopshot and discards logs before index 29
getEntryTerm
discard index before 29(included)
server 1 finished snopshot
append command 7395582563390661689
len(log) = 30
server 0 term 6 state 2(leader true)(heartFlag false)
nextIndex
31 || 30 || 30 || 
matchIndex
30 || 29 || 29 || 
server 2 receives appendEntry from leader 0 prevLogIndex 29
current commitIndex 29 lastIncludedIndex 29 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 29
current commitIndex 29 lastIncludedIndex 29 snapshot exists ? true
update server 2 's matchIndex from 29 to 30
update server 1 's matchIndex from 29 to 30
getEntryTerm
leader server 0 commit index 30 command 7395582563390661689
server 2 term 6 state 0(leader false)(heartFlag true)
server 1 term 6 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 30
getEntryTerm
current commitIndex 29 lastIncludedIndex 29 snapshot exists ? true
follower server 2 commit index 30 command 7395582563390661689 
server 1 receives appendEntry from leader 0 prevLogIndex 30
getEntryTerm
current commitIndex 29 lastIncludedIndex 29 snapshot exists ? true
follower server 1 commit index 30 command 7395582563390661689 
update server 2 's matchIndex from 30 to 30
update server 1 's matchIndex from 30 to 30
append command 7408759051566187173
len(log) = 31
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 30
current commitIndex 30 lastIncludedIndex 29 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 30
current commitIndex 30 lastIncludedIndex 29 snapshot exists ? true
update server 2 's matchIndex from 30 to 31
update server 1 's matchIndex from 30 to 31
getEntryTerm
leader server 0 commit index 31 command 7408759051566187173
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 31
getEntryTerm
current commitIndex 30 lastIncludedIndex 29 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 31
getEntryTerm
follower server 2 commit index 31 command 7408759051566187173 
current commitIndex 30 lastIncludedIndex 29 snapshot exists ? true
follower server 1 commit index 31 command 7408759051566187173 
update server 2 's matchIndex from 31 to 31
update server 1 's matchIndex from 31 to 31
append command 1860417341827953368
len(log) = 32
server 0 term 6 state 2(leader true)(heartFlag false)
nextIndex
33 || 32 || 32 || 
matchIndex
32 || 31 || 31 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 31
current commitIndex 31 lastIncludedIndex 29 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 31
current commitIndex 31 lastIncludedIndex 29 snapshot exists ? true
update server 2 's matchIndex from 31 to 32
update server 1 's matchIndex from 31 to 32
getEntryTerm
leader server 0 commit index 32 command 1860417341827953368
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 32
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 32
getEntryTerm
current commitIndex 31 lastIncludedIndex 29 snapshot exists ? true
follower server 1 commit index 32 command 1860417341827953368 
current commitIndex 31 lastIncludedIndex 29 snapshot exists ? true
follower server 2 commit index 32 command 1860417341827953368 
update server 1 's matchIndex from 32 to 32
update server 2 's matchIndex from 32 to 32
server 2 term 6 state 0(leader false)(heartFlag true)
append command 160302484859824359
len(log) = 33
server 1 term 6 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 32
current commitIndex 32 lastIncludedIndex 29 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 32
current commitIndex 32 lastIncludedIndex 29 snapshot exists ? true
update server 1 's matchIndex from 32 to 33
update server 2 's matchIndex from 32 to 33
getEntryTerm
leader server 0 commit index 33 command 160302484859824359
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 33
getEntryTerm
current commitIndex 32 lastIncludedIndex 29 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 33
getEntryTerm
current commitIndex 32 lastIncludedIndex 29 snapshot exists ? true
follower server 1 commit index 33 command 160302484859824359 
follower server 2 commit index 33 command 160302484859824359 
update server 2 's matchIndex from 33 to 33
update server 1 's matchIndex from 33 to 33
append command 7280262547442335397
len(log) = 34
server 0 term 6 state 2(leader true)(heartFlag false)
nextIndex
35 || 34 || 34 || 
matchIndex
34 || 33 || 33 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 33
current commitIndex 33 lastIncludedIndex 29 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 33
current commitIndex 33 lastIncludedIndex 29 snapshot exists ? true
update server 1 's matchIndex from 33 to 34
update server 2 's matchIndex from 33 to 34
getEntryTerm
leader server 0 commit index 34 command 7280262547442335397
server 1 term 6 state 0(leader false)(heartFlag true)
server 2 term 6 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 34
getEntryTerm
current commitIndex 33 lastIncludedIndex 29 snapshot exists ? true
follower server 2 commit index 34 command 7280262547442335397 
server 1 receives appendEntry from leader 0 prevLogIndex 34
getEntryTerm
current commitIndex 33 lastIncludedIndex 29 snapshot exists ? true
update server 2 's matchIndex from 34 to 34
follower server 1 commit index 34 command 7280262547442335397 
update server 1 's matchIndex from 34 to 34
append command 5257490425875202246
len(log) = 35
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 34
current commitIndex 34 lastIncludedIndex 29 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 34
current commitIndex 34 lastIncludedIndex 29 snapshot exists ? true
update server 1 's matchIndex from 34 to 35
update server 2 's matchIndex from 34 to 35
getEntryTerm
leader server 0 commit index 35 command 5257490425875202246
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 35
getEntryTerm
current commitIndex 34 lastIncludedIndex 29 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 35
getEntryTerm
current commitIndex 34 lastIncludedIndex 29 snapshot exists ? true
follower server 1 commit index 35 command 5257490425875202246 
follower server 2 commit index 35 command 5257490425875202246 
update server 1 's matchIndex from 35 to 35
update server 2 's matchIndex from 35 to 35
append command 2996357247678269024
len(log) = 36
server 2 term 6 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 35
current commitIndex 35 lastIncludedIndex 29 snapshot exists ? true
server 2 receives appendEntry from leader 0 prevLogIndex 35
current commitIndex 35 lastIncludedIndex 29 snapshot exists ? true
update server 1 's matchIndex from 35 to 36
update server 2 's matchIndex from 35 to 36
getEntryTerm
leader server 0 commit index 36 command 2996357247678269024
server 0 term 6 state 2(leader true)(heartFlag false)
nextIndex
37 || 37 || 37 || 
matchIndex
36 || 36 || 36 || 
server 1 term 6 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 36
getEntryTerm
current commitIndex 35 lastIncludedIndex 29 snapshot exists ? true
follower server 1 commit index 36 command 2996357247678269024 
server 2 receives appendEntry from leader 0 prevLogIndex 36
getEntryTerm
current commitIndex 35 lastIncludedIndex 29 snapshot exists ? true
follower server 2 commit index 36 command 2996357247678269024 
update server 1 's matchIndex from 36 to 36
update server 2 's matchIndex from 36 to 36
append command 4551643680630346725
len(log) = 37
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 36
current commitIndex 36 lastIncludedIndex 29 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 36
current commitIndex 36 lastIncludedIndex 29 snapshot exists ? true
update server 2 's matchIndex from 36 to 37
update server 1 's matchIndex from 36 to 37
getEntryTerm
leader server 0 commit index 37 command 4551643680630346725
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 37
getEntryTerm
current commitIndex 36 lastIncludedIndex 29 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 37
getEntryTerm
current commitIndex 36 lastIncludedIndex 29 snapshot exists ? true
follower server 1 commit index 37 command 4551643680630346725 
follower server 2 commit index 37 command 4551643680630346725 
update server 1 's matchIndex from 37 to 37
update server 2 's matchIndex from 37 to 37
server 0 read form stored snapshot
server 0 recover from snopshot
server 0 finishes recovery
server 0 term 6 state 0(leader false)(heartFlag false)
server 0 term 6 doesn't hear any heartbeat
server 0 convert to candidate
getEntryTerm
getEntryTerm
server 1 read form stored snapshot
server 1 recover from snopshot
server 1 finishes recovery
server 1 term 6 state 0(leader false)(heartFlag false)
server 1 term 6 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 2 read form stored snapshot
server 2 recover from snopshot
server 2 finishes recovery
server 2 term 6 state 0(leader false)(heartFlag false)
server 2 term 6 doesn't hear any heartbeat
getEntryTerm
server 0 already has a voteFor 0 but not candidate 1
server 0 grant false for candidate 1's requestVote
server 2 convert to candidate
getEntryTerm
getEntryTerm
getEntryTerm
server 1 already has a voteFor 1 but not candidate 2
server 1 grant false for candidate 2's requestVote
getEntryTerm
server 0 already has a voteFor 0 but not candidate 2
server 0 grant false for candidate 2's requestVote
server 2 term 7 ElectionTimeOut
server 2 convert to candidate
getEntryTerm
getEntryTerm
server 0 convert to follower
getEntryTerm
server 1 convert to follower
server 0 grant true for candidate 2's requestVote
getEntryTerm
server 1 grant true for candidate 2's requestVote
server 2 convert to leader
server 2 term 8 send appendEntries
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 37
getEntryTerm
current commitIndex 29 lastIncludedIndex 29 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 37
getEntryTerm
current commitIndex 29 lastIncludedIndex 29 snapshot exists ? true
update server 0 's matchIndex from 0 to 37
update server 1 's matchIndex from 0 to 37
getEntryTerm
getEntryTerm
getEntryTerm
append command 4418954465761222596
len(log) = 38
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 37
getEntryTerm
current commitIndex 29 lastIncludedIndex 29 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 37
getEntryTerm
current commitIndex 29 lastIncludedIndex 29 snapshot exists ? true
update server 1 's matchIndex from 37 to 38
update server 0 's matchIndex from 37 to 38
getEntryTerm
leader server 2 commit index 30 command 7395582563390661689
leader server 2 commit index 31 command 7408759051566187173
leader server 2 commit index 32 command 1860417341827953368
leader server 2 commit index 33 command 160302484859824359
leader server 2 commit index 34 command 7280262547442335397
leader server 2 commit index 35 command 5257490425875202246
leader server 2 commit index 36 command 2996357247678269024
leader server 2 commit index 37 command 4551643680630346725
leader server 2 commit index 38 command 4418954465761222596
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 38
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 38
getEntryTerm
current commitIndex 29 lastIncludedIndex 29 snapshot exists ? true
follower server 1 commit index 30 command 7395582563390661689 
follower server 1 commit index 31 command 7408759051566187173 
follower server 1 commit index 32 command 1860417341827953368 
follower server 1 commit index 33 command 160302484859824359 
follower server 1 commit index 34 command 7280262547442335397 
follower server 1 commit index 35 command 5257490425875202246 
current commitIndex 29 lastIncludedIndex 29 snapshot exists ? true
follower server 0 commit index 30 command 7395582563390661689 
follower server 0 commit index 31 command 7408759051566187173 
follower server 1 commit index 36 command 2996357247678269024 
follower server 1 commit index 37 command 4551643680630346725 
follower server 1 commit index 38 command 4418954465761222596 
follower server 0 commit index 32 command 1860417341827953368 
follower server 0 commit index 33 command 160302484859824359 
follower server 0 commit index 34 command 7280262547442335397 
follower server 0 commit index 35 command 5257490425875202246 
follower server 0 commit index 36 command 2996357247678269024 
follower server 0 commit index 37 command 4551643680630346725 
follower server 0 commit index 38 command 4418954465761222596 
update server 1 's matchIndex from 38 to 38
update server 0 's matchIndex from 38 to 38
append command 7266714545609203564
len(log) = 39
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 38
current commitIndex 38 lastIncludedIndex 29 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 38
current commitIndex 38 lastIncludedIndex 29 snapshot exists ? true
update server 0 's matchIndex from 38 to 39
update server 1 's matchIndex from 38 to 39
getEntryTerm
leader server 2 commit index 39 command 7266714545609203564
server 2 takes snopshot and discards logs before index 39
getEntryTerm
discard index before 39(included)
server 2 finished snopshot
server 1 term 8 state 0(leader false)(heartFlag true)
server 0 term 8 state 0(leader false)(heartFlag true)
server 1 receives appendEntry from leader 2 prevLogIndex 39
getEntryTerm
current commitIndex 38 lastIncludedIndex 29 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 39
getEntryTerm
follower server 1 commit index 39 command 7266714545609203564 
current commitIndex 38 lastIncludedIndex 29 snapshot exists ? true
follower server 0 commit index 39 command 7266714545609203564 
update server 1 's matchIndex from 39 to 39
server 0 takes snopshot and discards logs before index 39
getEntryTerm
server 1 takes snopshot and discards logs before index 39
getEntryTerm
discard index before 39(included)
discard index before 39(included)
server 1 finished snopshot
server 0 finished snopshot
update server 0 's matchIndex from 39 to 39
append command 5133838153715058048
len(log) = 40
server 0 receives appendEntry from leader 2 prevLogIndex 39
current commitIndex 39 lastIncludedIndex 39 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 39
current commitIndex 39 lastIncludedIndex 39 snapshot exists ? true
update server 0 's matchIndex from 39 to 40
update server 1 's matchIndex from 39 to 40
getEntryTerm
leader server 2 commit index 40 command 5133838153715058048
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 40
getEntryTerm
current commitIndex 39 lastIncludedIndex 39 snapshot exists ? true
follower server 1 commit index 40 command 5133838153715058048 
server 0 receives appendEntry from leader 2 prevLogIndex 40
getEntryTerm
current commitIndex 39 lastIncludedIndex 39 snapshot exists ? true
follower server 0 commit index 40 command 5133838153715058048 
update server 1 's matchIndex from 40 to 40
update server 0 's matchIndex from 40 to 40
append command 6607359158234571310
len(log) = 41
server 0 term 8 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 40
current commitIndex 40 lastIncludedIndex 39 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 40
current commitIndex 40 lastIncludedIndex 39 snapshot exists ? true
update server 1 's matchIndex from 40 to 41
update server 0 's matchIndex from 40 to 41
getEntryTerm
leader server 2 commit index 41 command 6607359158234571310
server 2 term 8 state 2(leader true)(heartFlag false)
nextIndex
42 || 42 || 42 || 
matchIndex
41 || 41 || 41 || 
server 1 term 8 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 41
getEntryTerm
current commitIndex 40 lastIncludedIndex 39 snapshot exists ? true
follower server 0 commit index 41 command 6607359158234571310 
server 1 receives appendEntry from leader 2 prevLogIndex 41
getEntryTerm
current commitIndex 40 lastIncludedIndex 39 snapshot exists ? true
follower server 1 commit index 41 command 6607359158234571310 
update server 0 's matchIndex from 41 to 41
update server 1 's matchIndex from 41 to 41
append command 6652271090301940669
len(log) = 42
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 41
current commitIndex 41 lastIncludedIndex 39 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 41
current commitIndex 41 lastIncludedIndex 39 snapshot exists ? true
update server 0 's matchIndex from 41 to 42
update server 1 's matchIndex from 41 to 42
getEntryTerm
leader server 2 commit index 42 command 6652271090301940669
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 42
getEntryTerm
current commitIndex 41 lastIncludedIndex 39 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 42
getEntryTerm
current commitIndex 41 lastIncludedIndex 39 snapshot exists ? true
follower server 0 commit index 42 command 6652271090301940669 
follower server 1 commit index 42 command 6652271090301940669 
update server 0 's matchIndex from 42 to 42
update server 1 's matchIndex from 42 to 42
server 2 term 8 state 2(leader true)(heartFlag false)
nextIndex
43 || 43 || 43 || 
matchIndex
42 || 42 || 42 || 
append command 1379664223366808583
len(log) = 43
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 42
current commitIndex 42 lastIncludedIndex 39 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 42
current commitIndex 42 lastIncludedIndex 39 snapshot exists ? true
update server 1 's matchIndex from 42 to 43
update server 0 's matchIndex from 42 to 43
getEntryTerm
leader server 2 commit index 43 command 1379664223366808583
server 0 term 8 state 0(leader false)(heartFlag true)
server 1 term 8 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 43
getEntryTerm
current commitIndex 42 lastIncludedIndex 39 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 43
getEntryTerm
current commitIndex 42 lastIncludedIndex 39 snapshot exists ? true
follower server 0 commit index 43 command 1379664223366808583 
follower server 1 commit index 43 command 1379664223366808583 
update server 0 's matchIndex from 43 to 43
update server 1 's matchIndex from 43 to 43
append command 5391496364925634889
len(log) = 44
server 2 term 8 state 2(leader true)(heartFlag false)
nextIndex
44 || 44 || 45 || 
matchIndex
43 || 43 || 44 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 43
current commitIndex 43 lastIncludedIndex 39 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 43
current commitIndex 43 lastIncludedIndex 39 snapshot exists ? true
update server 0 's matchIndex from 43 to 44
update server 1 's matchIndex from 43 to 44
getEntryTerm
leader server 2 commit index 44 command 5391496364925634889
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 44
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 44
getEntryTerm
current commitIndex 43 lastIncludedIndex 39 snapshot exists ? true
current commitIndex 43 lastIncludedIndex 39 snapshot exists ? true
follower server 0 commit index 44 command 5391496364925634889 
follower server 1 commit index 44 command 5391496364925634889 
update server 0 's matchIndex from 44 to 44
update server 1 's matchIndex from 44 to 44
server 0 read form stored snapshot
server 0 recover from snopshot
server 0 finishes recovery
server 1 read form stored snapshot
server 1 recover from snopshot
server 1 finishes recovery
server 1 term 8 state 0(leader false)(heartFlag false)
server 1 term 8 doesn't hear any heartbeat
server 0 term 8 state 0(leader false)(heartFlag false)
server 0 term 8 doesn't hear any heartbeat
server 0 convert to candidate
getEntryTerm
getEntryTerm
server 1 convert to candidate
server 2 read form stored snapshot
server 2 recover from snopshot
server 2 finishes recovery
server 2 term 8 state 0(leader false)(heartFlag false)
server 2 term 8 doesn't hear any heartbeat
getEntryTerm
server 2 convert to candidate
getEntryTerm
getEntryTerm
server 1 already has a voteFor 1 but not candidate 0
server 1 grant false for candidate 0's requestVote
getEntryTerm
getEntryTerm
getEntryTerm
server 1 already has a voteFor 1 but not candidate 2
server 1 grant false for candidate 2's requestVote
getEntryTerm
server 2 already has a voteFor 2 but not candidate 1
server 2 grant false for candidate 1's requestVote
getEntryTerm
server 0 already has a voteFor 0 but not candidate 2
server 0 grant false for candidate 2's requestVote
getEntryTerm
server 0 already has a voteFor 0 but not candidate 1
server 0 grant false for candidate 1's requestVote
server 2 term 9 ElectionTimeOut
server 2 convert to candidate
getEntryTerm
getEntryTerm
server 1 convert to follower
server 0 convert to follower
getEntryTerm
server 1 grant true for candidate 2's requestVote
getEntryTerm
server 0 grant true for candidate 2's requestVote
server 2 convert to leader
server 2 term 10 send appendEntries
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 44
getEntryTerm
current commitIndex 39 lastIncludedIndex 39 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 44
getEntryTerm
update server 1 's matchIndex from 0 to 44
current commitIndex 39 lastIncludedIndex 39 snapshot exists ? true
update server 0 's matchIndex from 0 to 44
getEntryTerm
getEntryTerm
append command 8595567188939621096
len(log) = 45
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 44
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 44
getEntryTerm
current commitIndex 39 lastIncludedIndex 39 snapshot exists ? true
current commitIndex 39 lastIncludedIndex 39 snapshot exists ? true
update server 1 's matchIndex from 44 to 45
update server 0 's matchIndex from 44 to 45
getEntryTerm
leader server 2 commit index 40 command 5133838153715058048
leader server 2 commit index 41 command 6607359158234571310
leader server 2 commit index 42 command 6652271090301940669
leader server 2 commit index 43 command 1379664223366808583
leader server 2 commit index 44 command 5391496364925634889
leader server 2 commit index 45 command 8595567188939621096
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 45
getEntryTerm
current commitIndex 39 lastIncludedIndex 39 snapshot exists ? true
follower server 0 commit index 40 command 5133838153715058048 
follower server 0 commit index 41 command 6607359158234571310 
server 1 receives appendEntry from leader 2 prevLogIndex 45
getEntryTerm
current commitIndex 39 lastIncludedIndex 39 snapshot exists ? true
follower server 1 commit index 40 command 5133838153715058048 
follower server 1 commit index 41 command 6607359158234571310 
follower server 1 commit index 42 command 6652271090301940669 
follower server 1 commit index 43 command 1379664223366808583 
follower server 0 commit index 42 command 6652271090301940669 
follower server 0 commit index 43 command 1379664223366808583 
follower server 1 commit index 44 command 5391496364925634889 
follower server 1 commit index 45 command 8595567188939621096 
follower server 0 commit index 44 command 5391496364925634889 
follower server 0 commit index 45 command 8595567188939621096 
update server 1 's matchIndex from 45 to 45
update server 0 's matchIndex from 45 to 45
append command 7604063792509299047
len(log) = 46
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 45
current commitIndex 45 lastIncludedIndex 39 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 45
current commitIndex 45 lastIncludedIndex 39 snapshot exists ? true
update server 1 's matchIndex from 45 to 46
update server 0 's matchIndex from 45 to 46
getEntryTerm
leader server 2 commit index 46 command 7604063792509299047
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 46
getEntryTerm
current commitIndex 45 lastIncludedIndex 39 snapshot exists ? true
follower server 1 commit index 46 command 7604063792509299047 
update server 1 's matchIndex from 46 to 46
server 0 receives appendEntry from leader 2 prevLogIndex 46
getEntryTerm
current commitIndex 45 lastIncludedIndex 39 snapshot exists ? true
follower server 0 commit index 46 command 7604063792509299047 
update server 0 's matchIndex from 46 to 46
append command 1279738658755273538
len(log) = 47
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 46
current commitIndex 46 lastIncludedIndex 39 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 46
current commitIndex 46 lastIncludedIndex 39 snapshot exists ? true
update server 0 's matchIndex from 46 to 47
update server 1 's matchIndex from 46 to 47
getEntryTerm
leader server 2 commit index 47 command 1279738658755273538
server 1 term 10 state 0(leader false)(heartFlag true)
server 0 term 10 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 47
getEntryTerm
current commitIndex 46 lastIncludedIndex 39 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 47
getEntryTerm
follower server 1 commit index 47 command 1279738658755273538 
current commitIndex 46 lastIncludedIndex 39 snapshot exists ? true
follower server 0 commit index 47 command 1279738658755273538 
update server 1 's matchIndex from 47 to 47
update server 0 's matchIndex from 47 to 47
append command 3977081270995626133
len(log) = 48
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 47
current commitIndex 47 lastIncludedIndex 39 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 47
current commitIndex 47 lastIncludedIndex 39 snapshot exists ? true
update server 1 's matchIndex from 47 to 48
update server 0 's matchIndex from 47 to 48
getEntryTerm
leader server 2 commit index 48 command 3977081270995626133
server 2 term 10 state 2(leader true)(heartFlag false)
nextIndex
49 || 49 || 49 || 
matchIndex
48 || 48 || 48 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 48
getEntryTerm
current commitIndex 47 lastIncludedIndex 39 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 48
getEntryTerm
current commitIndex 47 lastIncludedIndex 39 snapshot exists ? true
follower server 0 commit index 48 command 3977081270995626133 
follower server 1 commit index 48 command 3977081270995626133 
update server 0 's matchIndex from 48 to 48
update server 1 's matchIndex from 48 to 48
append command 2584824331864990297
len(log) = 49
server 1 term 10 state 0(leader false)(heartFlag true)
server 0 term 10 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 48
current commitIndex 48 lastIncludedIndex 39 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 48
current commitIndex 48 lastIncludedIndex 39 snapshot exists ? true
update server 1 's matchIndex from 48 to 49
update server 0 's matchIndex from 48 to 49
getEntryTerm
leader server 2 commit index 49 command 2584824331864990297
server 2 takes snopshot and discards logs before index 49
getEntryTerm
discard index before 49(included)
server 2 finished snopshot
server 1 receives appendEntry from leader 2 prevLogIndex 49
getEntryTerm
current commitIndex 48 lastIncludedIndex 39 snapshot exists ? true
follower server 1 commit index 49 command 2584824331864990297 
server 0 receives appendEntry from leader 2 prevLogIndex 49
getEntryTerm
current commitIndex 48 lastIncludedIndex 39 snapshot exists ? true
server 1 takes snopshot and discards logs before index 49
follower server 0 commit index 49 command 2584824331864990297 
getEntryTerm
discard index before 49(included)
update server 1 's matchIndex from 49 to 49
server 1 finished snopshot
server 0 takes snopshot and discards logs before index 49
getEntryTerm
discard index before 49(included)
update server 0 's matchIndex from 49 to 49
server 0 finished snopshot
append command 6752707513884971074
len(log) = 50
server 0 receives appendEntry from leader 2 prevLogIndex 49
current commitIndex 49 lastIncludedIndex 49 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 49
current commitIndex 49 lastIncludedIndex 49 snapshot exists ? true
update server 0 's matchIndex from 49 to 50
update server 1 's matchIndex from 49 to 50
getEntryTerm
leader server 2 commit index 50 command 6752707513884971074
server 2 term 10 state 2(leader true)(heartFlag false)
nextIndex
51 || 51 || 51 || 
matchIndex
50 || 50 || 50 || 
getEntryTerm
getEntryTerm
server 1 term 10 state 0(leader false)(heartFlag true)
server 0 receives appendEntry from leader 2 prevLogIndex 50
getEntryTerm
current commitIndex 49 lastIncludedIndex 49 snapshot exists ? true
follower server 0 commit index 50 command 6752707513884971074 
server 1 receives appendEntry from leader 2 prevLogIndex 50
getEntryTerm
current commitIndex 49 lastIncludedIndex 49 snapshot exists ? true
follower server 1 commit index 50 command 6752707513884971074 
update server 0 's matchIndex from 50 to 50
update server 1 's matchIndex from 50 to 50
append command 4999054903254328229
len(log) = 51
server 0 term 10 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 50
current commitIndex 50 lastIncludedIndex 49 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 50
current commitIndex 50 lastIncludedIndex 49 snapshot exists ? true
update server 0 's matchIndex from 50 to 51
update server 1 's matchIndex from 50 to 51
getEntryTerm
leader server 2 commit index 51 command 4999054903254328229
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 51
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 51
getEntryTerm
current commitIndex 50 lastIncludedIndex 49 snapshot exists ? true
current commitIndex 50 lastIncludedIndex 49 snapshot exists ? true
follower server 0 commit index 51 command 4999054903254328229 
follower server 1 commit index 51 command 4999054903254328229 
update server 0 's matchIndex from 51 to 51
update server 1 's matchIndex from 51 to 51
append command 5915242034089448743
len(log) = 52
server 1 term 10 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 51
server 0 receives appendEntry from leader 2 prevLogIndex 51
current commitIndex 51 lastIncludedIndex 49 snapshot exists ? true
current commitIndex 51 lastIncludedIndex 49 snapshot exists ? true
update server 0 's matchIndex from 51 to 52
update server 1 's matchIndex from 51 to 52
getEntryTerm
leader server 2 commit index 52 command 5915242034089448743
server 0 term 10 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 52
getEntryTerm
current commitIndex 51 lastIncludedIndex 49 snapshot exists ? true
follower server 1 commit index 52 command 5915242034089448743 
server 0 receives appendEntry from leader 2 prevLogIndex 52
getEntryTerm
current commitIndex 51 lastIncludedIndex 49 snapshot exists ? true
follower server 0 commit index 52 command 5915242034089448743 
update server 1 's matchIndex from 52 to 52
update server 0 's matchIndex from 52 to 52
server 2 term 10 state 2(leader true)(heartFlag false)
nextIndex
53 || 53 || 53 || 
matchIndex
52 || 52 || 52 || 
append command 3298538443487064425
len(log) = 53
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 52
current commitIndex 52 lastIncludedIndex 49 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 52
current commitIndex 52 lastIncludedIndex 49 snapshot exists ? true
update server 1 's matchIndex from 52 to 53
update server 0 's matchIndex from 52 to 53
getEntryTerm
leader server 2 commit index 53 command 3298538443487064425
server 0 term 10 state 0(leader false)(heartFlag true)
server 1 term 10 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 53
getEntryTerm
current commitIndex 52 lastIncludedIndex 49 snapshot exists ? true
follower server 1 commit index 53 command 3298538443487064425 
server 0 receives appendEntry from leader 2 prevLogIndex 53
getEntryTerm
current commitIndex 52 lastIncludedIndex 49 snapshot exists ? true
follower server 0 commit index 53 command 3298538443487064425 
update server 1 's matchIndex from 53 to 53
update server 0 's matchIndex from 53 to 53
append command 3693919761283380222
len(log) = 54
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 53
current commitIndex 53 lastIncludedIndex 49 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 53
current commitIndex 53 lastIncludedIndex 49 snapshot exists ? true
update server 1 's matchIndex from 53 to 54
update server 0 's matchIndex from 53 to 54
getEntryTerm
leader server 2 commit index 54 command 3693919761283380222
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 54
getEntryTerm
current commitIndex 53 lastIncludedIndex 49 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 54
getEntryTerm
current commitIndex 53 lastIncludedIndex 49 snapshot exists ? true
follower server 0 commit index 54 command 3693919761283380222 
follower server 1 commit index 54 command 3693919761283380222 
update server 0 's matchIndex from 54 to 54
update server 1 's matchIndex from 54 to 54
append command 489474753024815416
len(log) = 55
server 2 term 10 state 2(leader true)(heartFlag false)
nextIndex
55 || 55 || 56 || 
matchIndex
54 || 54 || 55 || 
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 54
current commitIndex 54 lastIncludedIndex 49 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 54
current commitIndex 54 lastIncludedIndex 49 snapshot exists ? true
update server 0 's matchIndex from 54 to 55
update server 1 's matchIndex from 54 to 55
getEntryTerm
leader server 2 commit index 55 command 489474753024815416
server 1 term 10 state 0(leader false)(heartFlag true)
server 0 term 10 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 55
getEntryTerm
current commitIndex 54 lastIncludedIndex 49 snapshot exists ? true
follower server 1 commit index 55 command 489474753024815416 
server 0 receives appendEntry from leader 2 prevLogIndex 55
getEntryTerm
current commitIndex 54 lastIncludedIndex 49 snapshot exists ? true
follower server 0 commit index 55 command 489474753024815416 
update server 1 's matchIndex from 55 to 55
update server 0 's matchIndex from 55 to 55
append command 8491632802783119075
len(log) = 56
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 55
current commitIndex 55 lastIncludedIndex 49 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 55
current commitIndex 55 lastIncludedIndex 49 snapshot exists ? true
update server 0 's matchIndex from 55 to 56
update server 1 's matchIndex from 55 to 56
getEntryTerm
leader server 2 commit index 56 command 8491632802783119075
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 56
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 56
getEntryTerm
current commitIndex 55 lastIncludedIndex 49 snapshot exists ? true
follower server 0 commit index 56 command 8491632802783119075 
current commitIndex 55 lastIncludedIndex 49 snapshot exists ? true
follower server 1 commit index 56 command 8491632802783119075 
update server 0 's matchIndex from 56 to 56
update server 1 's matchIndex from 56 to 56
append command 2633671611513936715
len(log) = 57
server 2 term 10 state 2(leader true)(heartFlag false)
nextIndex
57 || 57 || 58 || 
matchIndex
56 || 56 || 57 || 
server 1 term 10 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 56
current commitIndex 56 lastIncludedIndex 49 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 56
current commitIndex 56 lastIncludedIndex 49 snapshot exists ? true
update server 1 's matchIndex from 56 to 57
update server 0 's matchIndex from 56 to 57
getEntryTerm
leader server 2 commit index 57 command 2633671611513936715
server 0 term 10 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 57
getEntryTerm
current commitIndex 56 lastIncludedIndex 49 snapshot exists ? true
follower server 1 commit index 57 command 2633671611513936715 
server 0 receives appendEntry from leader 2 prevLogIndex 57
getEntryTerm
current commitIndex 56 lastIncludedIndex 49 snapshot exists ? true
follower server 0 commit index 57 command 2633671611513936715 
update server 1 's matchIndex from 57 to 57
update server 0 's matchIndex from 57 to 57
append command 1588260711271542550
len(log) = 58
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 57
current commitIndex 57 lastIncludedIndex 49 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 57
current commitIndex 57 lastIncludedIndex 49 snapshot exists ? true
update server 1 's matchIndex from 57 to 58
update server 0 's matchIndex from 57 to 58
getEntryTerm
leader server 2 commit index 58 command 1588260711271542550
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 58
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 58
getEntryTerm
current commitIndex 57 lastIncludedIndex 49 snapshot exists ? true
follower server 0 commit index 58 command 1588260711271542550 
current commitIndex 57 lastIncludedIndex 49 snapshot exists ? true
follower server 1 commit index 58 command 1588260711271542550 
update server 0 's matchIndex from 58 to 58
update server 1 's matchIndex from 58 to 58
append command 7103655011839517304
len(log) = 59
server 1 term 10 state 0(leader false)(heartFlag true)
server 2 term 10 state 2(leader true)(heartFlag false)
nextIndex
59 || 59 || 60 || 
matchIndex
58 || 58 || 59 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 58
current commitIndex 58 lastIncludedIndex 49 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 58
current commitIndex 58 lastIncludedIndex 49 snapshot exists ? true
update server 1 's matchIndex from 58 to 59
update server 0 's matchIndex from 58 to 59
getEntryTerm
leader server 2 commit index 59 command 7103655011839517304
server 2 takes snopshot and discards logs before index 59
getEntryTerm
discard index before 59(included)
server 2 finished snopshot
server 0 term 10 state 0(leader false)(heartFlag true)
server 0 receives appendEntry from leader 2 prevLogIndex 59
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 59
getEntryTerm
current commitIndex 58 lastIncludedIndex 49 snapshot exists ? true
follower server 1 commit index 59 command 7103655011839517304 
current commitIndex 58 lastIncludedIndex 49 snapshot exists ? true
follower server 0 commit index 59 command 7103655011839517304 
update server 1 's matchIndex from 59 to 59
server 1 takes snopshot and discards logs before index 59
getEntryTerm
server 0 takes snopshot and discards logs before index 59
getEntryTerm
discard index before 59(included)
discard index before 59(included)
server 0 finished snopshot
server 1 finished snopshot
update server 0 's matchIndex from 59 to 59
server 0 read form stored snapshot
server 0 recover from snopshot
server 0 finishes recovery
server 0 term 10 state 0(leader false)(heartFlag false)
server 0 term 10 doesn't hear any heartbeat
server 0 convert to candidate
server 1 read form stored snapshot
server 1 recover from snopshot
server 1 finishes recovery
server 1 term 10 state 0(leader false)(heartFlag false)
server 1 term 10 doesn't hear any heartbeat
server 1 convert to candidate
server 2 read form stored snapshot
server 2 recover from snopshot
server 2 finishes recovery
server 2 term 10 state 0(leader false)(heartFlag false)
server 2 term 10 doesn't hear any heartbeat
server 0 already has a voteFor 0 but not candidate 1
server 0 grant false for candidate 1's requestVote
server 2 convert to candidate
server 0 already has a voteFor 0 but not candidate 2
server 0 grant false for candidate 2's requestVote
server 1 already has a voteFor 1 but not candidate 2
server 1 grant false for candidate 2's requestVote
server 2 term 11 ElectionTimeOut
server 2 convert to candidate
server 1 convert to follower
server 0 convert to follower
server 1 grant true for candidate 2's requestVote
server 0 grant true for candidate 2's requestVote
server 2 convert to leader
server 2 term 12 send appendEntries
server 1 receives appendEntry from leader 2 prevLogIndex 59
current commitIndex 59 lastIncludedIndex 59 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 59
current commitIndex 59 lastIncludedIndex 59 snapshot exists ? true
update server 1 's matchIndex from 0 to 59
update server 0 's matchIndex from 0 to 59
append command 6345786236013081266
len(log) = 60
server 1 receives appendEntry from leader 2 prevLogIndex 59
current commitIndex 59 lastIncludedIndex 59 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 59
current commitIndex 59 lastIncludedIndex 59 snapshot exists ? true
update server 1 's matchIndex from 59 to 60
update server 0 's matchIndex from 59 to 60
getEntryTerm
leader server 2 commit index 60 command 6345786236013081266
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 60
getEntryTerm
current commitIndex 59 lastIncludedIndex 59 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 60
getEntryTerm
current commitIndex 59 lastIncludedIndex 59 snapshot exists ? true
follower server 1 commit index 60 command 6345786236013081266 
follower server 0 commit index 60 command 6345786236013081266 
update server 1 's matchIndex from 60 to 60
update server 0 's matchIndex from 60 to 60
  ... Passed --  13.9  3  298   83188   60
server 0 no snopshot yet
server 0 term 0 state 0(leader false)(heartFlag false)
server 0 term 0 doesn't hear any heartbeat
server 0 convert to candidate
server 1 no snopshot yet
server 1 term 0 state 0(leader false)(heartFlag false)
server 1 term 0 doesn't hear any heartbeat
server 1 convert to candidate
server 2 no snopshot yet
server 2 term 0 state 0(leader false)(heartFlag false)
server 2 term 0 doesn't hear any heartbeat
server 2 convert to candidate
Test (2D): snapshot initialization after crash ...
server 1 already has a voteFor 1 but not candidate 2
server 1 grant false for candidate 2's requestVote
server 0 already has a voteFor 0 but not candidate 2
server 0 grant false for candidate 2's requestVote
server 0 term 1 ElectionTimeOut
server 0 convert to candidate
server 2 convert to follower
server 2 grant true for candidate 0's requestVote
server 1 convert to follower
server 1 grant true for candidate 0's requestVote
server 0 convert to leader
server 0 term 2 send appendEntries
server 2 receives appendEntry from leader 0 prevLogIndex 0
current commitIndex 0 lastIncludedIndex 0 snapshot exists ? false
server 1 receives appendEntry from leader 0 prevLogIndex 0
current commitIndex 0 lastIncludedIndex 0 snapshot exists ? false
update server 2 's matchIndex from 0 to 0
update server 1 's matchIndex from 0 to 0
append command 635631549773125383
len(log) = 1
server 2 receives appendEntry from leader 0 prevLogIndex 0
current commitIndex 0 lastIncludedIndex 0 snapshot exists ? false
server 1 receives appendEntry from leader 0 prevLogIndex 0
current commitIndex 0 lastIncludedIndex 0 snapshot exists ? false
update server 2 's matchIndex from 0 to 1
update server 1 's matchIndex from 0 to 1
getEntryTerm
leader server 0 commit index 1 command 635631549773125383
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 1
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 1
getEntryTerm
current commitIndex 0 lastIncludedIndex 0 snapshot exists ? false
follower server 1 commit index 1 command 635631549773125383 
current commitIndex 0 lastIncludedIndex 0 snapshot exists ? false
follower server 2 commit index 1 command 635631549773125383 
update server 1 's matchIndex from 1 to 1
update server 2 's matchIndex from 1 to 1
append command 2895534641659345847
len(log) = 2
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 1
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
server 1 receives appendEntry from leader 0 prevLogIndex 1
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
update server 2 's matchIndex from 1 to 2
update server 1 's matchIndex from 1 to 2
getEntryTerm
leader server 0 commit index 2 command 2895534641659345847
server 1 term 2 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 2
getEntryTerm
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
server 1 receives appendEntry from leader 0 prevLogIndex 2
getEntryTerm
current commitIndex 1 lastIncludedIndex 0 snapshot exists ? false
follower server 2 commit index 2 command 2895534641659345847 
follower server 1 commit index 2 command 2895534641659345847 
update server 1 's matchIndex from 2 to 2
update server 2 's matchIndex from 2 to 2
append command 2138231643913281019
len(log) = 3
server 2 term 2 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 2
current commitIndex 2 lastIncludedIndex 0 snapshot exists ? false
server 1 receives appendEntry from leader 0 prevLogIndex 2
current commitIndex 2 lastIncludedIndex 0 snapshot exists ? false
update server 2 's matchIndex from 2 to 3
update server 1 's matchIndex from 2 to 3
getEntryTerm
leader server 0 commit index 3 command 2138231643913281019
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 3
getEntryTerm
current commitIndex 2 lastIncludedIndex 0 snapshot exists ? false
server 2 receives appendEntry from leader 0 prevLogIndex 3
getEntryTerm
follower server 1 commit index 3 command 2138231643913281019 
current commitIndex 2 lastIncludedIndex 0 snapshot exists ? false
follower server 2 commit index 3 command 2138231643913281019 
update server 1 's matchIndex from 3 to 3
update server 2 's matchIndex from 3 to 3
append command 7010422816793007122
len(log) = 4
server 0 term 2 state 2(leader true)(heartFlag false)
nextIndex
5 || 4 || 4 || 
matchIndex
4 || 3 || 3 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 3
current commitIndex 3 lastIncludedIndex 0 snapshot exists ? false
server 2 receives appendEntry from leader 0 prevLogIndex 3
current commitIndex 3 lastIncludedIndex 0 snapshot exists ? false
update server 1 's matchIndex from 3 to 4
update server 2 's matchIndex from 3 to 4
getEntryTerm
leader server 0 commit index 4 command 7010422816793007122
server 1 term 2 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 4
getEntryTerm
current commitIndex 3 lastIncludedIndex 0 snapshot exists ? false
follower server 2 commit index 4 command 7010422816793007122 
server 1 receives appendEntry from leader 0 prevLogIndex 4
getEntryTerm
current commitIndex 3 lastIncludedIndex 0 snapshot exists ? false
follower server 1 commit index 4 command 7010422816793007122 
update server 2 's matchIndex from 4 to 4
update server 1 's matchIndex from 4 to 4
append command 1501902742252703007
len(log) = 5
server 2 term 2 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 4
current commitIndex 4 lastIncludedIndex 0 snapshot exists ? false
server 1 receives appendEntry from leader 0 prevLogIndex 4
current commitIndex 4 lastIncludedIndex 0 snapshot exists ? false
update server 2 's matchIndex from 4 to 5
update server 1 's matchIndex from 4 to 5
getEntryTerm
leader server 0 commit index 5 command 1501902742252703007
server 0 term 2 state 2(leader true)(heartFlag false)
nextIndex
6 || 6 || 6 || 
matchIndex
5 || 5 || 5 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 5
getEntryTerm
current commitIndex 4 lastIncludedIndex 0 snapshot exists ? false
follower server 2 commit index 5 command 1501902742252703007 
server 1 receives appendEntry from leader 0 prevLogIndex 5
getEntryTerm
current commitIndex 4 lastIncludedIndex 0 snapshot exists ? false
update server 2 's matchIndex from 5 to 5
follower server 1 commit index 5 command 1501902742252703007 
update server 1 's matchIndex from 5 to 5
append command 927826835245796241
len(log) = 6
server 1 term 2 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 5
current commitIndex 5 lastIncludedIndex 0 snapshot exists ? false
server 1 receives appendEntry from leader 0 prevLogIndex 5
current commitIndex 5 lastIncludedIndex 0 snapshot exists ? false
update server 2 's matchIndex from 5 to 6
update server 1 's matchIndex from 5 to 6
getEntryTerm
leader server 0 commit index 6 command 927826835245796241
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 6
getEntryTerm
current commitIndex 5 lastIncludedIndex 0 snapshot exists ? false
follower server 2 commit index 6 command 927826835245796241 
server 1 receives appendEntry from leader 0 prevLogIndex 6
getEntryTerm
current commitIndex 5 lastIncludedIndex 0 snapshot exists ? false
update server 2 's matchIndex from 6 to 6
follower server 1 commit index 6 command 927826835245796241 
update server 1 's matchIndex from 6 to 6
append command 2944060578638867591
len(log) = 7
server 2 term 2 state 0(leader false)(heartFlag true)
server 0 term 2 state 2(leader true)(heartFlag false)
nextIndex
8 || 7 || 7 || 
matchIndex
7 || 6 || 6 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 6
current commitIndex 6 lastIncludedIndex 0 snapshot exists ? false
server 1 receives appendEntry from leader 0 prevLogIndex 6
current commitIndex 6 lastIncludedIndex 0 snapshot exists ? false
update server 2 's matchIndex from 6 to 7
update server 1 's matchIndex from 6 to 7
getEntryTerm
leader server 0 commit index 7 command 2944060578638867591
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 7
getEntryTerm
current commitIndex 6 lastIncludedIndex 0 snapshot exists ? false
follower server 2 commit index 7 command 2944060578638867591 
server 1 receives appendEntry from leader 0 prevLogIndex 7
getEntryTerm
current commitIndex 6 lastIncludedIndex 0 snapshot exists ? false
follower server 1 commit index 7 command 2944060578638867591 
update server 2 's matchIndex from 7 to 7
update server 1 's matchIndex from 7 to 7
append command 253485192222315106
len(log) = 8
server 1 term 2 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 7
current commitIndex 7 lastIncludedIndex 0 snapshot exists ? false
server 2 receives appendEntry from leader 0 prevLogIndex 7
current commitIndex 7 lastIncludedIndex 0 snapshot exists ? false
update server 1 's matchIndex from 7 to 8
update server 2 's matchIndex from 7 to 8
getEntryTerm
leader server 0 commit index 8 command 253485192222315106
server 0 term 2 state 2(leader true)(heartFlag false)
nextIndex
9 || 9 || 9 || 
matchIndex
8 || 8 || 8 || 
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 8
getEntryTerm
current commitIndex 7 lastIncludedIndex 0 snapshot exists ? false
server 1 receives appendEntry from leader 0 prevLogIndex 8
getEntryTerm
follower server 2 commit index 8 command 253485192222315106 
current commitIndex 7 lastIncludedIndex 0 snapshot exists ? false
follower server 1 commit index 8 command 253485192222315106 
update server 2 's matchIndex from 8 to 8
update server 1 's matchIndex from 8 to 8
append command 4809075984778095915
len(log) = 9
server 2 term 2 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 8
current commitIndex 8 lastIncludedIndex 0 snapshot exists ? false
server 1 receives appendEntry from leader 0 prevLogIndex 8
current commitIndex 8 lastIncludedIndex 0 snapshot exists ? false
update server 2 's matchIndex from 8 to 9
update server 1 's matchIndex from 8 to 9
getEntryTerm
leader server 0 commit index 9 command 4809075984778095915
server 0 takes snopshot and discards logs before index 9
getEntryTerm
discard index before 9(included)
server 0 finished snopshot
server 1 term 2 state 0(leader false)(heartFlag true)
server 2 receives appendEntry from leader 0 prevLogIndex 9
getEntryTerm
current commitIndex 8 lastIncludedIndex 0 snapshot exists ? false
follower server 2 commit index 9 command 4809075984778095915 
server 1 receives appendEntry from leader 0 prevLogIndex 9
getEntryTerm
current commitIndex 8 lastIncludedIndex 0 snapshot exists ? false
follower server 1 commit index 9 command 4809075984778095915 
server 2 takes snopshot and discards logs before index 9
getEntryTerm
discard index before 9(included)
update server 2 's matchIndex from 9 to 9
server 2 finished snopshot
server 1 takes snopshot and discards logs before index 9
getEntryTerm
discard index before 9(included)
server 1 finished snopshot
update server 1 's matchIndex from 9 to 9
append command 8462485772680610298
len(log) = 10
server 0 term 2 state 2(leader true)(heartFlag false)
nextIndex
11 || 10 || 10 || 
matchIndex
10 || 9 || 9 || 
server 2 receives appendEntry from leader 0 prevLogIndex 9
current commitIndex 9 lastIncludedIndex 9 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 9
current commitIndex 9 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 9 to 10
update server 1 's matchIndex from 9 to 10
getEntryTerm
leader server 0 commit index 10 command 8462485772680610298
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 10
getEntryTerm
current commitIndex 9 lastIncludedIndex 9 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 10
getEntryTerm
current commitIndex 9 lastIncludedIndex 9 snapshot exists ? true
follower server 1 commit index 10 command 8462485772680610298 
follower server 2 commit index 10 command 8462485772680610298 
update server 1 's matchIndex from 10 to 10
update server 2 's matchIndex from 10 to 10
append command 5486374922503070457
len(log) = 11
server 2 term 2 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 10
current commitIndex 10 lastIncludedIndex 9 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 10
current commitIndex 10 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 10 to 11
update server 1 's matchIndex from 10 to 11
getEntryTerm
leader server 0 commit index 11 command 5486374922503070457
server 1 term 2 state 0(leader false)(heartFlag true)
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 11
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 11
getEntryTerm
current commitIndex 10 lastIncludedIndex 9 snapshot exists ? true
current commitIndex 10 lastIncludedIndex 9 snapshot exists ? true
follower server 2 commit index 11 command 5486374922503070457 
follower server 1 commit index 11 command 5486374922503070457 
update server 2 's matchIndex from 11 to 11
update server 1 's matchIndex from 11 to 11
append command 1696424147705722113
len(log) = 12
server 0 term 2 state 2(leader true)(heartFlag false)
nextIndex
13 || 12 || 12 || 
matchIndex
12 || 11 || 11 || 
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 11
current commitIndex 11 lastIncludedIndex 9 snapshot exists ? true
update server 1 's matchIndex from 11 to 12
server 2 receives appendEntry from leader 0 prevLogIndex 11
current commitIndex 11 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 11 to 12
getEntryTerm
leader server 0 commit index 12 command 1696424147705722113
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 12
getEntryTerm
current commitIndex 11 lastIncludedIndex 9 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 12
getEntryTerm
follower server 2 commit index 12 command 1696424147705722113 
current commitIndex 11 lastIncludedIndex 9 snapshot exists ? true
follower server 1 commit index 12 command 1696424147705722113 
update server 2 's matchIndex from 12 to 12
update server 1 's matchIndex from 12 to 12
server 0 read form stored snapshot
server 0 recover from snopshot
server 0 finishes recovery
server 0 term 2 state 0(leader false)(heartFlag false)
server 0 term 2 doesn't hear any heartbeat
server 0 convert to candidate
getEntryTerm
getEntryTerm
server 1 read form stored snapshot
server 1 recover from snopshot
server 1 finishes recovery
server 1 term 2 state 0(leader false)(heartFlag false)
server 1 term 2 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
server 2 read form stored snapshot
server 2 recover from snopshot
server 2 finishes recovery
server 2 term 2 state 0(leader false)(heartFlag false)
server 2 term 2 doesn't hear any heartbeat
server 2 convert to candidate
getEntryTerm
getEntryTerm
getEntryTerm
server 0 already has a voteFor 0 but not candidate 1
server 0 grant false for candidate 1's requestVote
getEntryTerm
server 1 already has a voteFor 1 but not candidate 2
server 1 grant false for candidate 2's requestVote
getEntryTerm
server 0 already has a voteFor 0 but not candidate 2
server 0 grant false for candidate 2's requestVote
server 0 term 3 ElectionTimeOut
server 0 convert to candidate
getEntryTerm
getEntryTerm
server 2 convert to follower
server 1 convert to follower
getEntryTerm
server 2 grant true for candidate 0's requestVote
getEntryTerm
server 1 grant true for candidate 0's requestVote
server 0 convert to leader
server 0 term 4 send appendEntries
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 12
getEntryTerm
current commitIndex 9 lastIncludedIndex 9 snapshot exists ? true
server 1 receives appendEntry from leader 0 prevLogIndex 12
getEntryTerm
current commitIndex 9 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 0 to 12
update server 1 's matchIndex from 0 to 12
getEntryTerm
getEntryTerm
append command 7048223394778858916
len(log) = 13
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 0 prevLogIndex 12
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 12
getEntryTerm
current commitIndex 9 lastIncludedIndex 9 snapshot exists ? true
current commitIndex 9 lastIncludedIndex 9 snapshot exists ? true
update server 2 's matchIndex from 12 to 13
update server 1 's matchIndex from 12 to 13
getEntryTerm
leader server 0 commit index 10 command 8462485772680610298
leader server 0 commit index 11 command 5486374922503070457
leader server 0 commit index 12 command 1696424147705722113
leader server 0 commit index 13 command 7048223394778858916
getEntryTerm
getEntryTerm
server 2 receives appendEntry from leader 0 prevLogIndex 13
getEntryTerm
current commitIndex 9 lastIncludedIndex 9 snapshot exists ? true
follower server 2 commit index 10 command 8462485772680610298 
follower server 2 commit index 11 command 5486374922503070457 
server 1 receives appendEntry from leader 0 prevLogIndex 13
getEntryTerm
current commitIndex 9 lastIncludedIndex 9 snapshot exists ? true
follower server 1 commit index 10 command 8462485772680610298 
follower server 1 commit index 11 command 5486374922503070457 
follower server 1 commit index 12 command 1696424147705722113 
follower server 1 commit index 13 command 7048223394778858916 
follower server 2 commit index 12 command 1696424147705722113 
follower server 2 commit index 13 command 7048223394778858916 
update server 2 's matchIndex from 13 to 13
update server 1 's matchIndex from 13 to 13
server 0 read form stored snapshot
server 0 recover from snopshot
server 0 finishes recovery
server 0 term 4 state 0(leader false)(heartFlag false)
server 0 term 4 doesn't hear any heartbeat
server 0 convert to candidate
getEntryTerm
server 1 read form stored snapshot
getEntryTerm
server 1 recover from snopshot
server 1 finishes recovery
server 1 term 4 state 0(leader false)(heartFlag false)
server 1 term 4 doesn't hear any heartbeat
server 1 convert to candidate
getEntryTerm
getEntryTerm
getEntryTerm
server 2 read form stored snapshot
server 2 recover from snopshot
server 2 finishes recovery
server 1 already has a voteFor 1 but not candidate 0
server 1 grant false for candidate 0's requestVote
server 2 term 4 state 0(leader false)(heartFlag false)
server 2 term 4 doesn't hear any heartbeat
server 2 convert to candidate
getEntryTerm
server 0 already has a voteFor 0 but not candidate 1
getEntryTerm
server 0 grant false for candidate 1's requestVote
getEntryTerm
getEntryTerm
server 1 already has a voteFor 1 but not candidate 2
server 1 grant false for candidate 2's requestVote
getEntryTerm
server 0 already has a voteFor 0 but not candidate 2
server 0 grant false for candidate 2's requestVote
server 2 term 5 ElectionTimeOut
server 2 convert to candidate
getEntryTerm
getEntryTerm
server 1 convert to follower
server 0 convert to follower
getEntryTerm
server 1 grant true for candidate 2's requestVote
getEntryTerm
server 0 grant true for candidate 2's requestVote
server 2 convert to leader
server 2 term 6 send appendEntries
getEntryTerm
getEntryTerm
server 1 receives appendEntry from leader 2 prevLogIndex 13
getEntryTerm
current commitIndex 9 lastIncludedIndex 9 snapshot exists ? true
server 0 receives appendEntry from leader 2 prevLogIndex 13
getEntryTerm
current commitIndex 9 lastIncludedIndex 9 snapshot exists ? true
update server 1 's matchIndex from 0 to 13
update server 0 's matchIndex from 0 to 13
getEntryTerm
getEntryTerm
getEntryTerm
append command 1944885902260289308
len(log) = 14
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 13
getEntryTerm
current commitIndex 9 lastIncludedIndex 9 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 13
getEntryTerm
current commitIndex 9 lastIncludedIndex 9 snapshot exists ? true
update server 0 's matchIndex from 13 to 14
update server 1 's matchIndex from 13 to 14
getEntryTerm
leader server 2 commit index 10 command 8462485772680610298
leader server 2 commit index 11 command 5486374922503070457
leader server 2 commit index 12 command 1696424147705722113
leader server 2 commit index 13 command 7048223394778858916
leader server 2 commit index 14 command 1944885902260289308
getEntryTerm
getEntryTerm
server 0 receives appendEntry from leader 2 prevLogIndex 14
getEntryTerm
current commitIndex 9 lastIncludedIndex 9 snapshot exists ? true
server 1 receives appendEntry from leader 2 prevLogIndex 14
getEntryTerm
follower server 0 commit index 10 command 8462485772680610298 
follower server 0 commit index 11 command 5486374922503070457 
current commitIndex 9 lastIncludedIndex 9 snapshot exists ? true
follower server 1 commit index 10 command 8462485772680610298 
follower server 1 commit index 11 command 5486374922503070457 
follower server 1 commit index 12 command 1696424147705722113 
follower server 1 commit index 13 command 7048223394778858916 
follower server 0 commit index 12 command 1696424147705722113 
follower server 0 commit index 13 command 7048223394778858916 
follower server 1 commit index 14 command 1944885902260289308 
follower server 0 commit index 14 command 1944885902260289308 
update server 1 's matchIndex from 14 to 14
update server 0 's matchIndex from 14 to 14
  ... Passed --   3.7  3   82   21604   14
PASS
ok  	6.5840/raft	320.129s
